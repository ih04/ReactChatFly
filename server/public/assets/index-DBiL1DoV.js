(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var Td={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function cS(){if(A_)return cl;A_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return cl.Fragment=t,cl.jsx=n,cl.jsxs=n,cl}var S_;function hS(){return S_||(S_=1,Td.exports=cS()),Td.exports}var Rn=hS(),Ad={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function fS(){if(b_)return Tt;b_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,it={};function W(C,Y,et){this.props=C,this.context=Y,this.refs=it,this.updater=et||G}W.prototype.isReactComponent={},W.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},W.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function At(){}At.prototype=W.prototype;function Et(C,Y,et){this.props=C,this.context=Y,this.refs=it,this.updater=et||G}var ft=Et.prototype=new At;ft.constructor=Et,Z(ft,W.prototype),ft.isPureReactComponent=!0;var xt=Array.isArray,yt={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function N(C,Y,et,$,lt,wt){return et=wt.ref,{$$typeof:s,type:C,key:Y,ref:et!==void 0?et:null,props:wt}}function S(C,Y){return N(C.type,Y,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function O(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return Y[et]})}var M=/\/+/g;function k(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):Y.toString(36)}function R(){}function Ve(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,Y,et,$,lt){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var gt=!1;if(C===null)gt=!0;else switch(wt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(C.$$typeof){case s:case t:gt=!0;break;case A:return gt=C._init,re(gt(C._payload),Y,et,$,lt)}}if(gt)return lt=lt(C),gt=$===""?"."+k(C,0):$,xt(lt)?(et="",gt!=null&&(et=gt.replace(M,"$&/")+"/"),re(lt,Y,et,"",function(zn){return zn})):lt!=null&&(w(lt)&&(lt=S(lt,et+(lt.key==null||C&&C.key===lt.key?"":(""+lt.key).replace(M,"$&/")+"/")+gt)),Y.push(lt)),1;gt=0;var Re=$===""?".":$+":";if(xt(C))for(var Zt=0;Zt<C.length;Zt++)$=C[Zt],wt=Re+k($,Zt),gt+=re($,Y,et,wt,lt);else if(Zt=x(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!($=C.next()).done;)$=$.value,wt=Re+k($,Zt++),gt+=re($,Y,et,wt,lt);else if(wt==="object"){if(typeof C.then=="function")return re(Ve(C),Y,et,$,lt);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return gt}function H(C,Y,et){if(C==null)return C;var $=[],lt=0;return re(C,$,"","",function(wt){return Y.call(et,wt,lt++)}),$}function tt(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var at=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Bt(){}return Tt.Children={map:H,forEach:function(C,Y,et){H(C,function(){Y.apply(this,arguments)},et)},count:function(C){var Y=0;return H(C,function(){Y++}),Y},toArray:function(C){return H(C,function(Y){return Y})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Tt.Component=W,Tt.Fragment=n,Tt.Profiler=o,Tt.PureComponent=Et,Tt.StrictMode=r,Tt.Suspense=g,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return yt.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cloneElement=function(C,Y,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var $=Z({},C.props),lt=C.key,wt=void 0;if(Y!=null)for(gt in Y.ref!==void 0&&(wt=void 0),Y.key!==void 0&&(lt=""+Y.key),Y)!Nt.call(Y,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&Y.ref===void 0||($[gt]=Y[gt]);var gt=arguments.length-2;if(gt===1)$.children=et;else if(1<gt){for(var Re=Array(gt),Zt=0;Zt<gt;Zt++)Re[Zt]=arguments[Zt+2];$.children=Re}return N(C.type,lt,void 0,void 0,wt,$)},Tt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Tt.createElement=function(C,Y,et){var $,lt={},wt=null;if(Y!=null)for($ in Y.key!==void 0&&(wt=""+Y.key),Y)Nt.call(Y,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(lt[$]=Y[$]);var gt=arguments.length-2;if(gt===1)lt.children=et;else if(1<gt){for(var Re=Array(gt),Zt=0;Zt<gt;Zt++)Re[Zt]=arguments[Zt+2];lt.children=Re}if(C&&C.defaultProps)for($ in gt=C.defaultProps,gt)lt[$]===void 0&&(lt[$]=gt[$]);return N(C,wt,void 0,void 0,null,lt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:m,render:C}},Tt.isValidElement=w,Tt.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},Tt.memo=function(C,Y){return{$$typeof:_,type:C,compare:Y===void 0?null:Y}},Tt.startTransition=function(C){var Y=yt.T,et={};yt.T=et;try{var $=C(),lt=yt.S;lt!==null&&lt(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Bt,at)}catch(wt){at(wt)}finally{yt.T=Y}},Tt.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},Tt.use=function(C){return yt.H.use(C)},Tt.useActionState=function(C,Y,et){return yt.H.useActionState(C,Y,et)},Tt.useCallback=function(C,Y){return yt.H.useCallback(C,Y)},Tt.useContext=function(C){return yt.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,Y){return yt.H.useDeferredValue(C,Y)},Tt.useEffect=function(C,Y,et){var $=yt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(C,Y)},Tt.useId=function(){return yt.H.useId()},Tt.useImperativeHandle=function(C,Y,et){return yt.H.useImperativeHandle(C,Y,et)},Tt.useInsertionEffect=function(C,Y){return yt.H.useInsertionEffect(C,Y)},Tt.useLayoutEffect=function(C,Y){return yt.H.useLayoutEffect(C,Y)},Tt.useMemo=function(C,Y){return yt.H.useMemo(C,Y)},Tt.useOptimistic=function(C,Y){return yt.H.useOptimistic(C,Y)},Tt.useReducer=function(C,Y,et){return yt.H.useReducer(C,Y,et)},Tt.useRef=function(C){return yt.H.useRef(C)},Tt.useState=function(C){return yt.H.useState(C)},Tt.useSyncExternalStore=function(C,Y,et){return yt.H.useSyncExternalStore(C,Y,et)},Tt.useTransition=function(){return yt.H.useTransition()},Tt.version="19.1.0",Tt}var w_;function _p(){return w_||(w_=1,Ad.exports=fS()),Ad.exports}var Ca=_p(),Sd={exports:{}},hl={},bd={exports:{}},wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function dS(){return R_||(R_=1,function(s){function t(H,tt){var at=H.length;H.push(tt);t:for(;0<at;){var Bt=at-1>>>1,C=H[Bt];if(0<o(C,tt))H[Bt]=tt,H[at]=C,at=Bt;else break t}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var tt=H[0],at=H.pop();if(at!==tt){H[0]=at;t:for(var Bt=0,C=H.length,Y=C>>>1;Bt<Y;){var et=2*(Bt+1)-1,$=H[et],lt=et+1,wt=H[lt];if(0>o($,at))lt<C&&0>o(wt,$)?(H[Bt]=wt,H[lt]=at,Bt=lt):(H[Bt]=$,H[et]=at,Bt=et);else if(lt<C&&0>o(wt,at))H[Bt]=wt,H[lt]=at,Bt=lt;else break t}}return tt}function o(H,tt){var at=H.sortIndex-tt.sortIndex;return at!==0?at:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var g=[],_=[],A=1,I=null,x=3,G=!1,Z=!1,it=!1,W=!1,At=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function xt(H){for(var tt=n(_);tt!==null;){if(tt.callback===null)r(_);else if(tt.startTime<=H)r(_),tt.sortIndex=tt.expirationTime,t(g,tt);else break;tt=n(_)}}function yt(H){if(it=!1,xt(H),!Z)if(n(g)!==null)Z=!0,Nt||(Nt=!0,k());else{var tt=n(_);tt!==null&&re(yt,tt.startTime-H)}}var Nt=!1,N=-1,S=5,w=-1;function O(){return W?!0:!(s.unstable_now()-w<S)}function M(){if(W=!1,Nt){var H=s.unstable_now();w=H;var tt=!0;try{t:{Z=!1,it&&(it=!1,Et(N),N=-1),G=!0;var at=x;try{e:{for(xt(H),I=n(g);I!==null&&!(I.expirationTime>H&&O());){var Bt=I.callback;if(typeof Bt=="function"){I.callback=null,x=I.priorityLevel;var C=Bt(I.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){I.callback=C,xt(H),tt=!0;break e}I===n(g)&&r(g),xt(H)}else r(g);I=n(g)}if(I!==null)tt=!0;else{var Y=n(_);Y!==null&&re(yt,Y.startTime-H),tt=!1}}break t}finally{I=null,x=at,G=!1}tt=void 0}}finally{tt?k():Nt=!1}}}var k;if(typeof ft=="function")k=function(){ft(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ve=R.port2;R.port1.onmessage=M,k=function(){Ve.postMessage(null)}}else k=function(){At(M,0)};function re(H,tt){N=At(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(H){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var at=x;x=tt;try{return H()}finally{x=at}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var at=x;x=H;try{return tt()}finally{x=at}},s.unstable_scheduleCallback=function(H,tt,at){var Bt=s.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Bt+at:Bt):at=Bt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=at+C,H={id:A++,callback:tt,priorityLevel:H,startTime:at,expirationTime:C,sortIndex:-1},at>Bt?(H.sortIndex=at,t(_,H),n(g)===null&&H===n(_)&&(it?(Et(N),N=-1):it=!0,re(yt,at-Bt))):(H.sortIndex=C,t(g,H),Z||G||(Z=!0,Nt||(Nt=!0,k()))),H},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(H){var tt=x;return function(){var at=x;x=tt;try{return H.apply(this,arguments)}finally{x=at}}}}(wd)),wd}var I_;function pS(){return I_||(I_=1,bd.exports=dS()),bd.exports}var Rd={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function mS(){if(C_)return Ge;C_=1;var s=_p();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:g,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ge.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,A)},Ge.flushSync=function(g){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=_,r.p=A,r.d.f()}},Ge.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},Ge.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Ge.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,I=m(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:x,fetchPriority:G}):A==="script"&&r.d.X(g,{crossOrigin:I,integrity:x,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ge.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=m(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},Ge.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=m(A,_.crossOrigin);r.d.L(g,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ge.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=m(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},Ge.requestFormReset=function(g){r.d.r(g)},Ge.unstable_batchedUpdates=function(g,_){return g(_)},Ge.useFormState=function(g,_,A){return d.H.useFormState(g,_,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var D_;function gS(){if(D_)return Rd.exports;D_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Rd.exports=mS(),Rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function yS(){if(O_)return hl;O_=1;var s=pS(),t=_p(),n=gS();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(r(188))}function g(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),e;if(f===l)return m(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=f;break}if(E===l){v=!0,l=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,l=h;break}if(E===l){v=!0,l=f,a=h;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),Et=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case W:return"Profiler";case it:return"StrictMode";case yt:return"Suspense";case Nt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ft:return(e.displayName||"Context")+".Provider";case Et:return(e._context.displayName||"Context")+".Consumer";case xt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:Ve(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Ve(e(i))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Bt=[],C=-1;function Y(e){return{current:e}}function et(e){0>C||(e.current=Bt[C],Bt[C]=null,C--)}function $(e,i){C++,Bt[C]=e.current,e.current=i}var lt=Y(null),wt=Y(null),gt=Y(null),Re=Y(null);function Zt(e,i){switch($(gt,i),$(wt,e),$(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?$y(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=$y(i),e=Zy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(lt),$(lt,e)}function zn(){et(lt),et(wt),et(gt)}function Qi(e){e.memoizedState!==null&&$(Re,e);var i=lt.current,a=Zy(i,e.type);i!==a&&($(wt,e),$(lt,a))}function fi(e){wt.current===e&&(et(lt),et(wt)),Re.current===e&&(et(Re),sl._currentValue=at)}var qr=Object.prototype.hasOwnProperty,Hr=s.unstable_scheduleCallback,jr=s.unstable_cancelCallback,eo=s.unstable_shouldYield,Bl=s.unstable_requestPaint,dn=s.unstable_now,Eh=s.unstable_getCurrentPriorityLevel,no=s.unstable_ImmediatePriority,Ps=s.unstable_UserBlockingPriority,Gr=s.unstable_NormalPriority,Th=s.unstable_LowPriority,xs=s.unstable_IdlePriority,io=s.log,zl=s.unstable_setDisableYieldValue,se=null,jt=null;function rn(e){if(typeof io=="function"&&zl(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(se,e)}catch{}}var He=Math.clz32?Math.clz32:Fr,ql=Math.log,Ah=Math.LN2;function Fr(e){return e>>>=0,e===0?32:31-(ql(e)/Ah|0)|0}var Kr=256,Qr=4194304;function Dn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ls(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Dn(l):(v&=E,v!==0?h=Dn(v):a||(a=E&~e,a!==0&&(h=Dn(a))))):(E=l&~f,E!==0?h=Dn(E):v!==0?h=Dn(v):a||(a=l&~e,a!==0&&(h=Dn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Yr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ro(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(){var e=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),e}function ao(){var e=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),e}function di(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function pi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oo(e,i,a,l,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var j=31-He(a),K=1<<j;E[j]=0,b[j]=-1;var B=L[j];if(B!==null)for(L[j]=null,j=0;j<B.length;j++){var z=B[j];z!==null&&(z.lane&=-536870913)}a&=~K}l!==0&&qn(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-He(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function lo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-He(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:g_(e.type))}function Hl(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var Jt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Jt,fe="__reactProps$"+Jt,pn="__reactContainer$"+Jt,uo="__reactEvents$"+Jt,Sh="__reactListeners$"+Jt,$i="__reactHandles$"+Jt,jl="__reactResources$"+Jt,Xr="__reactMarker$"+Jt;function Zi(e){delete e[_e],delete e[fe],delete e[uo],delete e[Sh],delete e[$i]}function mi(e){var i=e[_e];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pn]||a[_e]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=e_(e);e!==null;){if(a=e[_e])return a;e=e_(e)}return i}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[_e]||e[pn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Xe(e){var i=e[jl];return i||(i=e[jl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function le(e){e[Xr]=!0}var co=new Set,zs={};function On(e,i){gi(e,i),gi(e+"Capture",i)}function gi(e,i){for(zs[e]=i,e=0;e<i.length;e++)co.add(i[e])}var Gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},$r={};function Kl(e){return qr.call($r,e)?!0:qr.call(Fl,e)?!1:Gl.test(e)?$r[e]=!0:(Fl[e]=!0,!1)}function Wi(e,i,a){if(Kl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ke(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Zr,Ql;function yi(e){if(Zr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Zr=i&&i[1]||"",Ql=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+Ql}var qs=!1;function Hs(e,i){if(!e||qs)return"";qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(z){var B=z}Reflect.construct(e,[],K)}else{try{K.call()}catch(z){B=z}e.call(K.prototype)}}else{try{throw Error()}catch(z){B=z}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(z){if(z&&B&&typeof z.stack=="string")return[z.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===b.length||h===L.length)for(l=b.length-1,h=L.length-1;1<=l&&0<=h&&b[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(b[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||b[l]!==L[h]){var j=`
`+b[l].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=l&&0<=h);break}}}finally{qs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?yi(a):""}function ho(e){switch(e.tag){case 26:case 27:case 5:return yi(e.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Hs(e.type,!1);case 11:return Hs(e.type.render,!1);case 1:return Hs(e.type,!0);case 31:return yi("Activity");default:return""}}function js(e){try{var i="";do i+=ho(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bh(e){var i=fo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Gs(e){e._valueTracker||(e._valueTracker=bh(e))}function po(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=fo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wh=/[\n"\\]/g;function de(e){return e.replace(wh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function sn(e,i,a,l,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Ji(e,v,$e(i)):a!=null?Ji(e,v,$e(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function Jr(e,i,a,l,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+$e(a):"",i=i!=null?""+$e(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ji(e,i,a){i==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function _i(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+$e(a):""}function ts(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(re(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=$e(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function mn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||es.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function mo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Yl(e,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Yl(e,f,i[f])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ih=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(e){return Ih.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vi=null;function gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,Ti=null;function yo(e){var i=Hn(e);if(i&&(e=i.stateNode)){var a=e[fe]||null;t:switch(e=i.stateNode,i.type){case"input":if(sn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[fe]||null;if(!h)throw Error(r(90));sn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&po(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&_i(e,!!a.multiple,i,!1)}}}var Fn=!1;function Xl(e,i,a){if(Fn)return e(i,a);Fn=!0;try{var l=e(i);return l}finally{if(Fn=!1,(Ei!==null||Ti!==null)&&(Hu(),Ei&&(i=Ei,e=Ti,Ti=Ei=null,yo(i),e)))for(i=0;i<e.length;i++)yo(e[i])}}function ns(e,i){var a=e.stateNode;if(a===null)return null;var l=a[fe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Nn)try{var is={};Object.defineProperty(is,"passive",{get:function(){yn=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{yn=!1}var Kn=null,tr=null,Ai=null;function _o(){if(Ai)return Ai;var e,i=tr,a=i.length,l,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[f-l];l++);return Ai=h.slice(e,1<l?1-l:void 0)}function Qn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function vo(){return!1}function Ie(e){function i(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:vo,this.isPropagationStopped=vo,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Ie(qt),rs=A({},qt,{view:0,detail:0}),$l=Ie(rs),Qs,Ys,Xn,ss=A({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(Qs=e.screenX-Xn.screenX,Ys=e.screenY-Xn.screenY):Ys=Qs=0,Xn=e),Qs)},movementY:function(e){return"movementY"in e?e.movementY:Ys}}),_n=Ie(ss),Zl=A({},ss,{dataTransfer:0}),Ch=Ie(Zl),as=A({},rs,{relatedTarget:0}),Xs=Ie(as),Eo=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),$s=Ie(Eo),Wl=A({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zs=Ie(Wl),Dh=A({},qt,{data:0}),To=Ie(Dh),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ao(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=tu[e])?!!i[e]:!1}function ls(){return Ao}var eu=A({},rs,{key:function(e){if(e.key){var i=os[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ws=Ie(eu),nu=A({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Ie(nu),Si=A({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),iu=Ie(Si),ru=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),su=Ie(ru),au=A({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Js=Ie(au),Ze=A({},qt,{newState:0,oldState:0}),ou=Ie(Ze),lu=[9,13,27,32],$n=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var p=Nn&&"TextEvent"in window&&!u,y=Nn&&(!$n||u&&8<u&&11>=u),T=" ",U=!1;function q(e,i){switch(e){case"keyup":return lu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function ve(e,i){switch(e){case"compositionend":return J(i);case"keypress":return i.which!==32?null:(U=!0,T);case"textInput":return e=i.data,e===T&&U?null:e;default:return null}}function kt(e,i){if(Vt)return e==="compositionend"||!$n&&q(e,i)?(e=_o(),Ai=tr=Kn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ce[e.type]:i==="textarea"}function bi(e,i,a,l){Ei?Ti?Ti.push(l):Ti=[l]:Ei=l,i=Yu(i,"onChange"),0<i.length&&(a=new Ks("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,Zn=null;function bo(e){Fy(e,0)}function uu(e){var i=jn(e);if(po(i))return e}function fm(e,i){if(e==="change")return i}var dm=!1;if(Nn){var Oh;if(Nn){var Nh="oninput"in document;if(!Nh){var pm=document.createElement("div");pm.setAttribute("oninput","return;"),Nh=typeof pm.oninput=="function"}Oh=Nh}else Oh=!1;dm=Oh&&(!document.documentMode||9<document.documentMode)}function mm(){Ue&&(Ue.detachEvent("onpropertychange",gm),Zn=Ue=null)}function gm(e){if(e.propertyName==="value"&&uu(Zn)){var i=[];bi(i,Zn,e,gn(e)),Xl(bo,i)}}function z0(e,i,a){e==="focusin"?(mm(),Ue=i,Zn=a,Ue.attachEvent("onpropertychange",gm)):e==="focusout"&&mm()}function q0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(Zn)}function H0(e,i){if(e==="click")return uu(i)}function j0(e,i){if(e==="input"||e==="change")return uu(i)}function G0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var an=typeof Object.is=="function"?Object.is:G0;function wo(e,i){if(an(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!qr.call(i,h)||!an(e[h],i[h]))return!1}return!0}function ym(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _m(e,i){var a=ym(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ym(a)}}function vm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?vm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Em(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Wr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Wr(e.document)}return i}function Mh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var F0=Nn&&"documentMode"in document&&11>=document.documentMode,ta=null,Vh=null,Ro=null,kh=!1;function Tm(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||ta==null||ta!==Wr(l)||(l=ta,"selectionStart"in l&&Mh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ro&&wo(Ro,l)||(Ro=l,l=Yu(Vh,"onSelect"),0<l.length&&(i=new Ks("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ta)))}function us(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ea={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},Uh={},Am={};Nn&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function cs(e){if(Uh[e])return Uh[e];if(!ea[e])return e;var i=ea[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Am)return Uh[e]=i[a];return e}var Sm=cs("animationend"),bm=cs("animationiteration"),wm=cs("animationstart"),K0=cs("transitionrun"),Q0=cs("transitionstart"),Y0=cs("transitioncancel"),Rm=cs("transitionend"),Im=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Mn(e,i){Im.set(e,i),On(i,[e])}var Cm=new WeakMap;function vn(e,i){if(typeof e=="object"&&e!==null){var a=Cm.get(e);return a!==void 0?a:(i={value:e,source:i,stack:js(i)},Cm.set(e,i),i)}return{value:e,source:i,stack:js(i)}}var En=[],na=0,xh=0;function cu(){for(var e=na,i=xh=na=0;i<e;){var a=En[i];En[i++]=null;var l=En[i];En[i++]=null;var h=En[i];En[i++]=null;var f=En[i];if(En[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Dm(a,h,f)}}function hu(e,i,a,l){En[na++]=e,En[na++]=i,En[na++]=a,En[na++]=l,xh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Lh(e,i,a,l){return hu(e,i,a,l),fu(e)}function ia(e,i){return hu(e,null,null,i),fu(e)}function Dm(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-He(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),f):null}function fu(e){if(50<Zo)throw Zo=0,Ff=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ra={};function X0(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,i,a,l){return new X0(e,i,a,l)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,i){var a=e.alternate;return a===null?(a=on(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Om(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function du(e,i,a,l,h,f){var v=0;if(l=e,typeof e=="function")Bh(e)&&(v=1);else if(typeof e=="string")v=ZA(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=on(31,a,i,h),e.elementType=w,e.lanes=f,e;case Z:return hs(a.children,h,f,i);case it:v=8,h|=24;break;case W:return e=on(12,a,i,h|2),e.elementType=W,e.lanes=f,e;case yt:return e=on(13,a,i,h),e.elementType=yt,e.lanes=f,e;case Nt:return e=on(19,a,i,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case At:case ft:v=10;break t;case Et:v=9;break t;case xt:v=11;break t;case N:v=14;break t;case S:v=16,l=null;break t}v=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=on(v,a,i,h),i.elementType=e,i.type=l,i.lanes=f,i}function hs(e,i,a,l){return e=on(7,e,l,i),e.lanes=a,e}function zh(e,i,a){return e=on(6,e,null,i),e.lanes=a,e}function qh(e,i,a){return i=on(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var sa=[],aa=0,pu=null,mu=0,Tn=[],An=0,fs=null,Ri=1,Ii="";function ds(e,i){sa[aa++]=mu,sa[aa++]=pu,pu=e,mu=i}function Nm(e,i,a){Tn[An++]=Ri,Tn[An++]=Ii,Tn[An++]=fs,fs=e;var l=Ri;e=Ii;var h=32-He(l)-1;l&=~(1<<h),a+=1;var f=32-He(i)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ri=1<<32-He(i)+h|a<<h|l,Ii=f+e}else Ri=1<<f|a<<h|l,Ii=e}function Hh(e){e.return!==null&&(ds(e,1),Nm(e,1,0))}function jh(e){for(;e===pu;)pu=sa[--aa],sa[aa]=null,mu=sa[--aa],sa[aa]=null;for(;e===fs;)fs=Tn[--An],Tn[An]=null,Ii=Tn[--An],Tn[An]=null,Ri=Tn[--An],Tn[An]=null}var We=null,ae=null,zt=!1,ps=null,Wn=!1,Gh=Error(r(519));function ms(e){var i=Error(r(418,""));throw Do(vn(i,e)),Gh}function Mm(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[_e]=e,i[fe]=l,a){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(a=0;a<Jo.length;a++)Ct(Jo[a],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),Jr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Gs(i);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),ts(i,l.value,l.defaultValue,l.children),Gs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Xy(i.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),l.onScroll!=null&&Ct("scroll",i),l.onScrollEnd!=null&&Ct("scrollend",i),l.onClick!=null&&(i.onclick=Xu),i=!0):i=!1,i||ms(e)}function Vm(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:We=We.return}}function Io(e){if(e!==We)return!1;if(!zt)return Vm(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||od(e.type,e.memoizedProps)),a=!a),a&&ae&&ms(e),Vm(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ae=kn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ae=null}}else i===27?(i=ae,gr(e.type)?(e=hd,hd=null,ae=e):ae=i):ae=We?kn(e.stateNode.nextSibling):null;return!0}function Co(){ae=We=null,zt=!1}function km(){var e=ps;return e!==null&&(en===null?en=e:en.push.apply(en,e),ps=null),e}function Do(e){ps===null?ps=[e]:ps.push(e)}var Fh=Y(null),gs=null,Ci=null;function er(e,i,a){$(Fh,i._currentValue),i._currentValue=a}function Di(e){e._currentValue=Fh.current,et(Fh)}function Kh(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Qh(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Kh(f.return,a,e),l||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Kh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Oo(e,i,a,l){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=h.type;an(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Re.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}h=h.return}e!==null&&Qh(i,e,a,l),i.flags|=262144}function gu(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ys(e){gs=e,Ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return Um(gs,e)}function yu(e,i){return gs===null&&ys(e),Um(e,i)}function Um(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ci===null){if(e===null)throw Error(r(308));Ci=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ci=Ci.next=i;return a}var $0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Z0=s.unstable_scheduleCallback,W0=s.unstable_NormalPriority,Te={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new $0,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&Z0(W0,function(){e.controller.abort()})}var Mo=null,Xh=0,oa=0,la=null;function J0(e,i){if(Mo===null){var a=Mo=[];Xh=0,oa=Wf(),la={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xh++,i.then(Pm,Pm),i}function Pm(){if(--Xh===0&&Mo!==null){la!==null&&(la.status="fulfilled");var e=Mo;Mo=null,oa=0,la=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function tA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xm=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&J0(e,i),xm!==null&&xm(e,i)};var _s=Y(null);function $h(){var e=_s.current;return e!==null?e:Wt.pooledCache}function _u(e,i){i===null?$(_s,_s.current):$(_s,i.pool)}function Lm(){var e=$h();return e===null?null:{parent:Te._currentValue,pool:e}}var Vo=Error(r(460)),Bm=Error(r(474)),vu=Error(r(542)),Zh={then:function(){}};function zm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Eu(){}function qm(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Eu,Eu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,jm(e),e;default:if(typeof i.status=="string")i.then(Eu,Eu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,jm(e),e}throw ko=i,Vo}}var ko=null;function Hm(){if(ko===null)throw Error(r(459));var e=ko;return ko=null,e}function jm(e){if(e===Vo||e===vu)throw Error(r(483))}var nr=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=fu(e),Dm(e,null,a),i}return hu(e,l,i,a),fu(e)}function Uo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,lo(e,a)}}function tf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var ef=!1;function Po(){if(ef){var e=la;if(e!==null)throw e}}function xo(e,i,a,l){ef=!1;var h=e.updateQueue;nr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?f=L:v.next=L,v=b;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==v&&(E===null?j.firstBaseUpdate=L:E.next=L,j.lastBaseUpdate=b))}if(f!==null){var K=h.baseState;v=0,j=L=b=null,E=f;do{var B=E.lane&-536870913,z=B!==E.lane;if(z?(Ut&B)===B:(l&B)===B){B!==0&&B===oa&&(ef=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=e,ct=E;B=i;var Xt=a;switch(ct.tag){case 1:if(dt=ct.payload,typeof dt=="function"){K=dt.call(Xt,K,B);break t}K=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ct.payload,B=typeof dt=="function"?dt.call(Xt,K,B):dt,B==null)break t;K=A({},K,B);break t;case 2:nr=!0}}B=E.callback,B!==null&&(e.flags|=64,z&&(e.flags|=8192),z=h.callbacks,z===null?h.callbacks=[B]:z.push(B))}else z={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(L=j=z,b=K):j=j.next=z,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;z=E,E=z.next,z.next=null,h.lastBaseUpdate=z,h.shared.pending=null}}while(!0);j===null&&(b=K),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=j,f===null&&(h.shared.lanes=0),fr|=v,e.lanes=v,e.memoizedState=K}}function Gm(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Fm(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Gm(a[e],i)}var ua=Y(null),Tu=Y(0);function Km(e,i){e=Pi,$(Tu,e),$(ua,i),Pi=e|i.baseLanes}function nf(){$(Tu,Pi),$(ua,ua.current)}function rf(){Pi=Tu.current,et(ua),et(Tu)}var sr=0,St=null,Qt=null,pe=null,Au=!1,ca=!1,vs=!1,Su=0,Lo=0,ha=null,eA=0;function ue(){throw Error(r(321))}function sf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!an(e[a],i[a]))return!1;return!0}function af(e,i,a,l,h,f){return sr=f,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?Dg:Og,vs=!1,f=a(l,h),vs=!1,ca&&(f=Ym(i,a,l,h)),Qm(e),f}function Qm(e){H.H=Du;var i=Qt!==null&&Qt.next!==null;if(sr=0,pe=Qt=St=null,Au=!1,Lo=0,ha=null,i)throw Error(r(300));e===null||De||(e=e.dependencies,e!==null&&gu(e)&&(De=!0))}function Ym(e,i,a,l){St=e;var h=0;do{if(ca&&(ha=null),Lo=0,ca=!1,25<=h)throw Error(r(301));if(h+=1,pe=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=lA,f=i(a,l)}while(ca);return f}function nA(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Bo(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(St.flags|=1024),i}function of(){var e=Su!==0;return Su=0,e}function lf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function uf(e){if(Au){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Au=!1}sr=0,pe=Qt=St=null,ca=!1,Lo=Su=0,ha=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?St.memoizedState=pe=e:pe=pe.next=e,pe}function me(){if(Qt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=pe===null?St.memoizedState:pe.next;if(i!==null)pe=i,Qt=e;else{if(e===null)throw St.alternate===null?Error(r(467)):Error(r(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},pe===null?St.memoizedState=pe=e:pe=pe.next=e}return pe}function cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(e){var i=Lo;return Lo+=1,ha===null&&(ha=[]),e=qm(ha,e,i),i=St,(pe===null?i.memoizedState:pe.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Dg:Og),e}function bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===ft)return je(e)}throw Error(r(438,String(e)))}function hf(e){var i=null,a=St.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cf(),St.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Oi(e,i){return typeof i=="function"?i(e):i}function wu(e){var i=me();return ff(i,Qt,e)}function ff(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,b=null,L=i,j=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(Ut&K)===K:(sr&K)===K){var B=L.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===oa&&(j=!0);else if((sr&B)===B){L=L.next,B===oa&&(j=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=K,v=f):b=b.next=K,St.lanes|=B,fr|=B;K=L.action,vs&&a(f,K),f=L.hasEagerState?L.eagerState:a(f,K)}else B={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=B,v=f):b=b.next=B,St.lanes|=K,fr|=K;L=L.next}while(L!==null&&L!==i);if(b===null?v=f:b.next=E,!an(f,e.memoizedState)&&(De=!0,j&&(a=la,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=b,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function df(e){var i=me(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);an(f,i.memoizedState)||(De=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Xm(e,i,a){var l=St,h=me(),f=zt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!an((Qt||h).memoizedState,a);v&&(h.memoizedState=a,De=!0),h=h.queue;var E=Wm.bind(null,l,h,e);if(zo(2048,8,E,[e]),h.getSnapshot!==i||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,fa(9,Ru(),Zm.bind(null,l,h,a,i),null),Wt===null)throw Error(r(349));f||(sr&124)!==0||$m(l,i,a)}return a}function $m(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=St.updateQueue,i===null?(i=cf(),St.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Zm(e,i,a,l){i.value=a,i.getSnapshot=l,Jm(i)&&tg(e)}function Wm(e,i,a){return a(function(){Jm(i)&&tg(e)})}function Jm(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!an(e,a)}catch{return!0}}function tg(e){var i=ia(e,2);i!==null&&fn(i,e,2)}function pf(e){var i=Je();if(typeof e=="function"){var a=e;if(e=a(),vs){rn(!0);try{a()}finally{rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},i}function eg(e,i,a,l){return e.baseState=a,ff(e,Qt,typeof l=="function"?l:Oi)}function iA(e,i,a,l,h){if(Cu(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,ng(i,f)):(f.next=a.next,i.pending=a.next=f)}}function ng(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var f=H.T,v={};H.T=v;try{var E=a(h,l),b=H.S;b!==null&&b(v,E),ig(e,i,E)}catch(L){mf(e,i,L)}finally{H.T=f}}else try{f=a(h,l),ig(e,i,f)}catch(L){mf(e,i,L)}}function ig(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){rg(e,i,l)},function(l){return mf(e,i,l)}):rg(e,i,a)}function rg(e,i,a){i.status="fulfilled",i.value=a,sg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ng(e,a)))}function mf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,sg(i),i=i.next;while(i!==l)}e.action=null}function sg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ag(e,i){return i}function og(e,i){if(zt){var a=Wt.formState;if(a!==null){t:{var l=St;if(zt){if(ae){e:{for(var h=ae,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=kn(h.nextSibling),l=h.data==="F!";break t}}ms(l)}l=!1}l&&(i=a[0])}}return a=Je(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:i},a.queue=l,a=Rg.bind(null,St,l),l.dispatch=a,l=pf(!1),f=Ef.bind(null,St,!1,l.queue),l=Je(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=iA.bind(null,St,h,f,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function lg(e){var i=me();return ug(i,Qt,e)}function ug(e,i,a){if(i=ff(e,i,ag)[0],e=wu(Oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Bo(i)}catch(v){throw v===Vo?vu:v}else l=i;i=me();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(St.flags|=2048,fa(9,Ru(),rA.bind(null,h,a),null)),[l,f,e]}function rA(e,i){e.action=i}function cg(e){var i=me(),a=Qt;if(a!==null)return ug(i,a,e);me(),i=i.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function fa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=St.updateQueue,i===null&&(i=cf(),St.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Ru(){return{destroy:void 0,resource:void 0}}function hg(){return me().memoizedState}function Iu(e,i,a,l){var h=Je();l=l===void 0?null:l,St.flags|=e,h.memoizedState=fa(1|i,Ru(),a,l)}function zo(e,i,a,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&sf(l,Qt.memoizedState.deps)?h.memoizedState=fa(i,f,a,l):(St.flags|=e,h.memoizedState=fa(1|i,f,a,l))}function fg(e,i){Iu(8390656,8,e,i)}function dg(e,i){zo(2048,8,e,i)}function pg(e,i){return zo(4,2,e,i)}function mg(e,i){return zo(4,4,e,i)}function gg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function yg(e,i,a){a=a!=null?a.concat([e]):null,zo(4,4,gg.bind(null,i,e),a)}function gf(){}function _g(e,i){var a=me();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&sf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function vg(e,i){var a=me();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&sf(i,l[1]))return l[0];if(l=e(),vs){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[l,i],l}function yf(e,i,a){return a===void 0||(sr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Ay(),St.lanes|=e,fr|=e,a)}function Eg(e,i,a,l){return an(a,i)?a:ua.current!==null?(e=yf(e,a,l),an(e,i)||(De=!0),e):(sr&42)===0?(De=!0,e.memoizedState=a):(e=Ay(),St.lanes|=e,fr|=e,i)}function Tg(e,i,a,l,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,Ef(e,!1,i,a);try{var b=h(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=tA(b,l);qo(e,i,j,hn(e))}else qo(e,i,l,hn(e))}catch(K){qo(e,i,{then:function(){},status:"rejected",reason:K},hn())}finally{tt.p=f,H.T=v}}function sA(){}function _f(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=Ag(e).queue;Tg(e,h,i,at,a===null?sA:function(){return Sg(e),a(l)})}function Ag(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:at},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Sg(e){var i=Ag(e).next.queue;qo(e,i,{},hn())}function vf(){return je(sl)}function bg(){return me().memoizedState}function wg(){return me().memoizedState}function aA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=hn();e=ir(a);var l=rr(i,e,a);l!==null&&(fn(l,i,a),Uo(l,i,a)),i={cache:Yh()},e.payload=i;return}i=i.return}}function oA(e,i,a){var l=hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(e)?Ig(i,a):(a=Lh(e,i,a,l),a!==null&&(fn(a,e,l),Cg(a,i,l)))}function Rg(e,i,a){var l=hn();qo(e,i,a,l)}function qo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))Ig(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,an(E,v))return hu(e,i,h,0),Wt===null&&cu(),!1}catch{}finally{}if(a=Lh(e,i,h,l),a!==null)return fn(a,e,l),Cg(a,i,l),!0}return!1}function Ef(e,i,a,l){if(l={lane:2,revertLane:Wf(),action:l,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(i)throw Error(r(479))}else i=Lh(e,a,l,2),i!==null&&fn(i,e,2)}function Cu(e){var i=e.alternate;return e===St||i!==null&&i===St}function Ig(e,i){ca=Au=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Cg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,lo(e,a)}}var Du={readContext:je,use:bu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Dg={readContext:je,use:bu,useCallback:function(e,i){return Je().memoizedState=[e,i===void 0?null:i],e},useContext:je,useEffect:fg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Iu(4194308,4,gg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Iu(4194308,4,e,i)},useInsertionEffect:function(e,i){Iu(4,2,e,i)},useMemo:function(e,i){var a=Je();i=i===void 0?null:i;var l=e();if(vs){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=Je();if(a!==void 0){var h=a(i);if(vs){rn(!0);try{a(i)}finally{rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=oA.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var i=Je();return e={current:e},i.memoizedState=e},useState:function(e){e=pf(e);var i=e.queue,a=Rg.bind(null,St,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:gf,useDeferredValue:function(e,i){var a=Je();return yf(a,e,i)},useTransition:function(){var e=pf(!1);return e=Tg.bind(null,St,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=St,h=Je();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Wt===null)throw Error(r(349));(Ut&124)!==0||$m(l,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,fg(Wm.bind(null,l,f,e),[e]),l.flags|=2048,fa(9,Ru(),Zm.bind(null,l,f,a,i),null),a},useId:function(){var e=Je(),i=Wt.identifierPrefix;if(zt){var a=Ii,l=Ri;a=(l&~(1<<32-He(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Su++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=eA++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:vf,useFormState:og,useActionState:og,useOptimistic:function(e){var i=Je();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ef.bind(null,St,!0,a),a.dispatch=i,[e,i]},useMemoCache:hf,useCacheRefresh:function(){return Je().memoizedState=aA.bind(null,St)}},Og={readContext:je,use:bu,useCallback:_g,useContext:je,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:vg,useReducer:wu,useRef:hg,useState:function(){return wu(Oi)},useDebugValue:gf,useDeferredValue:function(e,i){var a=me();return Eg(a,Qt.memoizedState,e,i)},useTransition:function(){var e=wu(Oi)[0],i=me().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:Xm,useId:bg,useHostTransitionStatus:vf,useFormState:lg,useActionState:lg,useOptimistic:function(e,i){var a=me();return eg(a,Qt,e,i)},useMemoCache:hf,useCacheRefresh:wg},lA={readContext:je,use:bu,useCallback:_g,useContext:je,useEffect:dg,useImperativeHandle:yg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:vg,useReducer:df,useRef:hg,useState:function(){return df(Oi)},useDebugValue:gf,useDeferredValue:function(e,i){var a=me();return Qt===null?yf(a,e,i):Eg(a,Qt.memoizedState,e,i)},useTransition:function(){var e=df(Oi)[0],i=me().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:Xm,useId:bg,useHostTransitionStatus:vf,useFormState:cg,useActionState:cg,useOptimistic:function(e,i){var a=me();return Qt!==null?eg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hf,useCacheRefresh:wg},da=null,Ho=0;function Ou(e){var i=Ho;return Ho+=1,da===null&&(da=[]),qm(da,e,i)}function jo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Nu(e,i){throw i.$$typeof===I?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ng(e){var i=e._init;return i(e._payload)}function Mg(e){function i(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function a(V,D){if(!e)return null;for(;D!==null;)i(V,D),D=D.sibling;return null}function l(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=wi(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function v(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,F){return D===null||D.tag!==6?(D=zh(P,V.mode,F),D.return=V,D):(D=h(D,P),D.return=V,D)}function b(V,D,P,F){var rt=P.type;return rt===Z?j(V,D,P.props.children,F,P.key):D!==null&&(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Ng(rt)===D.type)?(D=h(D,P.props),jo(D,P),D.return=V,D):(D=du(P.type,P.key,P.props,null,V.mode,F),jo(D,P),D.return=V,D)}function L(V,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=qh(P,V.mode,F),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function j(V,D,P,F,rt){return D===null||D.tag!==7?(D=hs(P,V.mode,F,rt),D.return=V,D):(D=h(D,P),D.return=V,D)}function K(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=zh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return P=du(D.type,D.key,D.props,null,V.mode,P),jo(P,D),P.return=V,P;case G:return D=qh(D,V.mode,P),D.return=V,D;case S:var F=D._init;return D=F(D._payload),K(V,D,P)}if(re(D)||k(D))return D=hs(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return K(V,Ou(D),P);if(D.$$typeof===ft)return K(V,yu(V,D),P);Nu(V,D)}return null}function B(V,D,P,F){var rt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return rt!==null?null:E(V,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return P.key===rt?b(V,D,P,F):null;case G:return P.key===rt?L(V,D,P,F):null;case S:return rt=P._init,P=rt(P._payload),B(V,D,P,F)}if(re(P)||k(P))return rt!==null?null:j(V,D,P,F,null);if(typeof P.then=="function")return B(V,D,Ou(P),F);if(P.$$typeof===ft)return B(V,D,yu(V,P),F);Nu(V,P)}return null}function z(V,D,P,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return V=V.get(P)||null,E(D,V,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return V=V.get(F.key===null?P:F.key)||null,b(D,V,F,rt);case G:return V=V.get(F.key===null?P:F.key)||null,L(D,V,F,rt);case S:var Rt=F._init;return F=Rt(F._payload),z(V,D,P,F,rt)}if(re(F)||k(F))return V=V.get(P)||null,j(D,V,F,rt,null);if(typeof F.then=="function")return z(V,D,P,Ou(F),rt);if(F.$$typeof===ft)return z(V,D,P,yu(D,F),rt);Nu(D,F)}return null}function dt(V,D,P,F){for(var rt=null,Rt=null,st=D,ht=D=0,Ne=null;st!==null&&ht<P.length;ht++){st.index>ht?(Ne=st,st=null):Ne=st.sibling;var Lt=B(V,st,P[ht],F);if(Lt===null){st===null&&(st=Ne);break}e&&st&&Lt.alternate===null&&i(V,st),D=f(Lt,D,ht),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt,st=Ne}if(ht===P.length)return a(V,st),zt&&ds(V,ht),rt;if(st===null){for(;ht<P.length;ht++)st=K(V,P[ht],F),st!==null&&(D=f(st,D,ht),Rt===null?rt=st:Rt.sibling=st,Rt=st);return zt&&ds(V,ht),rt}for(st=l(st);ht<P.length;ht++)Ne=z(st,V,ht,P[ht],F),Ne!==null&&(e&&Ne.alternate!==null&&st.delete(Ne.key===null?ht:Ne.key),D=f(Ne,D,ht),Rt===null?rt=Ne:Rt.sibling=Ne,Rt=Ne);return e&&st.forEach(function(Tr){return i(V,Tr)}),zt&&ds(V,ht),rt}function ct(V,D,P,F){if(P==null)throw Error(r(151));for(var rt=null,Rt=null,st=D,ht=D=0,Ne=null,Lt=P.next();st!==null&&!Lt.done;ht++,Lt=P.next()){st.index>ht?(Ne=st,st=null):Ne=st.sibling;var Tr=B(V,st,Lt.value,F);if(Tr===null){st===null&&(st=Ne);break}e&&st&&Tr.alternate===null&&i(V,st),D=f(Tr,D,ht),Rt===null?rt=Tr:Rt.sibling=Tr,Rt=Tr,st=Ne}if(Lt.done)return a(V,st),zt&&ds(V,ht),rt;if(st===null){for(;!Lt.done;ht++,Lt=P.next())Lt=K(V,Lt.value,F),Lt!==null&&(D=f(Lt,D,ht),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt);return zt&&ds(V,ht),rt}for(st=l(st);!Lt.done;ht++,Lt=P.next())Lt=z(st,V,ht,Lt.value,F),Lt!==null&&(e&&Lt.alternate!==null&&st.delete(Lt.key===null?ht:Lt.key),D=f(Lt,D,ht),Rt===null?rt=Lt:Rt.sibling=Lt,Rt=Lt);return e&&st.forEach(function(uS){return i(V,uS)}),zt&&ds(V,ht),rt}function Xt(V,D,P,F){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case x:t:{for(var rt=P.key;D!==null;){if(D.key===rt){if(rt=P.type,rt===Z){if(D.tag===7){a(V,D.sibling),F=h(D,P.props.children),F.return=V,V=F;break t}}else if(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Ng(rt)===D.type){a(V,D.sibling),F=h(D,P.props),jo(F,P),F.return=V,V=F;break t}a(V,D);break}else i(V,D);D=D.sibling}P.type===Z?(F=hs(P.props.children,V.mode,F,P.key),F.return=V,V=F):(F=du(P.type,P.key,P.props,null,V.mode,F),jo(F,P),F.return=V,V=F)}return v(V);case G:t:{for(rt=P.key;D!==null;){if(D.key===rt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(V,D.sibling),F=h(D,P.children||[]),F.return=V,V=F;break t}else{a(V,D);break}else i(V,D);D=D.sibling}F=qh(P,V.mode,F),F.return=V,V=F}return v(V);case S:return rt=P._init,P=rt(P._payload),Xt(V,D,P,F)}if(re(P))return dt(V,D,P,F);if(k(P)){if(rt=k(P),typeof rt!="function")throw Error(r(150));return P=rt.call(P),ct(V,D,P,F)}if(typeof P.then=="function")return Xt(V,D,Ou(P),F);if(P.$$typeof===ft)return Xt(V,D,yu(V,P),F);Nu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(V,D.sibling),F=h(D,P),F.return=V,V=F):(a(V,D),F=zh(P,V.mode,F),F.return=V,V=F),v(V)):a(V,D)}return function(V,D,P,F){try{Ho=0;var rt=Xt(V,D,P,F);return da=null,rt}catch(st){if(st===Vo||st===vu)throw st;var Rt=on(29,st,null,V.mode);return Rt.lanes=F,Rt.return=V,Rt}finally{}}}var pa=Mg(!0),Vg=Mg(!1),Sn=Y(null),Jn=null;function ar(e){var i=e.alternate;$(Ae,Ae.current&1),$(Sn,e),Jn===null&&(i===null||ua.current!==null||i.memoizedState!==null)&&(Jn=e)}function kg(e){if(e.tag===22){if($(Ae,Ae.current),$(Sn,e),Jn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Jn=e)}}else or()}function or(){$(Ae,Ae.current),$(Sn,Sn.current)}function Ni(e){et(Sn),Jn===e&&(Jn=null),et(Ae)}var Ae=Y(0);function Mu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Tf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Af={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=hn(),h=ir(l);h.payload=i,a!=null&&(h.callback=a),i=rr(e,h,l),i!==null&&(fn(i,e,l),Uo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=hn(),h=ir(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=rr(e,h,l),i!==null&&(fn(i,e,l),Uo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=hn(),l=ir(a);l.tag=2,i!=null&&(l.callback=i),i=rr(e,l,a),i!==null&&(fn(i,e,a),Uo(i,e,a))}};function Ug(e,i,a,l,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):i.prototype&&i.prototype.isPureReactComponent?!wo(a,l)||!wo(h,f):!0}function Pg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Af.enqueueReplaceState(i,i.state,null)}function Es(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xg(e){Vu(e)}function Lg(e){console.error(e)}function Bg(e){Vu(e)}function ku(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function zg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(e,i,a){return a=ir(a),a.tag=3,a.payload={element:null},a.callback=function(){ku(e,i)},a}function qg(e){return e=ir(e),e.tag=3,e}function Hg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){zg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){zg(i,a,l),typeof h!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function uA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Oo(i,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 13:return Jn===null?Qf():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Zh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Xf(e,l,h)),!1;case 22:return a.flags|=65536,l===Zh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Xf(e,l,h)),!1}throw Error(r(435,a.tag))}return Xf(e,l,h),Qf(),!1}if(zt)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Gh&&(e=Error(r(422),{cause:l}),Do(vn(e,a)))):(l!==Gh&&(i=Error(r(423),{cause:l}),Do(vn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=vn(l,a),h=Sf(e.stateNode,l,h),tf(e,h),oe!==4&&(oe=2)),!1;var f=Error(r(520),{cause:l});if(f=vn(f,a),$o===null?$o=[f]:$o.push(f),oe!==4&&(oe=2),i===null)return!0;l=vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Sf(a.stateNode,l,e),tf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(dr===null||!dr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=qg(h),Hg(h,e,a,l),tf(a,h),!1}a=a.return}while(a!==null);return!1}var jg=Error(r(461)),De=!1;function Pe(e,i,a,l){i.child=e===null?Vg(i,null,a,l):pa(i,e.child,a,l)}function Gg(e,i,a,l,h){a=a.render;var f=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ys(i),l=af(e,i,a,v,f,h),E=of(),e!==null&&!De?(lf(e,i,h),Mi(e,i,h)):(zt&&E&&Hh(i),i.flags|=1,Pe(e,i,l,h),i.child)}function Fg(e,i,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Kg(e,i,f,l,h)):(e=du(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Nf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:wo,a(v,l)&&e.ref===i.ref)return Mi(e,i,h)}return i.flags|=1,e=wi(f,l),e.ref=i.ref,e.return=i,i.child=e}function Kg(e,i,a,l,h){if(e!==null){var f=e.memoizedProps;if(wo(f,l)&&e.ref===i.ref)if(De=!1,i.pendingProps=l=f,Nf(e,h))(e.flags&131072)!==0&&(De=!0);else return i.lanes=e.lanes,Mi(e,i,h)}return bf(e,i,a,l,h)}function Qg(e,i,a){var l=i.pendingProps,h=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return Yg(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(i,f!==null?f.cachePool:null),f!==null?Km(i,f):nf(),kg(i);else return i.lanes=i.childLanes=536870912,Yg(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(_u(i,f.cachePool),Km(i,f),or(),i.memoizedState=null):(e!==null&&_u(i,null),nf(),or());return Pe(e,i,h,a),i.child}function Yg(e,i,a,l){var h=$h();return h=h===null?null:{parent:Te._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&_u(i,null),nf(),kg(i),e!==null&&Oo(e,i,l,!0),null}function Uu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function bf(e,i,a,l,h){return ys(i),a=af(e,i,a,l,void 0,h),l=of(),e!==null&&!De?(lf(e,i,h),Mi(e,i,h)):(zt&&l&&Hh(i),i.flags|=1,Pe(e,i,a,h),i.child)}function Xg(e,i,a,l,h,f){return ys(i),i.updateQueue=null,a=Ym(i,l,a,h),Qm(e),l=of(),e!==null&&!De?(lf(e,i,f),Mi(e,i,f)):(zt&&l&&Hh(i),i.flags|=1,Pe(e,i,a,f),i.child)}function $g(e,i,a,l,h){if(ys(i),i.stateNode===null){var f=ra,v=a.contextType;typeof v=="object"&&v!==null&&(f=je(v)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Af,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Wh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?je(v):ra,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Tf(i,a,v,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Af.enqueueReplaceState(f,f.state,null),xo(i,l,f,h),Po(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=Es(a,E);f.props=b;var L=f.context,j=a.contextType;v=ra,typeof j=="object"&&j!==null&&(v=je(j));var K=a.getDerivedStateFromProps;j=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==v)&&Pg(i,f,l,v),nr=!1;var B=i.memoizedState;f.state=B,xo(i,l,f,h),Po(),L=i.memoizedState,E||B!==L||nr?(typeof K=="function"&&(Tf(i,a,K,l),L=i.memoizedState),(b=nr||Ug(i,a,b,l,B,L,v))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),f.props=l,f.state=L,f.context=v,l=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Jh(e,i),v=i.memoizedProps,j=Es(a,v),f.props=j,K=i.pendingProps,B=f.context,L=a.contextType,b=ra,typeof L=="object"&&L!==null&&(b=je(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||B!==b)&&Pg(i,f,l,b),nr=!1,B=i.memoizedState,f.state=B,xo(i,l,f,h),Po();var z=i.memoizedState;v!==K||B!==z||nr||e!==null&&e.dependencies!==null&&gu(e.dependencies)?(typeof E=="function"&&(Tf(i,a,E,l),z=i.memoizedState),(j=nr||Ug(i,a,j,l,B,z,b)||e!==null&&e.dependencies!==null&&gu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,z,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,z,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=z),f.props=l,f.state=z,f.context=b,l=j):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return f=l,Uu(e,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&l?(i.child=pa(i,e.child,null,h),i.child=pa(i,null,a,h)):Pe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Mi(e,i,h),e}function Zg(e,i,a,l){return Co(),i.flags|=256,Pe(e,i,a,l),i.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:Lm()}}function If(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=bn),e}function Wg(e,i,a){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?ar(i):or(),zt){var E=ae,b;if(b=E){t:{for(b=E,E=Wn;b.nodeType!==8;){if(!E){E=null;break t}if(b=kn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:fs!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},b=on(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,We=i,ae=null,b=!0):b=!1}b||ms(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return cd(E)?i.lanes=32:i.lanes=536870912,null;Ni(i)}return E=l.children,l=l.fallback,h?(or(),h=i.mode,E=Pu({mode:"hidden",children:E},h),l=hs(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Rf(a),h.childLanes=If(e,v,a),i.memoizedState=wf,l):(ar(i),Cf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(ar(i),i.flags&=-257,i=Df(e,i,a)):i.memoizedState!==null?(or(),i.child=e.child,i.flags|=128,i=null):(or(),h=l.fallback,E=i.mode,l=Pu({mode:"visible",children:l.children},E),h=hs(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,pa(i,e.child,null,a),l=i.child,l.memoizedState=Rf(a),l.childLanes=If(e,v,a),i.memoizedState=wf,i=h);else if(ar(i),cd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(r(419)),l.stack="",l.digest=v,Do({value:l,source:null,stack:null}),i=Df(e,i,a)}else if(De||Oo(e,i,a,!1),v=(a&e.childLanes)!==0,De||v){if(v=Wt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Yi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,ia(e,l),fn(v,e,l),jg;E.data==="$?"||Qf(),i=Df(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,ae=kn(E.nextSibling),We=i,zt=!0,ps=null,Wn=!1,e!==null&&(Tn[An++]=Ri,Tn[An++]=Ii,Tn[An++]=fs,Ri=e.id,Ii=e.overflow,fs=i),i=Cf(i,l.children),i.flags|=4096);return i}return h?(or(),h=l.fallback,E=i.mode,b=e.child,L=b.sibling,l=wi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=wi(L,h):(h=hs(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=Rf(a):(b=E.cachePool,b!==null?(L=Te._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Lm(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=If(e,v,a),i.memoizedState=wf,l):(ar(i),a=e.child,e=a.sibling,a=wi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Cf(e,i){return i=Pu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Pu(e,i){return e=on(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Df(e,i,a){return pa(i,e.child,null,a),e=Cf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Jg(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Kh(e.return,i,a)}function Of(e,i,a,l,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function ty(e,i,a){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(Pe(e,i,l.children,a),l=Ae.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jg(e,a,i);else if(e.tag===19)Jg(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch($(Ae,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Mu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Of(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Mu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Of(i,!0,a,null,f);break;case"together":Of(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),fr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Oo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=wi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=wi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Nf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&gu(e)))}function cA(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),er(i,Te,e.memoizedState.cache),Co();break;case 27:case 5:Qi(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:er(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ar(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wg(e,i,a):(ar(i),e=Mi(e,i,a),e!==null?e.sibling:null);ar(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Oo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ty(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(Ae,Ae.current),l)break;return null;case 22:case 23:return i.lanes=0,Qg(e,i,a);case 24:er(i,Te,e.memoizedState.cache)}return Mi(e,i,a)}function ey(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)De=!0;else{if(!Nf(e,a)&&(i.flags&128)===0)return De=!1,cA(e,i,a);De=(e.flags&131072)!==0}else De=!1,zt&&(i.flags&1048576)!==0&&Nm(i,mu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Bh(l)?(e=Es(l,e),i.tag=1,i=$g(null,i,l,e,a)):(i.tag=0,i=bf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===xt){i.tag=11,i=Gg(null,i,l,e,a);break t}else if(h===N){i.tag=14,i=Fg(null,i,l,e,a);break t}}throw i=Ve(l)||l,Error(r(306,i,""))}}return i;case 0:return bf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Es(l,i.pendingProps),$g(e,i,l,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,Jh(e,i),xo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,er(i,Te,l),l!==f.cache&&Qh(i,[Te],a,!0),Po(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Zg(e,i,l,a);break t}else if(l!==h){h=vn(Error(r(424)),i),Do(h),i=Zg(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=kn(e.firstChild),We=i,zt=!0,ps=null,Wn=!0,a=Vg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Co(),l===h){i=Mi(e,i,a);break t}Pe(e,i,l,a)}i=i.child}return i;case 26:return Uu(e,i),e===null?(a=s_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=$u(gt.current).createElement(a),l[_e]=i,l[fe]=e,Le(l,a,e),le(l),i.stateNode=l):i.memoizedState=s_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Qi(i),e===null&&zt&&(l=i.stateNode=n_(i.type,i.pendingProps,gt.current),We=i,Wn=!0,h=ae,gr(i.type)?(hd=h,ae=kn(l.firstChild)):ae=h),Pe(e,i,i.pendingProps.children,a),Uu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=ae)&&(l=LA(l,i.type,i.pendingProps,Wn),l!==null?(i.stateNode=l,We=i,ae=kn(l.firstChild),Wn=!1,h=!0):h=!1),h||ms(i)),Qi(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,od(h,f)?l=null:v!==null&&od(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=af(e,i,nA,null,null,a),sl._currentValue=h),Uu(e,i),Pe(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=ae)&&(a=BA(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,We=i,ae=null,e=!0):e=!1),e||ms(i)),null;case 13:return Wg(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=pa(i,null,l,a):Pe(e,i,l,a),i.child;case 11:return Gg(e,i,i.type,i.pendingProps,a);case 7:return Pe(e,i,i.pendingProps,a),i.child;case 8:return Pe(e,i,i.pendingProps.children,a),i.child;case 12:return Pe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,er(i,i.type,l.value),Pe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ys(i),h=je(h),l=l(h),i.flags|=1,Pe(e,i,l,a),i.child;case 14:return Fg(e,i,i.type,i.pendingProps,a);case 15:return Kg(e,i,i.type,i.pendingProps,a);case 19:return ty(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Pu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=wi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Qg(e,i,a);case 24:return ys(i),l=je(Te),e===null?(h=$h(),h===null&&(h=Wt,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:l,cache:h},Wh(i),er(i,Te,h)):((e.lanes&a)!==0&&(Jh(e,i),xo(i,null,null,a),Po()),h=e.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),er(i,Te,l)):(l=f.cache,er(i,Te,l),l!==h.cache&&Qh(i,[Te],a,!0))),Pe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Vi(e){e.flags|=4}function ny(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c_(i)){if(i=Sn.current,i!==null&&((Ut&4194048)===Ut?Jn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==Jn))throw ko=Zh,Bm;e.flags|=8192}}function xu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ao():536870912,e.lanes|=i,_a|=i)}function Go(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function hA(e,i,a){var l=i.pendingProps;switch(jh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Di(Te),zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Io(i)?Vi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,km())),ne(i),null;case 26:return a=i.memoizedState,e===null?(Vi(i),a!==null?(ne(i),ny(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Vi(i),ne(i),ny(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==l&&Vi(i),ne(i),i.flags&=-16777217),null;case 27:fi(i),a=gt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ne(i),null}e=lt.current,Io(i)?Mm(i):(e=n_(h,l,a),i.stateNode=e,Vi(i))}return ne(i),null;case 5:if(fi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ne(i),null}if(e=lt.current,Io(i))Mm(i);else{switch(h=$u(gt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[_e]=i,e[fe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Le(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Vi(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Vi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=gt.current,Io(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[_e]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Xy(e.nodeValue,a)),e||ms(i)}else e=$u(e).createTextNode(l),e[_e]=i,i.stateNode=e}return ne(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Io(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[_e]=i}else Co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=km(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ni(i),i):(Ni(i),null)}if(Ni(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),xu(i,i.updateQueue),ne(i),null;case 4:return zn(),e===null&&nd(i.stateNode.containerInfo),ne(i),null;case 10:return Di(i.type),ne(i),null;case 19:if(et(Ae),h=i.memoizedState,h===null)return ne(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)Go(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Mu(e),f!==null){for(i.flags|=128,Go(h,!1),e=f.updateQueue,i.updateQueue=e,xu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Om(a,e),a=a.sibling;return $(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&dn()>zu&&(i.flags|=128,l=!0,Go(h,!1),i.lanes=4194304)}else{if(!l)if(e=Mu(f),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,xu(i,e),Go(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!zt)return ne(i),null}else 2*dn()-h.renderingStartTime>zu&&a!==536870912&&(i.flags|=128,l=!0,Go(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=dn(),i.sibling=null,e=Ae.current,$(Ae,l?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Ni(i),rf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&xu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&et(_s),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Di(Te),ne(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function fA(e,i){switch(jh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Di(Te),zn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return fi(i),null;case 13:if(Ni(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Co()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return et(Ae),null;case 4:return zn(),null;case 10:return Di(i.type),null;case 22:case 23:return Ni(i),rf(),e!==null&&et(_s),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Di(Te),null;case 25:return null;default:return null}}function iy(e,i){switch(jh(i),i.tag){case 3:Di(Te),zn();break;case 26:case 27:case 5:fi(i);break;case 4:zn();break;case 13:Ni(i);break;case 19:et(Ae);break;case 10:Di(i.type);break;case 22:case 23:Ni(i),rf(),e!==null&&et(_s);break;case 24:Di(Te)}}function Fo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function lr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,L=E;try{L()}catch(j){$t(h,b,j)}}}l=l.next}while(l!==f)}}catch(j){$t(i,i.return,j)}}function ry(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Fm(i,a)}catch(l){$t(e,e.return,l)}}}function sy(e,i,a){a.props=Es(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function Ko(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function ti(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function ay(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Mf(e,i,a){try{var l=e.stateNode;VA(l,e.type,a,i),l[fe]=i}catch(h){$t(e,e.return,h)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gr(e.type)||e.tag===4}function Vf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xu));else if(l!==4&&(l===27&&gr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(kf(e,i,a),e=e.sibling;e!==null;)kf(e,i,a),e=e.sibling}function Lu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&gr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Lu(e,i,a),e=e.sibling;e!==null;)Lu(e,i,a),e=e.sibling}function ly(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Le(i,l,a),i[_e]=e,i[fe]=a}catch(f){$t(e,e.return,f)}}var ki=!1,ce=!1,Uf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function dA(e,i){if(e=e.containerInfo,sd=nc,e=Em(e),Mh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,j=0,K=e,B=null;e:for(;;){for(var z;K!==a||h!==0&&K.nodeType!==3||(E=v+h),K!==f||l!==0&&K.nodeType!==3||(b=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(z=K.firstChild)!==null;)B=K,K=z;for(;;){if(K===e)break e;if(B===a&&++L===h&&(E=v),B===f&&++j===l&&(b=v),(z=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=z}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(ad={focusedElem:e,selectionRange:a},nc=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var dt=Es(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(dt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ct){$t(a,a.return,ct)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)ud(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}}function cy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ur(e,a),l&4&&Fo(5,a);break;case 1:if(ur(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Es(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&ry(a),l&512&&Ko(a,a.return);break;case 3:if(ur(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Fm(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&l&4&&ly(a);case 26:case 5:ur(e,a),i===null&&l&4&&ay(a),l&512&&Ko(a,a.return);break;case 12:ur(e,a);break;case 13:ur(e,a),l&4&&dy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=AA.bind(null,a),zA(e,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||ce,h=ki;var f=ce;ki=l,(ce=i)&&!f?cr(e,a,(a.subtreeFlags&8772)!==0):ur(e,a),ki=h,ce=f}break;case 30:break;default:ur(e,a)}}function hy(e){var i=e.alternate;i!==null&&(e.alternate=null,hy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Zi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,tn=!1;function Ui(e,i,a){for(a=a.child;a!==null;)fy(e,i,a),a=a.sibling}function fy(e,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:ce||ti(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||ti(a,i);var l=te,h=tn;gr(a.type)&&(te=a.stateNode,tn=!1),Ui(e,i,a),el(a.stateNode),te=l,tn=h;break;case 5:ce||ti(a,i);case 6:if(l=te,h=tn,te=null,Ui(e,i,a),te=l,tn=h,te!==null)if(tn)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(f){$t(a,i,f)}else try{te.removeChild(a.stateNode)}catch(f){$t(a,i,f)}break;case 18:te!==null&&(tn?(e=te,t_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ul(e)):t_(te,a.stateNode));break;case 4:l=te,h=tn,te=a.stateNode.containerInfo,tn=!0,Ui(e,i,a),te=l,tn=h;break;case 0:case 11:case 14:case 15:ce||lr(2,a,i),ce||lr(4,a,i),Ui(e,i,a);break;case 1:ce||(ti(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&sy(a,i,l)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,Ui(e,i,a),ce=l;break;default:Ui(e,i,a)}}function dy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(a){$t(i,i.return,a)}}function pA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new uy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new uy),i;default:throw Error(r(435,e.tag))}}function Pf(e,i){var a=pA(e);i.forEach(function(l){var h=SA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function ln(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(gr(E.type)){te=E.stateNode,tn=!1;break t}break;case 5:te=E.stateNode,tn=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(te===null)throw Error(r(160));fy(f,v,h),te=null,tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)py(i,e),i=i.sibling}var Vn=null;function py(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(i,e),un(e),l&4&&(lr(3,e,e.return),Fo(3,e),lr(5,e,e.return));break;case 1:ln(i,e),un(e),l&512&&(ce||a===null||ti(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Vn;if(ln(i,e),un(e),l&512&&(ce||a===null||ti(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Xr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Le(f,l,a),f[_e]=e,le(f),l=f;break t;case"link":var v=l_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(l),Le(f,l,a),h.head.appendChild(f);break;case"meta":if(v=l_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(l),Le(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[_e]=e,le(f),l=f}e.stateNode=l}else u_(h,e.type,e.stateNode);else e.stateNode=o_(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?u_(h,e.type,e.stateNode):o_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(i,e),un(e),l&512&&(ce||a===null||ti(a,a.return)),a!==null&&l&4&&Mf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,e),un(e),l&512&&(ce||a===null||ti(a,a.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(z){$t(e,e.return,z)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Mf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Uf=!0);break;case 6:if(ln(i,e),un(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(z){$t(e,e.return,z)}}break;case 3:if(Ju=null,h=Vn,Vn=Zu(i.containerInfo),ln(i,e),Vn=h,un(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(z){$t(e,e.return,z)}Uf&&(Uf=!1,my(e));break;case 4:l=Vn,Vn=Zu(e.stateNode.containerInfo),ln(i,e),un(e),Vn=l;break;case 12:ln(i,e),un(e);break;case 13:ln(i,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hf=dn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Pf(e,l)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=ki,j=ce;if(ki=L||h,ce=j||b,ln(i,e),ce=j,ki=L,un(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||ki||ce||Ts(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(f=b.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var K=b.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(z){$t(b,b.return,z)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(z){$t(b,b.return,z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Pf(e,a))));break;case 19:ln(i,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Pf(e,l)));break;case 30:break;case 21:break;default:ln(i,e),un(e)}}function un(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(oy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Vf(e);Lu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(mn(v,""),a.flags&=-33);var E=Vf(e);Lu(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=Vf(e);kf(e,L,b);break;default:throw Error(r(161))}}catch(j){$t(e,e.return,j)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;my(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ur(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cy(e,i.alternate,i),i=i.sibling}function Ts(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:lr(4,i,i.return),Ts(i);break;case 1:ti(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&sy(i,i.return,a),Ts(i);break;case 27:el(i.stateNode);case 26:case 5:ti(i,i.return),Ts(i);break;case 22:i.memoizedState===null&&Ts(i);break;case 30:Ts(i);break;default:Ts(i)}e=e.sibling}}function cr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:cr(h,f,a),Fo(4,f);break;case 1:if(cr(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(l,l.return,L)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Gm(b[h],E)}catch(L){$t(l,l.return,L)}}a&&v&64&&ry(f),Ko(f,f.return);break;case 27:ly(f);case 26:case 5:cr(h,f,a),a&&l===null&&v&4&&ay(f),Ko(f,f.return);break;case 12:cr(h,f,a);break;case 13:cr(h,f,a),a&&v&4&&dy(h,f);break;case 22:f.memoizedState===null&&cr(h,f,a),Ko(f,f.return);break;case 30:break;default:cr(h,f,a)}i=i.sibling}}function xf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&No(a))}function Lf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&No(e))}function ei(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gy(e,i,a,l),i=i.sibling}function gy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(e,i,a,l),h&2048&&Fo(9,i);break;case 1:ei(e,i,a,l);break;case 3:ei(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&No(e)));break;case 12:if(h&2048){ei(e,i,a,l),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(i,i.return,b)}}else ei(e,i,a,l);break;case 13:ei(e,i,a,l);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ei(e,i,a,l):Qo(e,i):f._visibility&2?ei(e,i,a,l):(f._visibility|=2,ma(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&xf(v,i);break;case 24:ei(e,i,a,l),h&2048&&Lf(i.alternate,i);break;default:ei(e,i,a,l)}}function ma(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,b=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:ma(f,v,E,b,h),Fo(8,v);break;case 23:break;case 22:var j=v.stateNode;v.memoizedState!==null?j._visibility&2?ma(f,v,E,b,h):Qo(f,v):(j._visibility|=2,ma(f,v,E,b,h)),h&&L&2048&&xf(v.alternate,v);break;case 24:ma(f,v,E,b,h),h&&L&2048&&Lf(v.alternate,v);break;default:ma(f,v,E,b,h)}i=i.sibling}}function Qo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Qo(a,l),h&2048&&xf(l.alternate,l);break;case 24:Qo(a,l),h&2048&&Lf(l.alternate,l);break;default:Qo(a,l)}i=i.sibling}}var Yo=8192;function ga(e){if(e.subtreeFlags&Yo)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 26:ga(e),e.flags&Yo&&e.memoizedState!==null&&JA(Vn,e.memoizedState,e.memoizedProps);break;case 5:ga(e);break;case 3:case 4:var i=Vn;Vn=Zu(e.stateNode.containerInfo),ga(e),Vn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Yo,Yo=16777216,ga(e),Yo=i):ga(e));break;default:ga(e)}}function _y(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Xo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Oe=l,Ey(l,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:Xo(e),e.flags&2048&&lr(9,e,e.return);break;case 3:Xo(e);break;case 12:Xo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Bu(e)):Xo(e);break;default:Xo(e)}}function Bu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Oe=l,Ey(l,e)}_y(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:lr(8,i,i.return),Bu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bu(i));break;default:Bu(i)}e=e.sibling}}function Ey(e,i){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:No(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=e;Oe!==null;){l=Oe;var h=l.sibling,f=l.return;if(hy(l),l===a){Oe=null;break t}if(h!==null){h.return=f,Oe=h;break t}Oe=f}}}var mA={getCacheForType:function(e){var i=je(Te),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},gA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,It=null,Ut=0,Ft=0,cn=null,hr=!1,ya=!1,Bf=!1,Pi=0,oe=0,fr=0,As=0,zf=0,bn=0,_a=0,$o=null,en=null,qf=!1,Hf=0,zu=1/0,qu=null,dr=null,xe=0,pr=null,va=null,Ea=0,jf=0,Gf=null,Ty=null,Zo=0,Ff=null;function hn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(H.T!==null){var e=oa;return e!==0?e:Wf()}return Xi()}function Ay(){bn===0&&(bn=(Ut&536870912)===0||zt?so():536870912);var e=Sn.current;return e!==null&&(e.flags|=32),bn}function fn(e,i,a){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ta(e,0),mr(e,Ut,bn,!1)),pi(e,a),((Gt&2)===0||e!==Wt)&&(e===Wt&&((Gt&2)===0&&(As|=a),oe===4&&mr(e,Ut,bn,!1)),ni(e))}function Sy(e,i,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Yr(e,i),h=l?vA(e,i):Yf(e,i,!0),f=l;do{if(h===0){ya&&!l&&mr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!yA(a)){h=Yf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=$o;var b=E.current.memoizedState.isDehydrated;if(b&&(Ta(E,v).flags|=256),v=Yf(E,v,!1),v!==2){if(Bf&&!b){E.errorRecoveryDisabledLanes|=f,As|=f,h=4;break t}f=en,en=h,f!==null&&(en===null?en=f:en.push.apply(en,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Ta(e,0),mr(e,i,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:mr(l,i,bn,!hr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Hf+300-dn(),10<h)){if(mr(l,i,bn,!hr),Ls(l,0,!0)!==0)break t;l.timeoutHandle=Wy(by.bind(null,l,a,en,qu,qf,i,bn,As,_a,hr,f,2,-0,0),h);break t}by(l,a,en,qu,qf,i,bn,As,_a,hr,f,0,-0,0)}}break}while(!0);ni(e)}function by(e,i,a,l,h,f,v,E,b,L,j,K,B,z){if(e.timeoutHandle=-1,K=i.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(rl={stylesheets:null,count:0,unsuspend:WA},yy(i),K=tS(),K!==null)){e.cancelPendingCommit=K(Ny.bind(null,e,i,f,a,l,h,v,E,b,j,1,B,z)),mr(e,f,v,!L);return}Ny(e,i,f,a,l,h,v,E,b)}function yA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!an(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mr(e,i,a,l){i&=~zf,i&=~As,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var f=31-He(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&qn(e,a,i)}function Hu(){return(Gt&6)===0?(Wo(0),!1):!0}function Kf(){if(It!==null){if(Ft===0)var e=It.return;else e=It,Ci=gs=null,uf(e),da=null,Ho=0,e=It;for(;e!==null;)iy(e.alternate,e),e=e.return;It=null}}function Ta(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,UA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Kf(),Wt=e,It=a=wi(e.current,null),Ut=i,Ft=0,cn=null,hr=!1,ya=Yr(e,i),Bf=!1,_a=bn=zf=As=fr=oe=0,en=$o=null,qf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-He(l),f=1<<h;i|=e[h],l&=~f}return Pi=i,cu(),a}function wy(e,i){St=null,H.H=Du,i===Vo||i===vu?(i=Hm(),Ft=3):i===Bm?(i=Hm(),Ft=4):Ft=i===jg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,cn=i,It===null&&(oe=1,ku(e,vn(i,e.current)))}function Ry(){var e=H.H;return H.H=Du,e===null?Du:e}function Iy(){var e=H.A;return H.A=mA,e}function Qf(){oe=4,hr||(Ut&4194048)!==Ut&&Sn.current!==null||(ya=!0),(fr&134217727)===0&&(As&134217727)===0||Wt===null||mr(Wt,Ut,bn,!1)}function Yf(e,i,a){var l=Gt;Gt|=2;var h=Ry(),f=Iy();(Wt!==e||Ut!==i)&&(qu=null,Ta(e,i)),i=!1;var v=oe;t:do try{if(Ft!==0&&It!==null){var E=It,b=cn;switch(Ft){case 8:Kf(),v=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var L=Ft;if(Ft=0,cn=null,Aa(e,E,b,L),a&&ya){v=0;break t}break;default:L=Ft,Ft=0,cn=null,Aa(e,E,b,L)}}_A(),v=oe;break}catch(j){wy(e,j)}while(!0);return i&&e.shellSuspendCounter++,Ci=gs=null,Gt=l,H.H=h,H.A=f,It===null&&(Wt=null,Ut=0,cu()),v}function _A(){for(;It!==null;)Cy(It)}function vA(e,i){var a=Gt;Gt|=2;var l=Ry(),h=Iy();Wt!==e||Ut!==i?(qu=null,zu=dn()+500,Ta(e,i)):ya=Yr(e,i);t:do try{if(Ft!==0&&It!==null){i=It;var f=cn;e:switch(Ft){case 1:Ft=0,cn=null,Aa(e,i,f,1);break;case 2:case 9:if(zm(f)){Ft=0,cn=null,Dy(i);break}i=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),ni(e)},f.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:zm(f)?(Ft=0,cn=null,Dy(i)):(Ft=0,cn=null,Aa(e,i,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||c_(v)){Ft=0,cn=null;var b=E.sibling;if(b!==null)It=b;else{var L=E.return;L!==null?(It=L,ju(L)):It=null}break e}}Ft=0,cn=null,Aa(e,i,f,5);break;case 6:Ft=0,cn=null,Aa(e,i,f,6);break;case 8:Kf(),oe=6;break t;default:throw Error(r(462))}}EA();break}catch(j){wy(e,j)}while(!0);return Ci=gs=null,H.H=l,H.A=h,Gt=a,It!==null?0:(Wt=null,Ut=0,cu(),oe)}function EA(){for(;It!==null&&!eo();)Cy(It)}function Cy(e){var i=ey(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,i===null?ju(e):It=i}function Dy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Xg(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=Xg(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:uf(i);default:iy(a,i),i=It=Om(i,Pi),i=ey(a,i,Pi)}e.memoizedProps=e.pendingProps,i===null?ju(e):It=i}function Aa(e,i,a,l){Ci=gs=null,uf(i),da=null,Ho=0;var h=i.return;try{if(uA(e,h,i,a,Ut)){oe=1,ku(e,vn(a,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;oe=1,ku(e,vn(a,e.current)),It=null;return}i.flags&32768?(zt||l===1?e=!0:ya||(Ut&536870912)!==0?e=!1:(hr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(i,e)):ju(i)}function ju(e){var i=e;do{if((i.flags&32768)!==0){Oy(i,hr);return}e=i.return;var a=hA(i.alternate,i,Pi);if(a!==null){It=a;return}if(i=i.sibling,i!==null){It=i;return}It=i=e}while(i!==null);oe===0&&(oe=5)}function Oy(e,i){do{var a=fA(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);oe=6,It=null}function Ny(e,i,a,l,h,f,v,E,b){e.cancelPendingCommit=null;do Gu();while(xe!==0);if((Gt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=xh,oo(e,a,f,v,E,b),e===Wt&&(It=Wt=null,Ut=0),va=i,pr=e,Ea=a,jf=f,Gf=h,Ty=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bA(Gr,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=tt.p,tt.p=2,v=Gt,Gt|=4;try{dA(e,i,a)}finally{Gt=v,tt.p=h,H.T=l}}xe=1,My(),Vy(),ky()}}function My(){if(xe===1){xe=0;var e=pr,i=va,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var h=Gt;Gt|=4;try{py(i,e);var f=ad,v=Em(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&vm(E.ownerDocument.documentElement,E)){if(b!==null&&Mh(E)){var L=b.start,j=b.end;if(j===void 0&&(j=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(j,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var z=B.getSelection(),dt=E.textContent.length,ct=Math.min(b.start,dt),Xt=b.end===void 0?ct:Math.min(b.end,dt);!z.extend&&ct>Xt&&(v=Xt,Xt=ct,ct=v);var V=_m(E,ct),D=_m(E,Xt);if(V&&D&&(z.rangeCount!==1||z.anchorNode!==V.node||z.anchorOffset!==V.offset||z.focusNode!==D.node||z.focusOffset!==D.offset)){var P=K.createRange();P.setStart(V.node,V.offset),z.removeAllRanges(),ct>Xt?(z.addRange(P),z.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),z.addRange(P))}}}}for(K=[],z=E;z=z.parentNode;)z.nodeType===1&&K.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var F=K[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}nc=!!sd,ad=sd=null}finally{Gt=h,tt.p=l,H.T=a}}e.current=i,xe=2}}function Vy(){if(xe===2){xe=0;var e=pr,i=va,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var h=Gt;Gt|=4;try{cy(e,i.alternate,i)}finally{Gt=h,tt.p=l,H.T=a}}xe=3}}function ky(){if(xe===4||xe===3){xe=0,Bl();var e=pr,i=va,a=Ea,l=Ty;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,va=pr=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(dr=null),Bs(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(se,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{H.T=i,tt.p=h}}(Ea&3)!==0&&Gu(),ni(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Ff?Zo++:(Zo=0,Ff=e):Zo=0,Wo(0)}}function Uy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,No(i)))}function Gu(e){return My(),Vy(),ky(),Py()}function Py(){if(xe!==5)return!1;var e=pr,i=jf;jf=0;var a=Bs(Ea),l=H.T,h=tt.p;try{tt.p=32>a?32:a,H.T=null,a=Gf,Gf=null;var f=pr,v=Ea;if(xe=0,va=pr=null,Ea=0,(Gt&6)!==0)throw Error(r(331));var E=Gt;if(Gt|=4,vy(f.current),gy(f,f.current,v,a),Gt=E,Wo(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{tt.p=h,H.T=l,Uy(e,i)}}function xy(e,i,a){i=vn(a,i),i=Sf(e.stateNode,i,2),e=rr(e,i,2),e!==null&&(pi(e,2),ni(e))}function $t(e,i,a){if(e.tag===3)xy(e,e,a);else for(;i!==null;){if(i.tag===3){xy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){e=vn(a,e),a=qg(2),l=rr(i,a,2),l!==null&&(Hg(a,l,i,e),pi(l,2),ni(l));break}}i=i.return}}function Xf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new gA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Bf=!0,h.add(a),e=TA.bind(null,e,i,a),i.then(e,e))}function TA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ut&a)===a&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>dn()-Hf?(Gt&2)===0&&Ta(e,0):zf|=a,_a===Ut&&(_a=0)),ni(e)}function Ly(e,i){i===0&&(i=ao()),e=ia(e,i),e!==null&&(pi(e,i),ni(e))}function AA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Ly(e,a)}function SA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Ly(e,a)}function bA(e,i){return Hr(e,i)}var Fu=null,Sa=null,$f=!1,Ku=!1,Zf=!1,Ss=0;function ni(e){e!==Sa&&e.next===null&&(Sa===null?Fu=Sa=e:Sa=Sa.next=e),Ku=!0,$f||($f=!0,RA())}function Wo(e,i){if(!Zf&&Ku){Zf=!0;do for(var a=!1,l=Fu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Hy(l,f))}else f=Ut,f=Ls(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Yr(l,f)||(a=!0,Hy(l,f));l=l.next}while(a);Zf=!1}}function wA(){By()}function By(){Ku=$f=!1;var e=0;Ss!==0&&(kA()&&(e=Ss),Ss=0);for(var i=dn(),a=null,l=Fu;l!==null;){var h=l.next,f=zy(l,i);f===0?(l.next=null,a===null?Fu=h:a.next=h,h===null&&(Sa=a)):(a=l,(e!==0||(f&3)!==0)&&(Ku=!0)),l=h}Wo(e)}function zy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-He(f),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&l)!==0)&&(h[v]=ro(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=Wt,a=Ut,a=Ls(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&jr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&jr(l),Bs(a)){case 2:case 8:a=Ps;break;case 32:a=Gr;break;case 268435456:a=xs;break;default:a=Gr}return l=qy.bind(null,e),a=Hr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&jr(l),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Gu()&&e.callbackNode!==a)return null;var l=Ut;return l=Ls(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sy(e,l,i),zy(e,dn()),e.callbackNode!=null&&e.callbackNode===a?qy.bind(null,e):null)}function Hy(e,i){if(Gu())return null;Sy(e,i,!0)}function RA(){PA(function(){(Gt&6)!==0?Hr(no,wA):By()})}function Wf(){return Ss===0&&(Ss=so()),Ss}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fs(""+e)}function Gy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function IA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var f=jy((h[fe]||null).action),v=l.submitter;v&&(i=(i=v[fe]||null)?jy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new Ks("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ss!==0){var b=v?Gy(h,v):new FormData(h);_f(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?Gy(h,v):new FormData(h),_f(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Jf=0;Jf<Ph.length;Jf++){var td=Ph[Jf],CA=td.toLowerCase(),DA=td[0].toUpperCase()+td.slice(1);Mn(CA,"on"+DA)}Mn(Sm,"onAnimationEnd"),Mn(bm,"onAnimationIteration"),Mn(wm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(K0,"onTransitionRun"),Mn(Q0,"onTransitionStart"),Mn(Y0,"onTransitionCancel"),Mn(Rm,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Fy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var f=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(j){Vu(j)}h.currentTarget=null,f=b}else for(v=0;v<l.length;v++){if(E=l[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(j){Vu(j)}h.currentTarget=null,f=b}}}}function Ct(e,i){var a=i[uo];a===void 0&&(a=i[uo]=new Set);var l=e+"__bubble";a.has(l)||(Ky(i,e,2,!1),a.add(l))}function ed(e,i,a){var l=0;i&&(l|=4),Ky(a,e,l,i)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function nd(e){if(!e[Qu]){e[Qu]=!0,co.forEach(function(a){a!=="selectionchange"&&(OA.has(a)||ed(a,!1,e),ed(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Qu]||(i[Qu]=!0,ed("selectionchange",!1,i))}}function Ky(e,i,a,l){switch(g_(i)){case 2:var h=iS;break;case 8:h=rS;break;default:h=gd}a=h.bind(null,i,a,e),h=void 0,!yn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function id(e,i,a,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=mi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Xl(function(){var L=f,j=gn(a),K=[];t:{var B=Im.get(e);if(B!==void 0){var z=Ks,dt=e;switch(e){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":z=Ws;break;case"focusin":dt="focus",z=Xs;break;case"focusout":dt="blur",z=Xs;break;case"beforeblur":case"afterblur":z=Xs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=iu;break;case Sm:case bm:case wm:z=$s;break;case Rm:z=su;break;case"scroll":case"scrollend":z=$l;break;case"wheel":z=Js;break;case"copy":case"cut":case"paste":z=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=So;break;case"toggle":case"beforetoggle":z=ou}var ct=(i&4)!==0,Xt=!ct&&(e==="scroll"||e==="scrollend"),V=ct?B!==null?B+"Capture":null:B;ct=[];for(var D=L,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||V===null||(F=ns(D,V),F!=null&&ct.push(tl(D,F,P))),Xt)break;D=D.return}0<ct.length&&(B=new z(B,dt,null,a,j),K.push({event:B,listeners:ct}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",B&&a!==vi&&(dt=a.relatedTarget||a.fromElement)&&(mi(dt)||dt[pn]))break t;if((z||B)&&(B=j.window===j?j:(B=j.ownerDocument)?B.defaultView||B.parentWindow:window,z?(dt=a.relatedTarget||a.toElement,z=L,dt=dt?mi(dt):null,dt!==null&&(Xt=c(dt),ct=dt.tag,dt!==Xt||ct!==5&&ct!==27&&ct!==6)&&(dt=null)):(z=null,dt=L),z!==dt)){if(ct=_n,F="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ct=So,F="onPointerLeave",V="onPointerEnter",D="pointer"),Xt=z==null?B:jn(z),P=dt==null?B:jn(dt),B=new ct(F,D+"leave",z,a,j),B.target=Xt,B.relatedTarget=P,F=null,mi(j)===L&&(ct=new ct(V,D+"enter",dt,a,j),ct.target=P,ct.relatedTarget=Xt,F=ct),Xt=F,z&&dt)e:{for(ct=z,V=dt,D=0,P=ct;P;P=ba(P))D++;for(P=0,F=V;F;F=ba(F))P++;for(;0<D-P;)ct=ba(ct),D--;for(;0<P-D;)V=ba(V),P--;for(;D--;){if(ct===V||V!==null&&ct===V.alternate)break e;ct=ba(ct),V=ba(V)}ct=null}else ct=null;z!==null&&Qy(K,B,z,ct,!1),dt!==null&&Xt!==null&&Qy(K,Xt,dt,ct,!0)}}t:{if(B=L?jn(L):window,z=B.nodeName&&B.nodeName.toLowerCase(),z==="select"||z==="input"&&B.type==="file")var rt=fm;else if(Ee(B))if(dm)rt=j0;else{rt=q0;var Rt=z0}else z=B.nodeName,!z||z.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&go(L.elementType)&&(rt=fm):rt=H0;if(rt&&(rt=rt(e,L))){bi(K,rt,a,j);break t}Rt&&Rt(e,B,L),e==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&Ji(B,"number",B.value)}switch(Rt=L?jn(L):window,e){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(ta=Rt,Vh=L,Ro=null);break;case"focusout":Ro=Vh=ta=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Tm(K,a,j);break;case"selectionchange":if(F0)break;case"keydown":case"keyup":Tm(K,a,j)}var st;if($n)t:{switch(e){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?q(e,a)&&(ht="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ht="onCompositionStart");ht&&(y&&a.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(st=_o()):(Kn=j,tr="value"in Kn?Kn.value:Kn.textContent,Vt=!0)),Rt=Yu(L,ht),0<Rt.length&&(ht=new To(ht,e,null,a,j),K.push({event:ht,listeners:Rt}),st?ht.data=st:(st=J(a),st!==null&&(ht.data=st)))),(st=p?ve(e,a):kt(e,a))&&(ht=Yu(L,"onBeforeInput"),0<ht.length&&(Rt=new To("onBeforeInput","beforeinput",null,a,j),K.push({event:Rt,listeners:ht}),Rt.data=st)),IA(K,e,L,a,j)}Fy(K,i)})}function tl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Yu(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ns(e,a),h!=null&&l.unshift(tl(e,h,f)),h=ns(e,i),h!=null&&l.push(tl(e,h,f))),e.tag===3)return l;e=e.return}return[]}function ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qy(e,i,a,l,h){for(var f=i._reactName,v=[];a!==null&&a!==l;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=ns(a,f),L!=null&&v.unshift(tl(a,L,b))):h||(L=ns(a,f),L!=null&&v.push(tl(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var NA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(NA,`
`).replace(MA,"")}function Xy(e,i){return i=Yy(i),Yy(e)===i}function Xu(){}function Yt(e,i,a,l,h,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||mn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&mn(e,""+l);break;case"className":Gn(e,"class",l);break;case"tabIndex":Gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,l);break;case"style":mo(e,l,f);break;case"data":if(i!=="object"){Gn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Fs(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Fs(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Xu);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Fs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Wi(e,"popover",l);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rh.get(a)||a,Wi(e,a,l))}}function rd(e,i,a,l,h,f){switch(a){case"style":mo(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?mn(e,l):(typeof l=="number"||typeof l=="bigint")&&mn(e,""+l);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Wi(e,a,l)}}}function Le(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Yt(e,i,f,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Ct("invalid",e);var E=f=v=h=null,b=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var j=a[l];if(j!=null)switch(l){case"name":h=j;break;case"type":v=j;break;case"checked":b=j;break;case"defaultChecked":L=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:Yt(e,i,l,j,a,null)}}Jr(e,f,E,b,L,v,h,!1),Gs(e);return;case"select":Ct("invalid",e),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Yt(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!l,i!=null?_i(e,!!l,i,!1):a!=null&&_i(e,!!l,a,!0);return;case"textarea":Ct("invalid",e),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(e,i,v,E,a,null)}ts(e,l,h,f),Gs(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,b,l,a,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(l=0;l<Jo.length;l++)Ct(Jo[l],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Yt(e,i,L,l,a,null)}return;default:if(go(i)){for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!==void 0&&rd(e,i,j,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(e,i,E,l,a,null))}function VA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,L=null,j=null;for(z in a){var K=a[z];if(a.hasOwnProperty(z)&&K!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=K;default:l.hasOwnProperty(z)||Yt(e,i,z,null,l,K)}}for(var B in l){var z=l[B];if(K=a[B],l.hasOwnProperty(B)&&(z!=null||K!=null))switch(B){case"type":f=z;break;case"name":h=z;break;case"checked":L=z;break;case"defaultChecked":j=z;break;case"value":v=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:z!==K&&Yt(e,i,B,z,l,K)}}sn(e,v,E,b,L,j,f,h);return;case"select":z=v=E=B=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":z=b;default:l.hasOwnProperty(f)||Yt(e,i,f,null,l,b)}for(h in l)if(f=l[h],b=a[h],l.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Yt(e,i,h,f,l,b)}i=E,a=v,l=z,B!=null?_i(e,!!a,B,!1):!!l!=!!a&&(i!=null?_i(e,!!a,i,!0):_i(e,!!a,a?[]:"",!1));return;case"textarea":z=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":B=h;break;case"defaultValue":z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Yt(e,i,v,h,l,f)}Kt(e,B,z);return;case"option":for(var dt in a)if(B=a[dt],a.hasOwnProperty(dt)&&B!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:Yt(e,i,dt,null,l,B)}for(b in l)if(B=l[b],z=a[b],l.hasOwnProperty(b)&&B!==z&&(B!=null||z!=null))switch(b){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(e,i,b,B,l,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&Yt(e,i,ct,null,l,B);for(L in l)if(B=l[L],z=a[L],l.hasOwnProperty(L)&&B!==z&&(B!=null||z!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:Yt(e,i,L,B,l,z)}return;default:if(go(i)){for(var Xt in a)B=a[Xt],a.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&rd(e,i,Xt,void 0,l,B);for(j in l)B=l[j],z=a[j],!l.hasOwnProperty(j)||B===z||B===void 0&&z===void 0||rd(e,i,j,B,l,z);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&Yt(e,i,V,null,l,B);for(K in l)B=l[K],z=a[K],!l.hasOwnProperty(K)||B===z||B==null&&z==null||Yt(e,i,K,B,l,z)}var sd=null,ad=null;function $u(e){return e.nodeType===9?e:e.ownerDocument}function $y(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function od(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ld=null;function kA(){var e=window.event;return e&&e.type==="popstate"?e===ld?!1:(ld=e,!0):(ld=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(xA)}:Wy;function xA(e){setTimeout(function(){throw e})}function gr(e){return e==="head"}function t_(e,i){var a=i,l=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&el(v.documentElement),a&2&&el(v.body),a&4)for(a=v.head,el(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Xr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),ul(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);ul(i)}function ud(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ud(a),Zi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function LA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Xr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function BA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function zA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var hd=null;function e_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function n_(e,i,a){switch(i=$u(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function el(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Zi(e)}var wn=new Map,i_=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xi=tt.d;tt.d={f:qA,r:HA,D:jA,C:GA,L:FA,m:KA,X:YA,S:QA,M:XA};function qA(){var e=xi.f(),i=Hu();return e||i}function HA(e){var i=Hn(e);i!==null&&i.tag===5&&i.type==="form"?Sg(i):xi.r(e)}var wa=typeof document>"u"?null:document;function r_(e,i,a){var l=wa;if(l&&typeof i=="string"&&i){var h=de(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),i_.has(h)||(i_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Le(i,"link",e),le(i),l.head.appendChild(i)))}}function jA(e){xi.D(e),r_("dns-prefetch",e,null)}function GA(e,i){xi.C(e,i),r_("preconnect",e,i)}function FA(e,i,a){xi.L(e,i,a);var l=wa;if(l&&e&&i){var h='link[rel="preload"][as="'+de(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+de(a.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var f=h;switch(i){case"style":f=Ra(e);break;case"script":f=Ia(e)}wn.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),wn.set(f,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(nl(f))||i==="script"&&l.querySelector(il(f))||(i=l.createElement("link"),Le(i,"link",e),le(i),l.head.appendChild(i)))}}function KA(e,i){xi.m(e,i);var a=wa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ia(e)}if(!wn.has(f)&&(e=A({rel:"modulepreload",href:e},i),wn.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(f)))return}l=a.createElement("link"),Le(l,"link",e),le(l),a.head.appendChild(l)}}}function QA(e,i,a){xi.S(e,i,a);var l=wa;if(l&&e){var h=Xe(l).hoistableStyles,f=Ra(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(nl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=wn.get(f))&&fd(e,a);var b=v=l.createElement("link");le(b),Le(b,"link",e),b._p=new Promise(function(L,j){b.onload=L,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Wu(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function YA(e,i){xi.X(e,i);var a=wa;if(a&&e){var l=Xe(a).hoistableScripts,h=Ia(e),f=l.get(h);f||(f=a.querySelector(il(h)),f||(e=A({src:e,async:!0},i),(i=wn.get(h))&&dd(e,i),f=a.createElement("script"),le(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function XA(e,i){xi.M(e,i);var a=wa;if(a&&e){var l=Xe(a).hoistableScripts,h=Ia(e),f=l.get(h);f||(f=a.querySelector(il(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=wn.get(h))&&dd(e,i),f=a.createElement("script"),le(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function s_(e,i,a,l){var h=(h=gt.current)?Zu(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ra(a.href),a=Xe(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ra(a.href);var f=Xe(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(nl(e)))&&!f._p&&(v.instance=f,v.state.loading=5),wn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wn.set(e,a),f||$A(h,e,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ia(a),a=Xe(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ra(e){return'href="'+de(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function a_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function $A(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Le(i,"link",a),le(i),e.head.appendChild(i))}function Ia(e){return'[src="'+de(e)+'"]'}function il(e){return"script[async]"+e}function o_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+de(a.href)+'"]');if(l)return i.instance=l,le(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),le(l),Le(l,"style",h),Wu(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ra(a.href);var f=e.querySelector(nl(h));if(f)return i.state.loading|=4,i.instance=f,le(f),f;l=a_(a),(h=wn.get(h))&&fd(l,h),f=(e.ownerDocument||e).createElement("link"),le(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Le(f,"link",l),i.state.loading|=4,Wu(f,a.precedence,e),i.instance=f;case"script":return f=Ia(a.src),(h=e.querySelector(il(f)))?(i.instance=h,le(h),h):(l=a,(h=wn.get(f))&&(l=A({},a),dd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),Le(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Wu(l,a.precedence,e));return i.instance}function Wu(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function fd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ju=null;function l_(e,i,a){if(Ju===null){var l=new Map,h=Ju=new Map;h.set(a,l)}else h=Ju,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Xr]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function u_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function ZA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function c_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var rl=null;function WA(){}function JA(e,i,a){if(rl===null)throw Error(r(475));var l=rl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ra(a.href),f=e.querySelector(nl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=tc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=f,le(f);return}f=e.ownerDocument||e,a=a_(a),(h=wn.get(h))&&fd(a,h),f=f.createElement("link"),le(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Le(f,"link",a),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=tc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function tS(){if(rl===null)throw Error(r(475));var e=rl;return e.stylesheets&&e.count===0&&pd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&pd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function tc(){if(this.count--,this.count===0){if(this.stylesheets)pd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ec=null;function pd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ec=new Map,i.forEach(eS,e),ec=null,tc.call(e))}function eS(e,i){if(!(i.state.loading&4)){var a=ec.get(e);if(a)var l=a.get(null);else{a=new Map,ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var sl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function nS(e,i,a,l,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function h_(e,i,a,l,h,f,v,E,b,L,j,K){return e=new nS(e,i,a,v,E,b,L,K),i=1,f===!0&&(i|=24),f=on(3,null,null,i),e.current=f,f.stateNode=e,i=Yh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},Wh(f),e}function f_(e){return e?(e=ra,e):ra}function d_(e,i,a,l,h,f){h=f_(h),l.context===null?l.context=h:l.pendingContext=h,l=ir(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=rr(e,l,i),a!==null&&(fn(a,e,i),Uo(a,e,i))}function p_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function md(e,i){p_(e,i),(e=e.alternate)&&p_(e,i)}function m_(e){if(e.tag===13){var i=ia(e,67108864);i!==null&&fn(i,e,67108864),md(e,67108864)}}var nc=!0;function iS(e,i,a,l){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,gd(e,i,a,l)}finally{tt.p=f,H.T=h}}function rS(e,i,a,l){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,gd(e,i,a,l)}finally{tt.p=f,H.T=h}}function gd(e,i,a,l){if(nc){var h=yd(l);if(h===null)id(e,i,l,ic,a),y_(e,l);else if(aS(h,e,i,a,l))l.stopPropagation();else if(y_(e,l),i&4&&-1<sS.indexOf(e)){for(;h!==null;){var f=Hn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-He(v);E.entanglements[1]|=b,v&=~b}ni(f),(Gt&6)===0&&(zu=dn()+500,Wo(0))}}break;case 13:E=ia(f,2),E!==null&&fn(E,f,2),Hu(),md(f,2)}if(f=yd(l),f===null&&id(e,i,l,ic,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else id(e,i,l,null,a)}}function yd(e){return e=gn(e),_d(e)}var ic=null;function _d(e){if(ic=null,e=mi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ic=e,null}function g_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eh()){case no:return 2;case Ps:return 8;case Gr:case Th:return 32;case xs:return 268435456;default:return 32}default:return 32}}var vd=!1,yr=null,_r=null,vr=null,al=new Map,ol=new Map,Er=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,i){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(e,i,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&m_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function aS(e,i,a,l,h){switch(i){case"focusin":return yr=ll(yr,e,i,a,l,h),!0;case"dragenter":return _r=ll(_r,e,i,a,l,h),!0;case"mouseover":return vr=ll(vr,e,i,a,l,h),!0;case"pointerover":var f=h.pointerId;return al.set(f,ll(al.get(f)||null,e,i,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ol.set(f,ll(ol.get(f)||null,e,i,a,l,h)),!0}return!1}function __(e){var i=mi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Hl(e.priority,function(){if(a.tag===13){var l=hn();l=Yi(l);var h=ia(a,l);h!==null&&fn(h,a,l),md(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=yd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);vi=l,a.target.dispatchEvent(l),vi=null}else return i=Hn(a),i!==null&&m_(i),e.blockedOn=a,!1;i.shift()}return!0}function v_(e,i,a){rc(e)&&a.delete(i)}function oS(){vd=!1,yr!==null&&rc(yr)&&(yr=null),_r!==null&&rc(_r)&&(_r=null),vr!==null&&rc(vr)&&(vr=null),al.forEach(v_),ol.forEach(v_)}function sc(e,i){e.blockedOn===i&&(e.blockedOn=null,vd||(vd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,oS)))}var ac=null;function E_(e){ac!==e&&(ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ac===e&&(ac=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(_d(l||a)===null)continue;break}var f=Hn(a);f!==null&&(e.splice(i,3),i-=3,_f(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ul(e){function i(b){return sc(b,e)}yr!==null&&sc(yr,e),_r!==null&&sc(_r,e),vr!==null&&sc(vr,e),al.forEach(i),ol.forEach(i);for(var a=0;a<Er.length;a++){var l=Er[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)__(a),a.blockedOn===null&&Er.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[fe]||null;if(typeof f=="function")v||E_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[fe]||null)E=v.formAction;else if(_d(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),E_(a)}}}function Ed(e){this._internalRoot=e}oc.prototype.render=Ed.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=hn();d_(a,l,e,i,null,null)},oc.prototype.unmount=Ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;d_(e.current,2,null,e,null,null),Hu(),i[pn]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Xi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Er.length&&i!==0&&i<Er[a].priority;a++);Er.splice(a,0,e),a===0&&__(e)}};var T_=t.version;if(T_!=="19.1.0")throw Error(r(527,T_,"19.1.0"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var lS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{se=lc.inject(lS),jt=lc}catch{}}return hl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=xg,f=Lg,v=Bg,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=h_(e,1,!1,null,null,a,l,h,f,v,E,null),e[pn]=i.current,nd(e),new Ed(i)},hl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",f=xg,v=Lg,E=Bg,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=h_(e,1,!0,i,a??null,l,h,f,v,E,b,L),i.context=f_(null),a=i.current,l=hn(),l=Yi(l),h=ir(l),h.callback=null,rr(a,h,l),a=l,i.current.lanes=a,pi(i,a),ni(i),e[pn]=i.current,nd(e),new oc(i)},hl.version="19.1.0",hl}var N_;function _S(){if(N_)return Sd.exports;N_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Sd.exports=yS(),Sd.exports}var vS=_S();const ui=Object.create(null);ui.open="0";ui.close="1";ui.ping="2";ui.pong="3";ui.message="4";ui.upgrade="5";ui.noop="6";const _c=Object.create(null);Object.keys(ui).forEach(s=>{_c[ui[s]]=s});const Hd={type:"error",data:"parser error"},oE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",lE=typeof ArrayBuffer=="function",uE=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,vp=({type:s,data:t},n,r)=>oE&&t instanceof Blob?n?r(t):M_(t,r):lE&&(t instanceof ArrayBuffer||uE(t))?n?r(t):M_(new Blob([t]),r):r(ui[s]+(t||"")),M_=(s,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(s)};function V_(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let Id;function ES(s,t){if(oE&&s.data instanceof Blob)return s.data.arrayBuffer().then(V_).then(t);if(lE&&(s.data instanceof ArrayBuffer||uE(s.data)))return t(V_(s.data));vp(s,!1,n=>{Id||(Id=new TextEncoder),t(Id.encode(n))})}const k_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<k_.length;s++)dl[k_.charCodeAt(s)]=s;const TS=s=>{let t=s.length*.75,n=s.length,r,o=0,c,d,m,g;s[s.length-1]==="="&&(t--,s[s.length-2]==="="&&t--);const _=new ArrayBuffer(t),A=new Uint8Array(_);for(r=0;r<n;r+=4)c=dl[s.charCodeAt(r)],d=dl[s.charCodeAt(r+1)],m=dl[s.charCodeAt(r+2)],g=dl[s.charCodeAt(r+3)],A[o++]=c<<2|d>>4,A[o++]=(d&15)<<4|m>>2,A[o++]=(m&3)<<6|g&63;return _},AS=typeof ArrayBuffer=="function",Ep=(s,t)=>{if(typeof s!="string")return{type:"message",data:cE(s,t)};const n=s.charAt(0);return n==="b"?{type:"message",data:SS(s.substring(1),t)}:_c[n]?s.length>1?{type:_c[n],data:s.substring(1)}:{type:_c[n]}:Hd},SS=(s,t)=>{if(AS){const n=TS(s);return cE(n,t)}else return{base64:!0,data:s}},cE=(s,t)=>{switch(t){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},hE="",bS=(s,t)=>{const n=s.length,r=new Array(n);let o=0;s.forEach((c,d)=>{vp(c,!1,m=>{r[d]=m,++o===n&&t(r.join(hE))})})},wS=(s,t)=>{const n=s.split(hE),r=[];for(let o=0;o<n.length;o++){const c=Ep(n[o],t);if(r.push(c),c.type==="error")break}return r};function RS(){return new TransformStream({transform(s,t){ES(s,n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const c=new DataView(o.buffer);c.setUint8(0,126),c.setUint16(1,r)}else{o=new Uint8Array(9);const c=new DataView(o.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(r))}s.data&&typeof s.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let Cd;function uc(s){return s.reduce((t,n)=>t+n.length,0)}function cc(s,t){if(s[0].length===t)return s.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=s[0][r++],r===s[0].length&&(s.shift(),r=0);return s.length&&r<s[0].length&&(s[0]=s[0].slice(r)),n}function IS(s,t){Cd||(Cd=new TextDecoder);const n=[];let r=0,o=-1,c=!1;return new TransformStream({transform(d,m){for(n.push(d);;){if(r===0){if(uc(n)<1)break;const g=cc(n,1);c=(g[0]&128)===128,o=g[0]&127,o<126?r=3:o===126?r=1:r=2}else if(r===1){if(uc(n)<2)break;const g=cc(n,2);o=new DataView(g.buffer,g.byteOffset,g.length).getUint16(0),r=3}else if(r===2){if(uc(n)<8)break;const g=cc(n,8),_=new DataView(g.buffer,g.byteOffset,g.length),A=_.getUint32(0);if(A>Math.pow(2,21)-1){m.enqueue(Hd);break}o=A*Math.pow(2,32)+_.getUint32(4),r=3}else{if(uc(n)<o)break;const g=cc(n,o);m.enqueue(Ep(c?g:Cd.decode(g),t)),r=0}if(o===0||o>s){m.enqueue(Hd);break}}}})}const fE=4;function ye(s){if(s)return CS(s)}function CS(s){for(var t in ye.prototype)s[t]=ye.prototype[t];return s}ye.prototype.on=ye.prototype.addEventListener=function(s,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(t),this};ye.prototype.once=function(s,t){function n(){this.off(s,n),t.apply(this,arguments)}return n.fn=t,this.on(s,n),this};ye.prototype.off=ye.prototype.removeListener=ye.prototype.removeAllListeners=ye.prototype.removeEventListener=function(s,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+s];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+s],this};ye.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+s],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this};ye.prototype.emitReserved=ye.prototype.emit;ye.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};ye.prototype.hasListeners=function(s){return!!this.listeners(s).length};const eh=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),In=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),DS="arraybuffer";function dE(s,...t){return t.reduce((n,r)=>(s.hasOwnProperty(r)&&(n[r]=s[r]),n),{})}const OS=In.setTimeout,NS=In.clearTimeout;function nh(s,t){t.useNativeTimers?(s.setTimeoutFn=OS.bind(In),s.clearTimeoutFn=NS.bind(In)):(s.setTimeoutFn=In.setTimeout.bind(In),s.clearTimeoutFn=In.clearTimeout.bind(In))}const MS=1.33;function VS(s){return typeof s=="string"?kS(s):Math.ceil((s.byteLength||s.size)*MS)}function kS(s){let t=0,n=0;for(let r=0,o=s.length;r<o;r++)t=s.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function pE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function US(s){let t="";for(let n in s)s.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(s[n]));return t}function PS(s){let t={},n=s.split("&");for(let r=0,o=n.length;r<o;r++){let c=n[r].split("=");t[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return t}class xS extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Tp extends ye{constructor(t){super(),this.writable=!1,nh(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new xS(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Ep(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=US(t);return n.length?"?"+n:""}}class LS extends Tp{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};wS(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,bS(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=pE()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let mE=!1;try{mE=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const BS=mE;function zS(){}class qS extends LS{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(o,c)=>{this.onError("xhr post error",o,c)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let ka=class vc extends ye{constructor(t,n,r){super(),this.createRequest=t,nh(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=dE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=vc.requestsCount++,vc.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=zS,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete vc.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};ka.requestsCount=0;ka.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",U_);else if(typeof addEventListener=="function"){const s="onpagehide"in In?"pagehide":"unload";addEventListener(s,U_,!1)}}function U_(){for(let s in ka.requests)ka.requests.hasOwnProperty(s)&&ka.requests[s].abort()}const HS=function(){const s=gE({xdomain:!1});return s&&s.responseType!==null}();class jS extends qS{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=HS&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ka(gE,this.uri(),t)}}function gE(s){const t=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||BS))return new XMLHttpRequest}catch{}if(!t)try{return new In[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const yE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class GS extends Tp{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=yE?{}:dE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;vp(r,this.supportsBinary,c=>{try{this.doWrite(r,c)}catch{}o&&eh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=pE()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Dd=In.WebSocket||In.MozWebSocket;class FS extends GS{createSocket(t,n,r){return yE?new Dd(t,n,r):n?new Dd(t,n):new Dd(t)}doWrite(t,n){this.ws.send(n)}}class KS extends Tp{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=IS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),o=RS();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const c=()=>{r.read().then(({done:m,value:g})=>{m||(this.onPacket(g),c())}).catch(m=>{})};c();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;this._writer.write(r).then(()=>{o&&eh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const QS={websocket:FS,webtransport:KS,polling:jS},YS=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,XS=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function jd(s){if(s.length>8e3)throw"URI too long";const t=s,n=s.indexOf("["),r=s.indexOf("]");n!=-1&&r!=-1&&(s=s.substring(0,n)+s.substring(n,r).replace(/:/g,";")+s.substring(r,s.length));let o=YS.exec(s||""),c={},d=14;for(;d--;)c[XS[d]]=o[d]||"";return n!=-1&&r!=-1&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=$S(c,c.path),c.queryKey=ZS(c,c.query),c}function $S(s,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function ZS(s,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,o,c){o&&(n[o]=c)}),n}const Gd=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ec=[];Gd&&addEventListener("offline",()=>{Ec.forEach(s=>s())},!1);class Cr extends ye{constructor(t,n){if(super(),this.binaryType=DS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=jd(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=jd(n.host).host);nh(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const o=r.prototype.name;this.transports.push(o),this._transportsByName[o]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=PS(this.opts.query)),Gd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ec.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=fE,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Cr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Cr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const o=this.writeBuffer[r].data;if(o&&(n+=VS(o)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,eh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,o){if(typeof n=="function"&&(o=n,n=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const c={type:t,data:n,options:r};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Cr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Gd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Ec.indexOf(this._offlineEventListener);r!==-1&&Ec.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Cr.protocol=fE;class WS extends Cr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Cr.priorWebsocketSuccess=!1;const o=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",I=>{if(!r)if(I.type==="pong"&&I.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Cr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(A(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=n.name,this.emitReserved("upgradeError",x)}}))};function c(){r||(r=!0,A(),n.close(),n=null)}const d=I=>{const x=new Error("probe error: "+I);x.transport=n.name,c(),this.emitReserved("upgradeError",x)};function m(){d("transport closed")}function g(){d("socket closed")}function _(I){n&&I.name!==n.name&&c()}const A=()=>{n.removeListener("open",o),n.removeListener("error",d),n.removeListener("close",m),this.off("close",g),this.off("upgrading",_)};n.once("open",o),n.once("error",d),n.once("close",m),this.once("close",g),this.once("upgrading",_),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let JS=class extends WS{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(o=>QS[o]).filter(o=>!!o)),super(t,r)}};function tb(s,t="",n){let r=s;n=n||typeof location<"u"&&location,s==null&&(s=n.protocol+"//"+n.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=n.protocol+s:s=n.host+s),/^(https?|wss?):\/\//.test(s)||(typeof n<"u"?s=n.protocol+"//"+s:s="https://"+s),r=jd(s)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const c=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+c+":"+r.port+t,r.href=r.protocol+"://"+c+(n&&n.port===r.port?"":":"+r.port),r}const eb=typeof ArrayBuffer=="function",nb=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,_E=Object.prototype.toString,ib=typeof Blob=="function"||typeof Blob<"u"&&_E.call(Blob)==="[object BlobConstructor]",rb=typeof File=="function"||typeof File<"u"&&_E.call(File)==="[object FileConstructor]";function Ap(s){return eb&&(s instanceof ArrayBuffer||nb(s))||ib&&s instanceof Blob||rb&&s instanceof File}function Tc(s,t){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let n=0,r=s.length;n<r;n++)if(Tc(s[n]))return!0;return!1}if(Ap(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return Tc(s.toJSON(),!0);for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&Tc(s[n]))return!0;return!1}function sb(s){const t=[],n=s.data,r=s;return r.data=Fd(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Fd(s,t){if(!s)return s;if(Ap(s)){const n={_placeholder:!0,num:t.length};return t.push(s),n}else if(Array.isArray(s)){const n=new Array(s.length);for(let r=0;r<s.length;r++)n[r]=Fd(s[r],t);return n}else if(typeof s=="object"&&!(s instanceof Date)){const n={};for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=Fd(s[r],t));return n}return s}function ab(s,t){return s.data=Kd(s.data,t),delete s.attachments,s}function Kd(s,t){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<t.length)return t[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let n=0;n<s.length;n++)s[n]=Kd(s[n],t);else if(typeof s=="object")for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(s[n]=Kd(s[n],t));return s}const ob=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lb=5;var Mt;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(Mt||(Mt={}));class ub{constructor(t){this.replacer=t}encode(t){return(t.type===Mt.EVENT||t.type===Mt.ACK)&&Tc(t)?this.encodeAsBinary({type:t.type===Mt.EVENT?Mt.BINARY_EVENT:Mt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Mt.BINARY_EVENT||t.type===Mt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=sb(t),r=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(r),o}}function P_(s){return Object.prototype.toString.call(s)==="[object Object]"}class Sp extends ye{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Mt.BINARY_EVENT;r||n.type===Mt.BINARY_ACK?(n.type=r?Mt.EVENT:Mt.ACK,this.reconstructor=new cb(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ap(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Mt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Mt.BINARY_EVENT||r.type===Mt.BINARY_ACK){const c=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const d=t.substring(c,n);if(d!=Number(d)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(d)}if(t.charAt(n+1)==="/"){const c=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(c,n)}else r.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const c=n+1;for(;++n;){const d=t.charAt(n);if(d==null||Number(d)!=d){--n;break}if(n===t.length)break}r.id=Number(t.substring(c,n+1))}if(t.charAt(++n)){const c=this.tryParse(t.substr(n));if(Sp.isPayloadValid(r.type,c))r.data=c;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Mt.CONNECT:return P_(n);case Mt.DISCONNECT:return n===void 0;case Mt.CONNECT_ERROR:return typeof n=="string"||P_(n);case Mt.EVENT:case Mt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&ob.indexOf(n[0])===-1);case Mt.ACK:case Mt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class cb{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=ab(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const hb=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Sp,Encoder:ub,get PacketType(){return Mt},protocol:lb},Symbol.toStringTag,{value:"Module"}));function Un(s,t,n){return s.on(t,n),function(){s.off(t,n)}}const fb=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class vE extends ye{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Un(t,"open",this.onopen.bind(this)),Un(t,"packet",this.onpacket.bind(this)),Un(t,"error",this.onerror.bind(this)),Un(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,o,c;if(fb.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const d={type:Mt.EVENT,data:n};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const A=this.ids++,I=n.pop();this._registerAckCallback(A,I),d.id=A}const m=(o=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||o===void 0?void 0:o.writable,g=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!m||(g?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(t,n){var r;const o=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let m=0;m<this.sendBuffer.length;m++)this.sendBuffer[m].id===t&&this.sendBuffer.splice(m,1);n.call(this,new Error("operation has timed out"))},o),d=(...m)=>{this.io.clearTimeoutFn(c),n.apply(this,m)};d.withError=!0,this.acks[t]=d}emitWithAck(t,...n){return new Promise((r,o)=>{const c=(d,m)=>d?o(d):r(m);c.withError=!0,n.push(c),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...c)=>r!==this._queue[0]?void 0:(o!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...c)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Mt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Mt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Mt.EVENT:case Mt.BINARY_EVENT:this.onevent(t);break;case Mt.ACK:case Mt.BINARY_ACK:this.onack(t);break;case Mt.DISCONNECT:this.ondisconnect();break;case Mt.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...o){r||(r=!0,n.packet({type:Mt.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Mt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Ya(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Ya.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*s);s=(Math.floor(t*10)&1)==0?s-n:s+n}return Math.min(s,this.max)|0};Ya.prototype.reset=function(){this.attempts=0};Ya.prototype.setMin=function(s){this.ms=s};Ya.prototype.setMax=function(s){this.max=s};Ya.prototype.setJitter=function(s){this.jitter=s};class Qd extends ye{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,nh(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ya({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||hb;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new JS(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=Un(n,"open",function(){r.onopen(),t&&t()}),c=m=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",m),t?t(m):this.maybeReconnectOnOpen()},d=Un(n,"error",c);if(this._timeout!==!1){const m=this._timeout,g=this.setTimeoutFn(()=>{o(),c(new Error("timeout")),n.close()},m);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}return this.subs.push(o),this.subs.push(d),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Un(t,"ping",this.onping.bind(this)),Un(t,"data",this.ondata.bind(this)),Un(t,"error",this.onerror.bind(this)),Un(t,"close",this.onclose.bind(this)),Un(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){eh(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new vE(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const fl={};function Ac(s,t){typeof s=="object"&&(t=s,s=void 0),t=t||{};const n=tb(s,t.path||"/socket.io"),r=n.source,o=n.id,c=n.path,d=fl[o]&&c in fl[o].nsps,m=t.forceNew||t["force new connection"]||t.multiplex===!1||d;let g;return m?g=new Qd(r,t):(fl[o]||(fl[o]=new Qd(r,t)),g=fl[o]),n.query&&!t.query&&(t.query=n.queryKey),g.socket(n.path,t)}Object.assign(Ac,{Manager:Qd,Socket:vE,io:Ac,connect:Ac});const db=()=>{};var x_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},pb=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],d=s[n++],m=s[n++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},TE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,m=d?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,A=c>>2,I=(c&3)<<4|m>>4;let x=(m&15)<<2|_>>6,G=_&63;g||(G=64,d||(x=64)),r.push(n[A],n[I],n[x],n[G])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(EE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):pb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const _=o<s.length?n[s.charAt(o)]:64;++o;const I=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||m==null||_==null||I==null)throw new mb;const x=c<<2|m>>4;if(r.push(x),_!==64){const G=m<<4&240|_>>2;if(r.push(G),I!==64){const Z=_<<6&192|I;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class mb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gb=function(s){const t=EE(s);return TE.encodeByteArray(t,!0)},kc=function(s){return gb(s).replace(/\./g,"")},AE=function(s){try{return TE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=()=>yb().__FIREBASE_DEFAULTS__,vb=()=>{if(typeof process>"u"||typeof x_>"u")return;const s=x_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Eb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&AE(s[1]);return t&&JSON.parse(t)},ih=()=>{try{return db()||_b()||vb()||Eb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},SE=s=>{var t,n;return(n=(t=ih())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[s]},Tb=s=>{const t=SE(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},bE=()=>{var s;return(s=ih())===null||s===void 0?void 0:s.config},wE=s=>{var t;return(t=ih())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[kc(JSON.stringify(n)),kc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function wb(){var s;const t=(s=ih())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ib(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Db(){const s=Ye();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Ob(){return!wb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nb(){try{return typeof indexedDB=="object"}catch{return!1}}function Mb(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="FirebaseError";class Ki extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Vb,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?kb(c,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Ki(o,m,r)}}function kb(s,t){return s.replace(Ub,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Ub=/\{\$([^}]+)}/g;function Pb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Is(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const c=s[o],d=t[o];if(L_(c)&&L_(d)){if(!Is(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function L_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function xb(s,t){const n=new Lb(s,t);return n.subscribe.bind(n)}class Lb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Bb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bb(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Od(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(s){return s&&s._delegate?s._delegate:s}class Cs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ab;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Hb(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bs){return this.instances.has(t)}getOptions(t=bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&d.resolve(o)}return o}onInit(t,n){var r;const o=this.normalizeInstanceIdentifier(n),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qb(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=bs){return this.component?this.component.multipleInstances?t:bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qb(s){return s===bs?void 0:s}function Hb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new zb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const Gb={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},Fb=Dt.INFO,Kb={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},Qb=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=Kb[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bp{constructor(t){this.name=t,this._logLevel=Fb,this._logHandler=Qb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Gb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const Yb=(s,t)=>t.some(n=>s instanceof n);let B_,z_;function Xb(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $b(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,Yd=new WeakMap,IE=new WeakMap,Nd=new WeakMap,wp=new WeakMap;function Zb(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(Dr(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&RE.set(n,s)}).catch(()=>{}),wp.set(t,s),t}function Wb(s){if(Yd.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Yd.set(s,t)}let Xd={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return Yd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||IE.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Jb(s){Xd=s(Xd)}function tw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Md(this),t,...n);return IE.set(r,t.sort?t.sort():[t]),Dr(r)}:$b().includes(s)?function(...t){return s.apply(Md(this),t),Dr(RE.get(this))}:function(...t){return Dr(s.apply(Md(this),t))}}function ew(s){return typeof s=="function"?tw(s):(s instanceof IDBTransaction&&Wb(s),Yb(s,Xb())?new Proxy(s,Xd):s)}function Dr(s){if(s instanceof IDBRequest)return Zb(s);if(Nd.has(s))return Nd.get(s);const t=ew(s);return t!==s&&(Nd.set(s,t),wp.set(t,s)),t}const Md=s=>wp.get(s);function nw(s,t,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,t),m=Dr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Dr(d.result),g.oldVersion,g.newVersion,Dr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const iw=["get","getKey","getAll","getAllKeys","count"],rw=["put","add","delete","clear"],Vd=new Map;function q_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=rw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||iw.includes(n)))return;const c=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&g.done]))[0]};return Vd.set(t,c),c}Jb(s=>({...s,get:(t,n,r)=>q_(t,n)||s.get(t,n,r),has:(t,n)=>!!q_(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aw(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const $d="@firebase/app",H_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new bp("@firebase/app"),ow="@firebase/app-compat",lw="@firebase/analytics-compat",uw="@firebase/analytics",cw="@firebase/app-check-compat",hw="@firebase/app-check",fw="@firebase/auth",dw="@firebase/auth-compat",pw="@firebase/database",mw="@firebase/data-connect",gw="@firebase/database-compat",yw="@firebase/functions",_w="@firebase/functions-compat",vw="@firebase/installations",Ew="@firebase/installations-compat",Tw="@firebase/messaging",Aw="@firebase/messaging-compat",Sw="@firebase/performance",bw="@firebase/performance-compat",ww="@firebase/remote-config",Rw="@firebase/remote-config-compat",Iw="@firebase/storage",Cw="@firebase/storage-compat",Dw="@firebase/firestore",Ow="@firebase/vertexai",Nw="@firebase/firestore-compat",Mw="firebase",Vw="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",kw={[$d]:"fire-core",[ow]:"fire-core-compat",[uw]:"fire-analytics",[lw]:"fire-analytics-compat",[hw]:"fire-app-check",[cw]:"fire-app-check-compat",[fw]:"fire-auth",[dw]:"fire-auth-compat",[pw]:"fire-rtdb",[mw]:"fire-data-connect",[gw]:"fire-rtdb-compat",[yw]:"fire-fn",[_w]:"fire-fn-compat",[vw]:"fire-iid",[Ew]:"fire-iid-compat",[Tw]:"fire-fcm",[Aw]:"fire-fcm-compat",[Sw]:"fire-perf",[bw]:"fire-perf-compat",[ww]:"fire-rc",[Rw]:"fire-rc-compat",[Iw]:"fire-gcs",[Cw]:"fire-gcs-compat",[Dw]:"fire-fst",[Nw]:"fire-fst-compat",[Ow]:"fire-vertex","fire-js":"fire-js",[Mw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,Uw=new Map,Wd=new Map;function j_(s,t){try{s.container.addComponent(t)}catch(n){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ba(s){const t=s.name;if(Wd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,s);for(const n of Uc.values())j_(n,s);for(const n of Uw.values())j_(n,s);return!0}function Rp(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function ri(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new Ol("app","Firebase",Pw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=Vw;function CE(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Zd,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw Or.create("bad-app-name",{appName:String(o)});if(n||(n=bE()),!n)throw Or.create("no-options");const c=Uc.get(o);if(c){if(Is(n,c.options)&&Is(r,c.config))return c;throw Or.create("duplicate-app",{appName:o})}const d=new jb(o);for(const g of Wd.values())d.addComponent(g);const m=new xw(n,r,d);return Uc.set(o,m),m}function DE(s=Zd){const t=Uc.get(s);if(!t&&s===Zd&&bE())return CE();if(!t)throw Or.create("no-app",{appName:s});return t}function Nr(s,t,n){var r;let o=(r=kw[s])!==null&&r!==void 0?r:s;n&&(o+=`-${n}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${t}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(m.join(" "));return}Ba(new Cs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="firebase-heartbeat-database",Bw=1,Al="firebase-heartbeat-store";let kd=null;function OE(){return kd||(kd=nw(Lw,Bw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(s=>{throw Or.create("idb-open",{originalErrorMessage:s.message})})),kd}async function zw(s){try{const n=(await OE()).transaction(Al),r=await n.objectStore(Al).get(NE(s));return await n.done,r}catch(t){if(t instanceof Ki)qi.warn(t.message);else{const n=Or.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qi.warn(n.message)}}}async function G_(s,t){try{const r=(await OE()).transaction(Al,"readwrite");await r.objectStore(Al).put(t,NE(s)),await r.done}catch(n){if(n instanceof Ki)qi.warn(n.message);else{const r=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(r.message)}}}function NE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=1024,Hw=30;class jw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=F_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Hw){const d=Kw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F_(),{heartbeatsToSend:r,unsentEntries:o}=Gw(this._heartbeatsCache.heartbeats),c=kc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return qi.warn(n),""}}}function F_(){return new Date().toISOString().substring(0,10)}function Gw(s,t=qw){const n=[];let r=s.slice();for(const o of s){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),K_(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),K_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Fw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nb()?Mb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function K_(s){return kc(JSON.stringify({version:2,heartbeats:s})).length}function Kw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(s){Ba(new Cs("platform-logger",t=>new sw(t),"PRIVATE")),Ba(new Cs("heartbeat",t=>new jw(t),"PRIVATE")),Nr($d,H_,s),Nr($d,H_,"esm2017"),Nr("fire-js","")}Qw("");var Q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,ME;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(O,M,k){for(var R=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)R[Ve-2]=arguments[Ve];return S.prototype[M].apply(O,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,w){w||(w=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)O[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],M=N.g[2];var k=N.g[3],R=S+(k^w&(M^k))+O[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=k+(M^S&(w^M))+O[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=M+(w^k&(S^w))+O[2]+606105819&4294967295,M=k+(R<<17&4294967295|R>>>15),R=w+(S^M&(k^S))+O[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(k^w&(M^k))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=k+(M^S&(w^M))+O[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=M+(w^k&(S^w))+O[6]+2821735955&4294967295,M=k+(R<<17&4294967295|R>>>15),R=w+(S^M&(k^S))+O[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(k^w&(M^k))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=k+(M^S&(w^M))+O[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=M+(w^k&(S^w))+O[10]+4294925233&4294967295,M=k+(R<<17&4294967295|R>>>15),R=w+(S^M&(k^S))+O[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(k^w&(M^k))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=k+(M^S&(w^M))+O[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=M+(w^k&(S^w))+O[14]+2792965006&4294967295,M=k+(R<<17&4294967295|R>>>15),R=w+(S^M&(k^S))+O[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^k&(w^M))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=k+(w^M&(S^w))+O[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(k^S))+O[11]+643717713&4294967295,M=k+(R<<14&4294967295|R>>>18),R=w+(k^S&(M^k))+O[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^k&(w^M))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=k+(w^M&(S^w))+O[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(k^S))+O[15]+3634488961&4294967295,M=k+(R<<14&4294967295|R>>>18),R=w+(k^S&(M^k))+O[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^k&(w^M))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=k+(w^M&(S^w))+O[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(k^S))+O[3]+4107603335&4294967295,M=k+(R<<14&4294967295|R>>>18),R=w+(k^S&(M^k))+O[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^k&(w^M))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=k+(w^M&(S^w))+O[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(k^S))+O[7]+1735328473&4294967295,M=k+(R<<14&4294967295|R>>>18),R=w+(k^S&(M^k))+O[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^k)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=k+(S^w^M)+O[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=M+(k^S^w)+O[11]+1839030562&4294967295,M=k+(R<<16&4294967295|R>>>16),R=w+(M^k^S)+O[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^k)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=k+(S^w^M)+O[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=M+(k^S^w)+O[7]+4139469664&4294967295,M=k+(R<<16&4294967295|R>>>16),R=w+(M^k^S)+O[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^k)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=k+(S^w^M)+O[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=M+(k^S^w)+O[3]+3572445317&4294967295,M=k+(R<<16&4294967295|R>>>16),R=w+(M^k^S)+O[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^k)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=k+(S^w^M)+O[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=M+(k^S^w)+O[15]+530742520&4294967295,M=k+(R<<16&4294967295|R>>>16),R=w+(M^k^S)+O[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~k))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=k+(w^(S|~M))+O[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=M+(S^(k|~w))+O[14]+2878612391&4294967295,M=k+(R<<15&4294967295|R>>>17),R=w+(k^(M|~S))+O[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~k))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=k+(w^(S|~M))+O[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=M+(S^(k|~w))+O[10]+4293915773&4294967295,M=k+(R<<15&4294967295|R>>>17),R=w+(k^(M|~S))+O[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~k))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=k+(w^(S|~M))+O[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=M+(S^(k|~w))+O[6]+2734768916&4294967295,M=k+(R<<15&4294967295|R>>>17),R=w+(k^(M|~S))+O[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~k))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=k+(w^(S|~M))+O[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=M+(S^(k|~w))+O[2]+718787259&4294967295,M=k+(R<<15&4294967295|R>>>17),R=w+(k^(M|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,O=this.B,M=this.h,k=0;k<S;){if(M==0)for(;k<=w;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<S;)if(O[M++]=N.charCodeAt(k++),M==this.blockSize){o(this,O),M=0;break}}else for(;k<S;)if(O[M++]=N[k++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var O=0;32>O;O+=8)N[w++]=this.g[S]>>>O&255;return N};function c(N,S){var w=m;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],O=!0,M=N.length-1;0<=M;M--){var k=N[M]|0;O&&k==S||(w[M]=k,O=!1)}this.g=w}var m={};function g(N){return-128<=N&&128>N?c(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return W(_(-N));for(var S=[],w=1,O=0;N>=w;O++)S[O]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return W(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),O=I,M=0;M<N.length;M+=8){var k=Math.min(8,N.length-M),R=parseInt(N.substring(M,M+k),S);8>k?(k=_(Math.pow(S,k)),O=O.j(k).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var I=g(0),x=g(1),G=g(16777216);s=d.prototype,s.m=function(){if(it(this))return-W(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var O=this.i(w);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(it(this))return"-"+W(this).toString(N);for(var S=_(Math.pow(N,6)),w=this,O="";;){var M=xt(w,S).g;w=At(w,M.j(S));var k=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=M,Z(w))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function it(N){return N.h==-1}s.l=function(N){return N=At(this,N),it(N)?-1:Z(N)?0:1};function W(N){for(var S=N.g.length,w=[],O=0;O<S;O++)w[O]=~N.g[O];return new d(w,~N.h).add(x)}s.abs=function(){return it(this)?W(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0,M=0;M<=S;M++){var k=O+(this.i(M)&65535)+(N.i(M)&65535),R=(k>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=R>>>16,k&=65535,R&=65535,w[M]=R<<16|k}return new d(w,w[w.length-1]&-2147483648?-1:0)};function At(N,S){return N.add(W(S))}s.j=function(N){if(Z(this)||Z(N))return I;if(it(this))return it(N)?W(this).j(W(N)):W(W(this).j(N));if(it(N))return W(this.j(W(N)));if(0>this.l(G)&&0>N.l(G))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var k=this.i(O)>>>16,R=this.i(O)&65535,Ve=N.i(M)>>>16,re=N.i(M)&65535;w[2*O+2*M]+=R*re,Et(w,2*O+2*M),w[2*O+2*M+1]+=k*re,Et(w,2*O+2*M+1),w[2*O+2*M+1]+=R*Ve,Et(w,2*O+2*M+1),w[2*O+2*M+2]+=k*Ve,Et(w,2*O+2*M+2)}for(O=0;O<S;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=S;O<2*S;O++)w[O]=0;return new d(w,0)};function Et(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ft(N,S){this.g=N,this.h=S}function xt(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new ft(I,I);if(it(N))return S=xt(W(N),S),new ft(W(S.g),W(S.h));if(it(S))return S=xt(N,W(S)),new ft(W(S.g),S.h);if(30<N.g.length){if(it(N)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=x,O=S;0>=O.l(N);)w=yt(w),O=yt(O);var M=Nt(w,1),k=Nt(O,1);for(O=Nt(O,2),w=Nt(w,2);!Z(O);){var R=k.add(O);0>=R.l(N)&&(M=M.add(w),k=R),O=Nt(O,1),w=Nt(w,1)}return S=At(N,M.j(S)),new ft(M,S)}for(M=I;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=_(w),R=k.j(S);it(R)||0<R.l(N);)w-=O,k=_(w),R=k.j(S);Z(k)&&(k=x),M=M.add(k),N=At(N,R)}return new ft(M,N)}s.A=function(N){return xt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)&N.i(O);return new d(w,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)|N.i(O);return new d(w,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)^N.i(O);return new d(w,this.h^N.h)};function yt(N){for(var S=N.g.length+1,w=[],O=0;O<S;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(w,N.h)}function Nt(N,S){var w=S>>5;S%=32;for(var O=N.g.length-w,M=[],k=0;k<O;k++)M[k]=0<S?N.i(k+w)>>>S|N.i(k+w+1)<<32-S:N.i(k+w);return new d(M,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ME=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Mr=d}).apply(typeof Q_<"u"?Q_:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VE,pl,kE,Sc,Jd,UE,PE,xE;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function o(u,p){if(p)t:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],p=p(T),p!=T&&p!=null&&t(y,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var q=y++;return{value:p(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function _(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function A(u,p,y){return u.call.apply(u.bind,arguments)}function I(u,p,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(p,U)}}return function(){return u.apply(p,arguments)}}function x(u,p,y){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,x.apply(null,arguments)}function G(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,q){for(var J=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)J[Vt-2]=arguments[Vt];return p.prototype[U].apply(T,J)}}function it(u){const p=u.length;if(0<p){const y=Array(p);for(let T=0;T<p;T++)y[T]=u[T];return y}return[]}function W(u,p){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(g(T)){const U=u.length||0,q=T.length||0;u.length=U+q;for(let J=0;J<q;J++)u[U+J]=T[J]}else u.push(T)}}class At{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Et(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function xt(u){return xt[" "](u),u}xt[" "]=function(){};var yt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function Nt(u,p,y){for(const T in u)p.call(y,u[T],T,u)}function N(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function S(u){const p={};for(const y in u)p[y]=u[y];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,p){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let q=0;q<w.length;q++)y=w[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function k(u){m.setTimeout(()=>{throw u},0)}function R(){var u=Bt;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ve{constructor(){this.h=this.g=null}add(p,y){const T=re.get();T.set(p,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new At(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,at=!1,Bt=new Ve,C=()=>{const u=m.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){k(y)}var p=re;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}at=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};m.addEventListener("test",y,p),m.removeEventListener("test",y,p)}catch{}return u}();function wt(u,p){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(yt){t:{try{xt(p.nodeName);var U=!0;break t}catch{}U=!1}U||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:gt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}Z(wt,$);var gt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function zn(u,p,y,T,U){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fi(u){this.src=u,this.g={},this.h=0}fi.prototype.add=function(u,p,y,T,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var J=Hr(u,p,T,U);return-1<J?(p=u[J],y||(p.fa=!1)):(p=new zn(p,this.src,q,!!T,U),p.fa=y,u.push(p)),p};function qr(u,p){var y=p.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,p,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(Qi(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Hr(u,p,y,T){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==p&&q.capture==!!y&&q.ha==T)return U}return-1}var jr="closure_lm_"+(1e6*Math.random()|0),eo={};function Bl(u,p,y,T,U){if(Array.isArray(p)){for(var q=0;q<p.length;q++)Bl(u,p[q],y,T,U);return null}return y=zl(y),u&&u[Re]?u.K(p,y,_(T)?!!T.capture:!1,U):dn(u,p,y,!1,T,U)}function dn(u,p,y,T,U,q){if(!p)throw Error("Invalid event type");var J=_(U)?!!U.capture:!!U,Vt=xs(u);if(Vt||(u[jr]=Vt=new fi(u)),y=Vt.add(p,y,T,J,q),y.proxy)return y;if(T=Eh(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)lt||(U=J),U===void 0&&(U=!1),u.addEventListener(p.toString(),T,U);else if(u.attachEvent)u.attachEvent(Gr(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Eh(){function u(y){return p.call(u.src,u.listener,y)}const p=Th;return u}function no(u,p,y,T,U){if(Array.isArray(p))for(var q=0;q<p.length;q++)no(u,p[q],y,T,U);else T=_(T)?!!T.capture:!!T,y=zl(y),u&&u[Re]?(u=u.i,p=String(p).toString(),p in u.g&&(q=u.g[p],y=Hr(q,y,T,U),-1<y&&(Qi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[p],u.h--)))):u&&(u=xs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Hr(p,y,T,U)),(y=-1<u?p[u]:null)&&Ps(y))}function Ps(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Re])qr(p.i,u);else{var y=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(y,T,u.capture):p.detachEvent?p.detachEvent(Gr(y),T):p.addListener&&p.removeListener&&p.removeListener(T),(y=xs(p))?(qr(y,u),y.h==0&&(y.src=null,p[jr]=null)):Qi(u)}}}function Gr(u){return u in eo?eo[u]:eo[u]="on"+u}function Th(u,p){if(u.da)u=!0;else{p=new wt(p,this);var y=u.listener,T=u.ha||u.src;u.fa&&Ps(u),u=y.call(T,p)}return u}function xs(u){return u=u[jr],u instanceof fi?u:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function zl(u){return typeof u=="function"?u:(u[io]||(u[io]=function(p){return u.handleEvent(p)}),u[io])}function se(){et.call(this),this.i=new fi(this),this.M=this,this.F=null}Z(se,et),se.prototype[Re]=!0,se.prototype.removeEventListener=function(u,p,y,T){no(this,u,p,y,T)};function jt(u,p){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new $(p,u);else if(p instanceof $)p.target=p.target||u;else{var U=p;p=new $(T,u),O(p,U)}if(U=!0,y)for(var q=y.length-1;0<=q;q--){var J=p.g=y[q];U=rn(J,T,!0,p)&&U}if(J=p.g=u,U=rn(J,T,!0,p)&&U,U=rn(J,T,!1,p)&&U,y)for(q=0;q<y.length;q++)J=p.g=y[q],U=rn(J,T,!1,p)&&U}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],T=0;T<y.length;T++)Qi(y[T]);delete u.g[p],u.h--}}this.F=null},se.prototype.K=function(u,p,y,T){return this.i.add(String(u),p,!1,y,T)},se.prototype.L=function(u,p,y,T){return this.i.add(String(u),p,!0,y,T)};function rn(u,p,y,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,q=0;q<p.length;++q){var J=p[q];if(J&&!J.da&&J.capture==y){var Vt=J.listener,ve=J.ha||J.src;J.fa&&qr(u.i,J),U=Vt.call(ve,T)!==!1&&U}}return U&&!T.defaultPrevented}function He(u,p,y){if(typeof u=="function")y&&(u=x(u,y));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(u,p||0)}function ql(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,ql(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ah extends et{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(u){et.call(this),this.h=u,this.g={}}Z(Fr,et);var Kr=[];function Qr(u){Nt(u.g,function(p,y){this.g.hasOwnProperty(y)&&Ps(p)},u),u.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),Qr(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=m.JSON.stringify,Ls=m.JSON.parse,Yr=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function ro(){}ro.prototype.h=null;function so(u){return u.h||(u.h=u.i())}function ao(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){$.call(this,"d")}Z(pi,$);function oo(){$.call(this,"c")}Z(oo,$);var qn={},lo=null;function Yi(){return lo=lo||new se}qn.La="serverreachability";function Bs(u){$.call(this,qn.La,u)}Z(Bs,$);function Xi(u){const p=Yi();jt(p,new Bs(p))}qn.STAT_EVENT="statevent";function Hl(u,p){$.call(this,qn.STAT_EVENT,u),this.stat=p}Z(Hl,$);function Jt(u){const p=Yi();jt(p,new Hl(p,u))}qn.Ma="timingevent";function _e(u,p){$.call(this,qn.Ma,u),this.size=p}Z(_e,$);function fe(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},p)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function uo(u,p,y,T,U,q){u.info(function(){if(u.g)if(q)for(var J="",Vt=q.split("&"),ve=0;ve<Vt.length;ve++){var kt=Vt[ve].split("=");if(1<kt.length){var Ce=kt[0];kt=kt[1];var Ee=Ce.split("_");J=2<=Ee.length&&Ee[1]=="type"?J+(Ce+"="+kt+"&"):J+(Ce+"=redacted&")}}else J=null;else J=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+p+`
`+y+`
`+J})}function Sh(u,p,y,T,U,q,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+p+`
`+y+`
`+q+" "+J})}function $i(u,p,y,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Xr(u,y)+(T?" "+T:"")})}function jl(u,p){u.info(function(){return"TIMEOUT: "+p})}pn.prototype.info=function(){};function Xr(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var J=1;J<U.length;J++)U[J]=""}}}}return Dn(y)}catch{return p}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function jn(){}Z(jn,ro),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},Hn=new jn;function Xe(u,p,y,T){this.j=u,this.i=p,this.l=y,this.R=T||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var co={},zs={};function On(u,p,y){u.L=1,u.v=ts(sn(p)),u.m=y,u.P=!0,gi(u,null)}function gi(u,p){u.F=Date.now(),$r(u),u.A=sn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),yo(y.i,"t",T),u.C=0,y=u.j.J,u.h=new le,u.g=su(u.j,y?p:null,!u.m),0<u.O&&(u.M=new Ah(x(u.Y,u,u.g),u.O)),p=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Kr[0]=U.toString()),U=Kr);for(var q=0;q<U.length;q++){var J=Bl(y,U[q],T||p.handleEvent,!1,p.h||p);if(!J)break;p.g[J.key]=J}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Xi(),uo(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const p=this.M;p&&_n(u)==3?p.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=_n(this.g);var p=this.g.Ba();const bi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||Ee!=4||p==7||(p==8||0>=bi?Xi(3):Xi(2)),Wi(this);var y=this.g.Z();this.X=y;e:if(Gl(this)){var T=Zl(this.g);u="";var U=T.length,q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),Gn(this);var J="";break e}this.h.i=new m.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!(q&&p==U-1)});T.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,Sh(this.i,this.u,this.A,this.l,this.R,Ee,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ve=this.g;if((Vt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(Vt)){var kt=Vt;break e}}kt=null}if(y=kt)$i(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zr(this,y);else{this.o=!1,this.s=3,Jt(12),ke(this),Gn(this);break t}}if(this.P){y=!0;let Ue;for(;!this.J&&this.C<J.length;)if(Ue=Fl(this,J),Ue==zs){Ee==4&&(this.s=4,Jt(14),y=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==co){this.s=4,Jt(15),$i(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else $i(this.i,this.l,Ue,null),Zr(this,Ue);if(Gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||J.length!=0||this.h.h||(this.s=1,Jt(16),y=!1),this.o=this.o&&y,!y)$i(this.i,this.l,J,"[Invalid Chunked Response]"),ke(this),Gn(this);else if(0<J.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ls(Ce),Ce.M=!0,Jt(11))}}else $i(this.i,this.l,J,null),Zr(this,J);Ee==4&&ke(this),this.o&&!this.J&&(Ee==4?nu(this.j,this):(this.o=!1,$r(this)))}else Ch(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),ke(this),Gn(this)}}}catch{}finally{}};function Gl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Fl(u,p){var y=u.C,T=p.indexOf(`
`,y);return T==-1?zs:(y=Number(p.substring(y,T)),isNaN(y)?co:(T+=1,T+y>p.length?zs:(p=p.slice(T,T+y),u.C=T+y,p)))}Xe.prototype.cancel=function(){this.J=!0,ke(this)};function $r(u){u.S=Date.now()+u.I,Kl(u,u.I)}function Kl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(x(u.ba,u),p)}function Wi(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(jl(this.i,this.A),this.L!=2&&(Xi(),Jt(17)),ke(this),this.s=2,Gn(this)):Kl(this,this.S-u)};function Gn(u){u.j.G==0||u.J||nu(u.j,u)}function ke(u){Wi(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Qr(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Zr(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||ho(y.h,u))){if(!u.K&&ho(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Ws(y),$s(y);else break t;Ao(y),Jt(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=fe(x(y.Za,y),6e3));if(1>=Hs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Si(y,11)}else if((u.K||y.g==u)&&Ws(y),!Et(p))for(U=y.Da.g.parse(p),p=0;p<U.length;p++){let kt=U[p];if(y.T=kt[0],kt=kt[1],y.G==2)if(kt[0]=="c"){y.K=kt[1],y.ia=kt[2];const Ce=kt[3];Ce!=null&&(y.la=Ce,y.j.info("VER="+y.la));const Ee=kt[4];Ee!=null&&(y.Aa=Ee,y.j.info("SVER="+y.Aa));const bi=kt[5];bi!=null&&typeof bi=="number"&&0<bi&&(T=1.5*bi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Ue=u.g;if(Ue){const Zn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var q=T.h;q.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(js(q,q.h),q.h=null))}if(T.D){const bo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(T.ya=bo,Kt(T.I,T.D,bo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var J=u;if(T.qa=ru(T,T.J?T.ia:null,T.W),J.K){$e(T.h,J);var Vt=J,ve=T.L;ve&&(Vt.I=ve),Vt.B&&(Wi(Vt),$r(Vt)),T.g=J}else tu(T);0<y.i.length&&Zs(y)}else kt[0]!="stop"&&kt[0]!="close"||Si(y,7);else y.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Si(y,7):Eo(y):kt[0]!="noop"&&y.l&&y.l.ta(kt),y.v=0)}}Xi(4)}catch{}}var Ql=class{constructor(u,p){this.g=u,this.map=p}};function yi(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hs(u){return u.h?1:u.g?u.g.size:0}function ho(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function js(u,p){u.g?u.g.add(p):u.h=p}function $e(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}yi.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return it(u.i)}function bh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],y=u.length,T=0;T<y;T++)p.push(u[T]);return p}p=[],y=0;for(T in u)p[y++]=u[T];return p}function Gs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const T in u)p[y++]=T;return p}}}function po(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=Gs(u),T=bh(u),U=T.length,q=0;q<U;q++)p.call(void 0,T[q],y&&y[q],u)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wh(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var q=u[y].substring(0,T);U=u[y].substring(T+1)}else q=u[y];p(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Jr(this,u.j),this.o=u.o,this.g=u.g,Ji(this,u.s),this.l=u.l;var p=u.i,y=new vi;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),_i(this,y),this.m=u.m}else u&&(p=String(u).match(Wr))?(this.h=!1,Jr(this,p[1]||"",!0),this.o=mn(p[2]||""),this.g=mn(p[3]||"",!0),Ji(this,p[4]),this.l=mn(p[5]||"",!0),_i(this,p[6]||"",!0),this.m=mn(p[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}de.prototype.toString=function(){var u=[],p=this.j;p&&u.push(es(p,mo,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(es(p,mo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(es(y,y.charAt(0)=="/"?Rh:go,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",es(y,Fs)),u.join("")};function sn(u){return new de(u)}function Jr(u,p,y){u.j=y?mn(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ji(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function _i(u,p,y){p instanceof vi?(u.i=p,Xl(u.i,u.h)):(y||(p=es(p,Ih)),u.i=new vi(p,u.h))}function Kt(u,p,y){u.i.set(p,y)}function ts(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function es(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,Yl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Yl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mo=/[#\/\?@]/g,go=/[#\?:]/g,Rh=/[#\?]/g,Ih=/[#\?@]/g,Fs=/#/g;function vi(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&wh(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}s=vi.prototype,s.add=function(u,p){gn(this),this.i=null,u=Fn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function Ei(u,p){gn(u),p=Fn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ti(u,p){return gn(u),p=Fn(u,p),u.g.has(p)}s.forEach=function(u,p){gn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(p,U,T,this)},this)},this)},s.na=function(){gn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let T=0;T<p.length;T++){const U=u[T];for(let q=0;q<U.length;q++)y.push(p[T])}return y},s.V=function(u){gn(this);let p=[];if(typeof u=="string")Ti(this,u)&&(p=p.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},s.set=function(u,p){return gn(this),this.i=null,u=Fn(this,u),Ti(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function yo(u,p,y){Ei(u,p),0<y.length&&(u.i=null,u.g.set(Fn(u,p),it(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var T=p[y];const q=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var U=q;J[T]!==""&&(U+="="+encodeURIComponent(String(J[T]))),u.push(U)}}return this.i=u.join("&")};function Fn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Xl(u,p){p&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(Ei(this,T),yo(this,U,y))},u)),u.j=p}function ns(u,p){const y=new pn;if(m.Image){const T=new Image;T.onload=G(yn,y,"TestLoadImage: loaded",!0,p,T),T.onerror=G(yn,y,"TestLoadImage: error",!1,p,T),T.onabort=G(yn,y,"TestLoadImage: abort",!1,p,T),T.ontimeout=G(yn,y,"TestLoadImage: timeout",!1,p,T),m.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function Nn(u,p){const y=new pn,T=new AbortController,U=setTimeout(()=>{T.abort(),yn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?yn(y,"TestPingServer: ok",!0,p):yn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),yn(y,"TestPingServer: error",!1,p)})}function yn(u,p,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function is(){this.g=new Yr}function Kn(u,p,y){const T=y||"";try{po(u,function(U,q){let J=U;_(U)&&(J=Dn(U)),p.push(T+q+"="+encodeURIComponent(J))})}catch(U){throw p.push(T+"type="+encodeURIComponent("_badmap")),U}}function tr(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(tr,ro),tr.prototype.g=function(){return new Ai(this.l,this.j)},tr.prototype.i=function(u){return function(){return u}}({});function Ai(u,p){se.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Ai,se),s=Ai.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Yn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Qn(this):Yn(this),this.readyState==3&&_o(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},s.Qa=function(u){this.g&&(this.response=u,Qn(this))},s.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}s.setRequestHeader=function(u,p){this.u.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vo(u){let p="";return Nt(u,function(y,T){p+=T,p+=":",p+=y,p+=`\r
`}),p}function Ie(u,p,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=vo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Kt(u,p,y))}function qt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,se);var Ks=/^https?$/i,rs=["POST","PUT"];s=qt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,p,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?so(this.o):so(Hn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(q){$l(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(rs,p,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,J]of y)this.g.setRequestHeader(q,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){$l(this,q)}};function $l(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Qs(u),Xn(u)}function Qs(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Xn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ys(this):this.bb())},s.bb=function(){Ys(this)};function Ys(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)He(u.Ea,0,u);else if(jt(u,"readystatechange"),_n(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var y;if(!(y=p)){var T;if(T=J===0){var U=String(u.D).match(Wr)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),T=!Ks.test(U?U.toLowerCase():"")}y=T}if(y)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<_n(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Qs(u)}}finally{Xn(u)}}}}function Xn(u,p){if(u.g){ss(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||jt(u,"ready");try{y.onreadystatechange=T}catch{}}}function ss(u){u.I&&(m.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Ls(p)}};function Zl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ch(u){const p={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Et(u[T]))continue;var y=M(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=p[U]||[];p[U]=q,q.push(y)}N(p,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Xs(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,u),this.cb=as("retryDelaySeedMs",1e4,u),this.Wa=as("forwardChannelMaxRetries",2,u),this.wa=as("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(u&&u.concurrentRequestLimit),this.Da=new is,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Xs.prototype,s.la=8,s.G=1,s.connect=function(u,p,y,T){Jt(0),this.W=u,this.H=p||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=ru(this,null,this.W),Zs(this)};function Eo(u){if(Wl(u),u.G==3){var p=u.U++,y=sn(u.I);if(Kt(y,"SID",u.K),Kt(y,"RID",p),Kt(y,"TYPE","terminate"),os(u,y),p=new Xe(u,u.j,p),p.L=2,p.v=ts(sn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=p.v,y=!0),y||(p.g=su(p.j,null),p.g.ea(p.v)),p.F=Date.now(),$r(p)}iu(u)}function $s(u){u.g&&(ls(u),u.g.cancel(),u.g=null)}function Wl(u){$s(u),u.u&&(m.clearTimeout(u.u),u.u=null),Ws(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Zs(u){if(!qs(u.h)&&!u.s){u.s=!0;var p=u.Ga;tt||C(),at||(tt(),at=!0),Bt.add(p,u),u.B=0}}function Dh(u,p){return Hs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(x(u.Ga,u,p),So(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Xe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var p=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=y;break t}if(p===4096||y===this.i.length-1){p=y+1;break t}}p=1e3}else p=1e3;p=Jl(this,U,p),y=sn(this.I),Kt(y,"RID",u),Kt(y,"CVER",22),this.D&&Kt(y,"X-HTTP-Session-Id",this.D),os(this,y),q&&(this.O?p="headers="+encodeURIComponent(String(vo(q)))+"&"+p:this.m&&Ie(y,this.m,q)),js(this.h,U),this.Ua&&Kt(y,"TYPE","init"),this.P?(Kt(y,"$req",p),Kt(y,"SID","null"),U.T=!0,On(U,y,null)):On(U,y,p),this.G=2}}else this.G==3&&(u?To(this,u):this.i.length==0||qs(this.h)||To(this))};function To(u,p){var y;p?y=p.l:y=u.U++;const T=sn(u.I);Kt(T,"SID",u.K),Kt(T,"RID",y),Kt(T,"AID",u.T),os(u,T),u.m&&u.o&&Ie(T,u.m,u.o),y=new Xe(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Jl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),js(u.h,y),On(y,T,p)}function os(u,p){u.H&&Nt(u.H,function(y,T){Kt(p,T,y)}),u.l&&po({},function(y,T){Kt(p,T,y)})}function Jl(u,p,y){y=Math.min(u.i.length,y);var T=u.l?x(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const J=["count="+y];q==-1?0<y?(q=U[0].g,J.push("ofs="+q)):q=0:J.push("ofs="+q);let Vt=!0;for(let ve=0;ve<y;ve++){let kt=U[ve].g;const Ce=U[ve].map;if(kt-=q,0>kt)q=Math.max(0,U[ve].g-100),Vt=!1;else try{Kn(Ce,J,"req"+kt+"_")}catch{T&&T(Ce)}}if(Vt){T=J.join("&");break t}}}return u=u.i.splice(0,y),p.D=u,T}function tu(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;tt||C(),at||(tt(),at=!0),Bt.add(p,u),u.v=0}}function Ao(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(x(u.Fa,u),So(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(x(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),$s(this),eu(this))};function ls(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function eu(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=sn(u.qa);Kt(p,"RID","rpc"),Kt(p,"SID",u.K),Kt(p,"AID",u.T),Kt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(p,"TO",u.ja),Kt(p,"TYPE","xmlhttp"),os(u,p),u.m&&u.o&&Ie(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=ts(sn(p)),y.m=null,y.P=!0,gi(y,u)}s.Za=function(){this.C!=null&&(this.C=null,$s(this),Ao(this),Jt(19))};function Ws(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function nu(u,p){var y=null;if(u.g==p){Ws(u),ls(u),u.g=null;var T=2}else if(ho(u.h,p))y=p.D,$e(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var U=u.B;T=Yi(),jt(T,new _e(T,y)),Zs(u)}else tu(u);else if(U=p.s,U==3||U==0&&0<p.X||!(T==1&&Dh(u,p)||T==2&&Ao(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),U){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function So(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function Si(u,p){if(u.j.info("Error code "+p),p==2){var y=x(u.fb,u),T=u.Xa;const U=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Jr(T,"https"),ts(T),U?ns(T.toString(),y):Nn(T.toString(),y)}else Jt(2);u.G=0,u.l&&u.l.sa(p),iu(u),Wl(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function iu(u){if(u.G=0,u.ka=[],u.l){const p=fo(u.h);(p.length!=0||u.i.length!=0)&&(W(u.ka,p),W(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function ru(u,p,y){var T=y instanceof de?sn(y):new de(y);if(T.g!="")p&&(T.g=p+"."+T.g),Ji(T,T.s);else{var U=m.location;T=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var q=new de(null);T&&Jr(q,T),p&&(q.g=p),U&&Ji(q,U),y&&(q.l=y),T=q}return y=u.D,p=u.ya,y&&p&&Kt(T,y,p),Kt(T,"VER",u.la),os(u,T),T}function su(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new qt(new tr({eb:y})):new qt(u.pa),p.Ha(u.J),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}s=au.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Js(){}Js.prototype.g=function(u,p){return new Ze(u,p)};function Ze(u,p){se.call(this),this.g=new Xs(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!Et(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!Et(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new $n(this)}Z(Ze,se),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Eo(this.g)},Ze.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Dn(u),u=y);p.i.push(new Ql(p.Ya++,u)),p.G==3&&Zs(p)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Ze.aa.N.call(this)};function ou(u){pi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const y in p){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}Z(ou,pi);function lu(){oo.call(this),this.status=1}Z(lu,oo);function $n(u){this.g=u}Z($n,au),$n.prototype.ua=function(){jt(this.g,"a")},$n.prototype.ta=function(u){jt(this.g,new ou(u))},$n.prototype.sa=function(u){jt(this.g,new lu)},$n.prototype.ra=function(){jt(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,xE=function(){return new Js},PE=function(){return Yi()},UE=qn,Jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Sc=Zi,mi.COMPLETE="complete",kE=mi,ao.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",se.prototype.listen=se.prototype.K,pl=ao,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,VE=qt}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore",X_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new bp("@firebase/firestore");function Da(){return Ds.logLevel}function nt(s,...t){if(Ds.logLevel<=Dt.DEBUG){const n=t.map(Ip);Ds.debug(`Firestore (${$a}): ${s}`,...n)}}function Hi(s,...t){if(Ds.logLevel<=Dt.ERROR){const n=t.map(Ip);Ds.error(`Firestore (${$a}): ${s}`,...n)}}function za(s,...t){if(Ds.logLevel<=Dt.WARN){const n=t.map(Ip);Ds.warn(`Firestore (${$a}): ${s}`,...n)}}function Ip(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s="Unexpected state"){const t=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+s;throw Hi(t),new Error(t)}function Ht(s,t){s||pt()}function vt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ki{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Yw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class Xw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $w{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vr,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=c;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vr)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string"),new LE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string"),new Ke(t)}}class Zw{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ww{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Zw(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jw{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ri(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0);const r=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const o=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string"),this.R=n.token,new $_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=tR(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=t.charAt(o[c]%62))}return r}}function bt(s,t){return s<t?-1:s>t?1:0}function tp(s,t){let n=0;for(;n<s.length&&n<t.length;){const r=s.codePointAt(n),o=t.codePointAt(n);if(r!==o){if(r<128&&o<128)return bt(r,o);{const c=BE(),d=eR(c.encode(Z_(s,n)),c.encode(Z_(t,n)));return d!==0?d:bt(r,o)}}n+=r>65535?2:1}return bt(s.length,t.length)}function Z_(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function eR(s,t){for(let n=0;n<s.length&&n<t.length;++n)if(s[n]!==t[n])return bt(s[n],t[n]);return bt(s.length,t.length)}function qa(s,t,n){return s.length===t.length&&s.every((r,o)=>n(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=-62135596800,J_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*J_);return new be(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<W_)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J_}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-W_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new be(0,0))}static max(){return new _t(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="__name__";class ii{constructor(t,n,r){n===void 0?n=0:n>t.length&&pt(),r===void 0?r=t.length-n:r>t.length-n&&pt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ii?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const c=ii.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return bt(t.length,n.length)}static compareSegments(t,n){const r=ii.isNumericId(t),o=ii.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?ii.extractNumericId(t).compare(ii.extractNumericId(n)):tp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mr.fromString(t.substring(4,t.length-2))}}class ee extends ii{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const nR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ii{construct(t,n,r){return new ze(t,n,r)}static isValidIdentifier(t){return nR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new ze([tv])}static fromServerFormat(t){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(r+=m,o++):(c(),o++)}if(c(),d)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(ee.fromString(t))}static fromName(t){return new ut(ee.fromString(t).popFirst(5))}static empty(){return new ut(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=-1;function iR(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(r===1e9?new be(n+1,0):new be(n,r));return new Ur(o,ut.empty(),t)}function rR(s){return new Ur(s.readTime,s.key,Sl)}class Ur{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ur(_t.min(),ut.empty(),Sl)}static max(){return new Ur(_t.max(),ut.empty(),Sl)}}function sR(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ut.comparator(s.documentKey,t.documentKey),n!==0?n:bt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==aR)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.reject(n)}static resolve(t){return new Q((n,r)=>{n(t)})}static reject(t){return new Q((n,r)=>{r(t)})}static waitFor(t){return new Q((n,r)=>{let o=0,c=0,d=!1;t.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&n()},g=>r(g))}),d=!0,c===o&&n()})}static or(t){let n=Q.resolve(!1);for(const r of t)n=n.next(o=>o?Q.resolve(o):r());return n}static forEach(t,n){const r=[];return t.forEach((o,c)=>{r.push(n.call(this,o,c))}),this.waitFor(r)}static mapArray(t,n){return new Q((r,o)=>{const c=t.length,d=new Array(c);let m=0;for(let g=0;g<c;g++){const _=g;n(t[_]).next(A=>{d[_]=A,++m,m===c&&r(d)},A=>o(A))}})}static doWhile(t,n){return new Q((r,o)=>{const c=()=>{t()===!0?n().next(()=>{c()},o):r()};c()})}}function lR(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}rh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function sh(s){return s==null}function Pc(s){return s===0&&1/s==-1/0}function uR(s){return typeof s=="number"&&Number.isInteger(s)&&!Pc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="";function cR(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=ev(t)),t=hR(s.get(n),t);return ev(t)}function hR(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case qE:n+="";break;default:n+=c}}return n}function ev(s){return s+qE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function Ms(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function HE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new ie(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fc(this.root,t,this.comparator,!0)}}class fc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?r(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,r,o,c){this.key=t,this.value=n,this.color=r??Be.RED,this.left=o??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,c){return new Be(t??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const t=this.left.check();if(t!==this.right.check())throw pt();return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(t,n,r,o,c){return this}insert(t,n,r){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new iv(this.data.getIterator())}getIteratorFrom(t){return new iv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class iv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new Pn([])}unionWith(t){let n=new we(ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qa(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jE("Invalid base64 string: "+c):c}}(t);return new qe(n)}static fromUint8Array(t){const n=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const fR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(s){if(Ht(!!s),typeof s=="string"){let t=0;const n=fR.exec(s);if(Ht(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function xr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="server_timestamp",FE="__type__",KE="__previous_value__",QE="__local_write_time__";function Dp(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[FE])===null||n===void 0?void 0:n.stringValue)===GE}function ah(s){const t=s.mapValue.fields[KE];return Dp(t)?ah(t):t}function bl(s){const t=Pr(s.mapValue.fields[QE].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t,n,r,o,c,d,m,g,_){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}const xc="(default)";class wl{constructor(t,n){this.projectId=t,this.database=n||xc}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===xc}isEqual(t){return t instanceof wl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="__type__",pR="__max__",dc={mapValue:{}},XE="__vector__",Lc="value";function Lr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dp(s)?4:gR(s)?9007199254740991:mR(s)?10:11:pt()}function ci(s,t){if(s===t)return!0;const n=Lr(s);if(n!==Lr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return bl(s).isEqual(bl(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Pr(o.timestampValue),m=Pr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(o,c){return xr(o.bytesValue).isEqual(xr(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(o,c){return he(o.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(s,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return he(o.integerValue)===he(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=he(o.doubleValue),m=he(c.doubleValue);return d===m?Pc(d)===Pc(m):isNaN(d)&&isNaN(m)}return!1}(s,t);case 9:return qa(s.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(nv(d)!==nv(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!ci(d[g],m[g])))return!1;return!0}(s,t);default:return pt()}}function Rl(s,t){return(s.values||[]).find(n=>ci(n,t))!==void 0}function Ha(s,t){if(s===t)return 0;const n=Lr(s),r=Lr(t);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,t.booleanValue);case 2:return function(c,d){const m=he(c.integerValue||c.doubleValue),g=he(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(s,t);case 3:return rv(s.timestampValue,t.timestampValue);case 4:return rv(bl(s),bl(t));case 5:return tp(s.stringValue,t.stringValue);case 6:return function(c,d){const m=xr(c),g=xr(d);return m.compareTo(g)}(s.bytesValue,t.bytesValue);case 7:return function(c,d){const m=c.split("/"),g=d.split("/");for(let _=0;_<m.length&&_<g.length;_++){const A=bt(m[_],g[_]);if(A!==0)return A}return bt(m.length,g.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,d){const m=bt(he(c.latitude),he(d.latitude));return m!==0?m:bt(he(c.longitude),he(d.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return sv(s.arrayValue,t.arrayValue);case 10:return function(c,d){var m,g,_,A;const I=c.fields||{},x=d.fields||{},G=(m=I[Lc])===null||m===void 0?void 0:m.arrayValue,Z=(g=x[Lc])===null||g===void 0?void 0:g.arrayValue,it=bt(((_=G==null?void 0:G.values)===null||_===void 0?void 0:_.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:sv(G,Z)}(s.mapValue,t.mapValue);case 11:return function(c,d){if(c===dc.mapValue&&d===dc.mapValue)return 0;if(c===dc.mapValue)return 1;if(d===dc.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),_=d.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let I=0;I<g.length&&I<A.length;++I){const x=tp(g[I],A[I]);if(x!==0)return x;const G=Ha(m[g[I]],_[A[I]]);if(G!==0)return G}return bt(g.length,A.length)}(s.mapValue,t.mapValue);default:throw pt()}}function rv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return bt(s,t);const n=Pr(s),r=Pr(t),o=bt(n.seconds,r.seconds);return o!==0?o:bt(n.nanos,r.nanos)}function sv(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=Ha(n[o],r[o]);if(c)return c}return bt(n.length,r.length)}function ja(s){return ep(s)}function ep(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const r=Pr(n);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return xr(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return ut.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=ep(c);return r+"]"}(s.arrayValue):"mapValue"in s?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${ep(n.fields[d])}`;return o+"}"}(s.mapValue):pt()}function bc(s){switch(Lr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(s);return t?16+bc(t):16;case 5:return 2*s.stringValue.length;case 6:return xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,c)=>o+bc(c),0)}(s.arrayValue);case 10:case 11:return function(r){let o=0;return Ms(r.fields,(c,d)=>{o+=c.length+bc(d)}),o}(s.mapValue);default:throw pt()}}function np(s){return!!s&&"integerValue"in s}function Op(s){return!!s&&"arrayValue"in s}function av(s){return!!s&&"nullValue"in s}function ov(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function wc(s){return!!s&&"mapValue"in s}function mR(s){var t,n;return((n=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[YE])===null||n===void 0?void 0:n.stringValue)===XE}function yl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Ms(s.mapValue.fields,(n,r)=>t.mapValue.fields[n]=yl(r)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yl(s.arrayValue.values[n]);return t}return Object.assign({},s)}function gR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===pR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!wc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=yl(n)}setAll(t){let n=ze.emptyPath(),r={},o=[];t.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}d?r[m.lastSegment()]=yl(d):o.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(t){const n=this.field(t.popLast());wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ci(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){Ms(n,(o,c)=>t[o]=c);for(const o of r)delete t[o]}clone(){return new Cn(yl(this.value))}}function $E(s){const t=[];return Ms(s.fields,(n,r)=>{const o=new ze([n]);if(wc(r)){const c=$E(r.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new Pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,r,o,c,d,m){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(t){return new Qe(t,0,_t.min(),_t.min(),_t.min(),Cn.empty(),0)}static newFoundDocument(t,n,r,o){return new Qe(t,1,n,_t.min(),r,o,0)}static newNoDocument(t,n){return new Qe(t,2,n,_t.min(),_t.min(),Cn.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,_t.min(),_t.min(),Cn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n){this.position=t,this.inclusive=n}}function lv(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const c=t[o],d=s.position[o];if(c.field.isKeyField()?r=ut.comparator(ut.fromName(d.referenceValue),n.key):r=Ha(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function uv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ci(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n="asc"){this.field=t,this.dir=n}}function yR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{}class Se extends ZE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new vR(t,n,r):n==="array-contains"?new AR(t,r):n==="in"?new SR(t,r):n==="not-in"?new bR(t,r):n==="array-contains-any"?new wR(t,r):new Se(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new ER(t,r):new TR(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ha(n,this.value)):n!==null&&Lr(this.value)===Lr(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends ZE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new hi(t,n)}matches(t){return WE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function WE(s){return s.op==="and"}function JE(s){return _R(s)&&WE(s)}function _R(s){for(const t of s.filters)if(t instanceof hi)return!1;return!0}function ip(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+ja(s.value);if(JE(s))return s.filters.map(t=>ip(t)).join(",");{const t=s.filters.map(n=>ip(n)).join(",");return`${s.op}(${t})`}}function tT(s,t){return s instanceof Se?function(r,o){return o instanceof Se&&r.op===o.op&&r.field.isEqual(o.field)&&ci(r.value,o.value)}(s,t):s instanceof hi?function(r,o){return o instanceof hi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((c,d,m)=>c&&tT(d,o.filters[m]),!0):!1}(s,t):void pt()}function eT(s){return s instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(s):s instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(eT).join(" ,")+"}"}(s):"Filter"}class vR extends Se{constructor(t,n,r){super(t,n,r),this.key=ut.fromName(r.referenceValue)}matches(t){const n=ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class ER extends Se{constructor(t,n){super(t,"in",n),this.keys=nT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class TR extends Se{constructor(t,n){super(t,"not-in",n),this.keys=nT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function nT(s,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ut.fromName(r.referenceValue))}class AR extends Se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Op(n)&&Rl(n.arrayValue,this.value)}}class SR extends Se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class bR extends Se{constructor(t,n){super(t,"not-in",n)}matches(t){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}}class wR extends Se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,n=null,r=[],o=[],c=null,d=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.le=null}}function cv(s,t=null,n=[],r=[],o=null,c=null,d=null){return new RR(s,t,n,r,o,c,d)}function Np(s){const t=vt(s);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>ip(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ja(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ja(r)).join(",")),t.le=n}return t.le}function Mp(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!yR(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!tT(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!uv(s.startAt,t.startAt)&&uv(s.endAt,t.endAt)}function rp(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n=null,r=[],o=[],c=null,d="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function IR(s,t,n,r,o,c,d,m){return new oh(s,t,n,r,o,c,d,m)}function iT(s){return new oh(s)}function hv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function CR(s){return s.collectionGroup!==null}function _l(s){const t=vt(s);if(t.he===null){t.he=[];const n=new Set;for(const c of t.explicitOrderBy)t.he.push(c),n.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new we(ze.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.he.push(new zc(c,r))}),n.has(ze.keyField().canonicalString())||t.he.push(new zc(ze.keyField(),r))}return t.he}function si(s){const t=vt(s);return t.Pe||(t.Pe=DR(t,_l(s))),t.Pe}function DR(s,t){if(s.limitType==="F")return cv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new zc(o.field,c)});const n=s.endAt?new Bc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Bc(s.startAt.position,s.startAt.inclusive):null;return cv(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function sp(s,t,n){return new oh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function lh(s,t){return Mp(si(s),si(t))&&s.limitType===t.limitType}function rT(s){return`${Np(si(s))}|lt:${s.limitType}`}function Oa(s){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>eT(o)).join(", ")}]`),sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>ja(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>ja(o)).join(",")),`Target(${r})`}(si(s))}; limitType=${s.limitType})`}function uh(s,t){return t.isFoundDocument()&&function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ut.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,t)&&function(r,o){for(const c of _l(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(s,t)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(s,t)&&function(r,o){return!(r.startAt&&!function(d,m,g){const _=lv(d,m,g);return d.inclusive?_<=0:_<0}(r.startAt,_l(r),o)||r.endAt&&!function(d,m,g){const _=lv(d,m,g);return d.inclusive?_>=0:_>0}(r.endAt,_l(r),o))}(s,t)}function OR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function sT(s){return(t,n)=>{let r=!1;for(const o of _l(s)){const c=NR(o,t,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function NR(s,t,n){const r=s.field.isKeyField()?ut.comparator(t.key,n.key):function(c,d,m){const g=d.data.field(c),_=m.data.field(c);return g!==null&&_!==null?Ha(g,_):pt()}(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ms(this.inner,(n,r)=>{for(const[o,c]of r)t(o,c)})}isEmpty(){return HE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new ie(ut.comparator);function ji(){return MR}const aT=new ie(ut.comparator);function ml(...s){let t=aT;for(const n of s)t=t.insert(n.key,n);return t}function oT(s){let t=aT;return s.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ws(){return vl()}function lT(){return vl()}function vl(){return new Vs(s=>s.toString(),(s,t)=>s.isEqual(t))}const VR=new ie(ut.comparator),kR=new we(ut.comparator);function Ot(...s){let t=kR;for(const n of s)t=t.add(n);return t}const UR=new we(bt);function PR(){return UR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(t)?"-0":t}}function uT(s){return{integerValue:""+s}}function xR(s,t){return uR(t)?uT(t):Vp(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function LR(s,t,n){return s instanceof qc?function(o,c){const d={fields:{[FE]:{stringValue:GE},[QE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Dp(c)&&(c=ah(c)),c&&(d.fields[KE]=c),{mapValue:d}}(n,t):s instanceof Il?hT(s,t):s instanceof Cl?fT(s,t):function(o,c){const d=cT(o,c),m=fv(d)+fv(o.Ie);return np(d)&&np(o.Ie)?uT(m):Vp(o.serializer,m)}(s,t)}function BR(s,t,n){return s instanceof Il?hT(s,t):s instanceof Cl?fT(s,t):n}function cT(s,t){return s instanceof Hc?function(r){return np(r)||function(c){return!!c&&"doubleValue"in c}(r)}(t)?t:{integerValue:0}:null}class qc extends ch{}class Il extends ch{constructor(t){super(),this.elements=t}}function hT(s,t){const n=dT(t);for(const r of s.elements)n.some(o=>ci(o,r))||n.push(r);return{arrayValue:{values:n}}}class Cl extends ch{constructor(t){super(),this.elements=t}}function fT(s,t){let n=dT(t);for(const r of s.elements)n=n.filter(o=>!ci(o,r));return{arrayValue:{values:n}}}class Hc extends ch{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function fv(s){return he(s.integerValue||s.doubleValue)}function dT(s){return Op(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function zR(s,t){return s.field.isEqual(t.field)&&function(r,o){return r instanceof Il&&o instanceof Il||r instanceof Cl&&o instanceof Cl?qa(r.elements,o.elements,ci):r instanceof Hc&&o instanceof Hc?ci(r.Ie,o.Ie):r instanceof qc&&o instanceof qc}(s.transform,t.transform)}class qR{constructor(t,n){this.version=t,this.transformResults=n}}class zi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zi}static exists(t){return new zi(void 0,t)}static updateTime(t){return new zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class hh{}function pT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new gT(s.key,zi.none()):new Ml(s.key,s.data,zi.none());{const n=s.data,r=Cn.empty();let o=new we(ze.comparator);for(let c of t.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new ks(s.key,r,new Pn(o.toArray()),zi.none())}}function HR(s,t,n){s instanceof Ml?function(o,c,d){const m=o.value.clone(),g=pv(o.fieldTransforms,c,d.transformResults);m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(s,t,n):s instanceof ks?function(o,c,d){if(!Rc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=pv(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(mT(o)),g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,t,n):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function El(s,t,n,r){return s instanceof Ml?function(c,d,m,g){if(!Rc(c.precondition,d))return m;const _=c.value.clone(),A=mv(c.fieldTransforms,g,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,t,n,r):s instanceof ks?function(c,d,m,g){if(!Rc(c.precondition,d))return m;const _=mv(c.fieldTransforms,g,d),A=d.data;return A.setAll(mT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(s,t,n,r):function(c,d,m){return Rc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(s,t,n)}function jR(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),c=cT(r.transform,o||null);c!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,c))}return n||null}function dv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&qa(r,o,(c,d)=>zR(c,d))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ml extends hh{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends hh{constructor(t,n,r,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mT(s){const t=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}}),t}function pv(s,t,n){const r=new Map;Ht(s.length===n.length);for(let o=0;o<n.length;o++){const c=s[o],d=c.transform,m=t.data.field(c.field);r.set(c.field,BR(d,m,n[o]))}return r}function mv(s,t,n){const r=new Map;for(const o of s){const c=o.transform,d=n.data.field(o.field);r.set(o.field,LR(c,d,t))}return r}class gT extends hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GR extends hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&HR(c,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=El(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=El(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=lT();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(o.key)?null:m;const g=pT(d,m);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ot())}isEqual(t){return this.batchId===t.batchId&&qa(this.mutations,t.mutations,(n,r)=>dv(n,r))&&qa(this.baseMutations,t.baseMutations,(n,r)=>dv(n,r))}}class kp{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Ht(t.mutations.length===r.length);let o=function(){return VR}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new kp(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Pt;function YR(s){switch(s){case X.OK:return pt();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt()}}function yT(s){if(s===void 0)return Hi("GRPC error has no .code"),X.UNKNOWN;switch(s){case ge.OK:return X.OK;case ge.CANCELLED:return X.CANCELLED;case ge.UNKNOWN:return X.UNKNOWN;case ge.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ge.INTERNAL:return X.INTERNAL;case ge.UNAVAILABLE:return X.UNAVAILABLE;case ge.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ge.NOT_FOUND:return X.NOT_FOUND;case ge.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ge.ABORTED:return X.ABORTED;case ge.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ge.DATA_LOSS:return X.DATA_LOSS;default:return pt()}}(Pt=ge||(ge={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new Mr([4294967295,4294967295],0);function gv(s){const t=BE().encode(s),n=new ME;return n.update(t),new Uint8Array(n.digest())}function yv(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Mr([n,r],0),new Mr([o,c],0)]}class Up{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gl(`Invalid padding: ${n}`);if(r<0)throw new gl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new gl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Mr.fromNumber(this.Ee)}Ae(t,n,r){let o=t.add(n.multiply(Mr.fromNumber(r)));return o.compare(XR)===1&&(o=new Mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=gv(t),[r,o]=yv(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(r,o,c);if(!this.Re(d))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Up(c,o,n);return r.forEach(m=>d.insert(m)),d}insert(t){if(this.Ee===0)return;const n=gv(t),[r,o]=yv(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(r,o,c);this.Ve(d)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,n,r,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,Vl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new fh(_t.min(),o,new ie(bt),ji(),Ot())}}class Vl{constructor(t,n,r,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Vl(r,n,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,n,r,o){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=o}}class _T{constructor(t,n){this.targetId=t,this.ge=n}}class vT{constructor(t,n,r=qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class _v{constructor(){this.pe=0,this.ye=vv(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ot(),n=Ot(),r=Ot();return this.ye.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:pt()}}),new Vl(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=vv()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class $R{constructor(t){this.ke=t,this.qe=new Map,this.Qe=ji(),this.$e=pc(),this.Ue=pc(),this.Ke=new ie(bt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:pt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,r=t.ge.count,o=this.Xe(n);if(o){const c=o.target;if(rp(c))if(r===0){const d=new ut(c.path);this.ze(n,d,Qe.newNoDocument(d,_t.min()))}else Ht(r===1);else{const d=this.et(n);if(d!==r){const m=this.tt(t),g=m?this.nt(m,t,d):1;if(g!==0){this.Ye(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let d,m;try{d=xr(r).toUint8Array()}catch(g){if(g instanceof jE)return za("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Up(d,o,c)}catch(g){return za(g instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let o=0;return r.forEach(c=>{const d=this.ke.it(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,c,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((c,d)=>{const m=this.Xe(d);if(m){if(c.current&&rp(m.target)){const g=new ut(m.target.path);this._t(g).has(d)||this.ut(d,g)||this.ze(d,g,Qe.newNoDocument(g,t))}c.ve&&(n.set(d,c.Fe()),c.Me())}});let r=Ot();this.Ue.forEach((c,d)=>{let m=!0;d.forEachWhile(g=>{const _=this.Xe(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const o=new fh(t,n,this.Ke,this.Qe,r);return this.Qe=ji(),this.$e=pc(),this.Ue=pc(),this.Ke=new ie(bt),o}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new _v,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new we(bt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new we(bt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new _v),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function pc(){return new ie(ut.comparator)}function vv(){return new ie(ut.comparator)}const ZR={asc:"ASCENDING",desc:"DESCENDING"},WR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JR={and:"AND",or:"OR"};class t1{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ap(s,t){return s.useProto3Json||sh(t)?t:{value:t}}function jc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ET(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function e1(s,t){return jc(s,t.toTimestamp())}function ai(s){return Ht(!!s),_t.fromTimestamp(function(n){const r=Pr(n);return new be(r.seconds,r.nanos)}(s))}function Pp(s,t){return op(s,t).canonicalString()}function op(s,t){const n=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(s).child("documents");return t===void 0?n:n.child(t)}function TT(s){const t=ee.fromString(s);return Ht(RT(t)),t}function lp(s,t){return Pp(s.databaseId,t.path)}function Ud(s,t){const n=TT(t);if(n.get(1)!==s.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ut(ST(n))}function AT(s,t){return Pp(s.databaseId,t)}function n1(s){const t=TT(s);return t.length===4?ee.emptyPath():ST(t)}function up(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ST(s){return Ht(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Ev(s,t,n){return{name:lp(s,t),fields:n.value.mapValue.fields}}function i1(s,t){let n;if("targetChange"in t){t.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(Ht(A===void 0||typeof A=="string"),qe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array),qe.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&function(_){const A=_.code===void 0?X.UNKNOWN:yT(_.code);return new ot(A,_.message||"")}(d);n=new vT(r,o,c,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ud(s,r.document.name),c=ai(r.document.updateTime),d=r.document.createTime?ai(r.document.createTime):_t.min(),m=new Cn({mapValue:{fields:r.document.fields}}),g=Qe.newFoundDocument(o,c,d,m),_=r.targetIds||[],A=r.removedTargetIds||[];n=new Ic(_,A,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Ud(s,r.document),c=r.readTime?ai(r.readTime):_t.min(),d=Qe.newNoDocument(o,c),m=r.removedTargetIds||[];n=new Ic([],m,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Ud(s,r.document),c=r.removedTargetIds||[];n=new Ic([],c,o,null)}else{if(!("filter"in t))return pt();{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new QR(o,c),m=r.targetId;n=new _T(m,d)}}return n}function r1(s,t){let n;if(t instanceof Ml)n={update:Ev(s,t.key,t.value)};else if(t instanceof gT)n={delete:lp(s,t.key)};else if(t instanceof ks)n={update:Ev(s,t.key,t.data),updateMask:d1(t.fieldMask)};else{if(!(t instanceof GR))return pt();n={verify:lp(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(c,d){const m=d.transform;if(m instanceof qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Cl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Hc)return{fieldPath:d.field.canonicalString(),increment:m.Ie};throw pt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:e1(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt()}(s,t.precondition)),n}function s1(s,t){return s&&s.length>0?(Ht(t!==void 0),s.map(n=>function(o,c){let d=o.updateTime?ai(o.updateTime):ai(c);return d.isEqual(_t.min())&&(d=ai(c)),new qR(d,o.transformResults||[])}(n,t))):[]}function a1(s,t){return{documents:[AT(s,t.path)]}}function o1(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AT(s,o);const c=function(_){if(_.length!==0)return wT(hi.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(A=>function(x){return{field:Na(x.field),direction:c1(x.dir)}}(A))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const m=ap(s,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ht:n,parent:o}}function l1(s){let t=n1(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ht(r===1);const A=n.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(I){const x=bT(I);return x instanceof hi&&JE(x)?x.getFilters():[x]}(n.where));let d=[];n.orderBy&&(d=function(I){return I.map(x=>function(Z){return new zc(Ma(Z.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(I){let x;return x=typeof I=="object"?I.value:I,sh(x)?null:x}(n.limit));let g=null;n.startAt&&(g=function(I){const x=!!I.before,G=I.values||[];return new Bc(G,x)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const x=!I.before,G=I.values||[];return new Bc(G,x)}(n.endAt)),IR(t,o,d,c,m,"F",g,_)}function u1(s,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function bT(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ma(n.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ma(n.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ma(n.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ma(n.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(s):s.fieldFilter!==void 0?function(n){return Se.create(Ma(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(r=>bT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt()}}(n.compositeFilter.op))}(s):pt()}function c1(s){return ZR[s]}function h1(s){return WR[s]}function f1(s){return JR[s]}function Na(s){return{fieldPath:s.canonicalString()}}function Ma(s){return ze.fromServerFormat(s.fieldPath)}function wT(s){return s instanceof Se?function(n){if(n.op==="=="){if(ov(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NAN"}};if(av(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ov(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NAN"}};if(av(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(n.field),op:h1(n.op),value:n.value}}}(s):s instanceof hi?function(n){const r=n.getFilters().map(o=>wT(o));return r.length===1?r[0]:{compositeFilter:{op:f1(n.op),filters:r}}}(s):pt()}function d1(s){const t=[];return s.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function RT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n,r,o,c=_t.min(),d=_t.min(),m=qe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t){this.Tt=t}}function m1(s){const t=l1({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?sp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.Tn=new y1}addToCollectionParentIndex(t,n){return this.Tn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(Ur.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(Ur.min())}updateCollectionGroup(t,n,r){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class y1{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new we(ee.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new we(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IT=41943040;class nn{static withCacheSize(t){return new nn(t,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(IT,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ga(0)}static Kn(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LruGarbageCollector",_1=1048576;function Sv([s,t],[n,r]){const o=bt(s,n);return o===0?bt(t,r):o}class v1{constructor(t){this.Hn=t,this.buffer=new we(Sv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Sv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E1{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){nt(Av,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?nt(Av,"Ignoring IndexedDB error during garbage collection: ",n):await Za(n)}await this.er(3e5)})}}class T1{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Q.resolve(rh.ae);const r=new v1(n);return this.tr.forEachTarget(t,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Tv)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,o,c,d,m,g,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(t,o))).next(I=>(r=I,m=Date.now(),this.removeTargets(t,r,n))).next(I=>(c=I,g=Date.now(),this.removeOrphanedDocuments(t,r))).next(I=>(_=Date.now(),Da()<=Dt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${I} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:I})))}}function A1(s,t){return new T1(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.changes=new Vs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(r!==null&&El(r.mutation,o,Pn.empty(),be.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ot()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ot()){const o=ws();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,r).next(c=>{let d=ml();return c.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const r=ws();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ot()))}populateOverlays(t,n,r){const o=[];return r.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,m)=>{n.set(d,m)})})}computeViews(t,n,r,o){let c=ji();const d=vl(),m=function(){return vl()}();return n.forEach((g,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof ks)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),El(A.mutation,_,A.mutation.getFieldMask(),be.now())):d.set(_.key,Pn.empty())}),this.recalculateAndSaveOverlays(t,c).next(g=>(g.forEach((_,A)=>d.set(_,A)),n.forEach((_,A)=>{var I;return m.set(_,new b1(A,(I=d.get(_))!==null&&I!==void 0?I:null))}),m))}recalculateAndSaveOverlays(t,n){const r=vl();let o=new ie((d,m)=>d-m),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const m of d)m.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let A=r.get(g)||Pn.empty();A=m.applyToLocalView(_,A),r.set(g,A);const I=(o.get(m.batchId)||Ot()).add(g);o=o.insert(m.batchId,I)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,A=g.value,I=lT();A.forEach(x=>{if(!c.has(x)){const G=pT(n.get(x),r.get(x));G!==null&&I.set(x,G),c=c.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Q.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,o){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):CR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-c.size):Q.resolve(ws());let m=Sl,g=c;return d.next(_=>Q.forEach(_,(A,I)=>(m<I.largestBatchId&&(m=I.largestBatchId),c.get(A)?Q.resolve():this.remoteDocumentCache.getEntry(t,A).next(x=>{g=g.insert(A,x)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,g,_,Ot())).next(A=>({batchId:m,changes:oT(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ut(n)).next(r=>{let o=ml();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const c=n.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,c).next(m=>Q.forEach(m,g=>{const _=function(I,x){return new oh(x,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,o).next(A=>{A.forEach((I,x)=>{d=d.insert(I,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,c,o))).next(d=>{c.forEach((g,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let m=ml();return d.forEach((g,_)=>{const A=c.get(g);A!==void 0&&El(A.mutation,_,Pn.empty(),be.now()),uh(n,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Q.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ai(o.createTime)}}(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:m1(o.bundledQuery),readTime:ai(o.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.overlays=new ie(ut.comparator),this.Rr=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ws();return Q.forEach(n,o=>this.getOverlay(t,o).next(c=>{c!==null&&r.set(o,c)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((o,c)=>{this.Et(t,n,c)}),Q.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(r)),Q.resolve()}getOverlaysForCollection(t,n,r){const o=ws(),c=n.length+1,d=new ut(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return Q.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let c=new ie((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=ws(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const m=ws(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,A)=>m.set(_,A)),!(m.size()>=o)););return Q.resolve(m)}Et(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new KR(n,r));let c=this.Rr.get(n);c===void 0&&(c=Ot(),this.Rr.set(n,c)),this.Rr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new Me(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new Me(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new ut(new ee([])),r=new Me(n,t),o=new Me(n,t+1),c=[];return this.gr.forEachInRange([r,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new ut(new ee([])),r=new Me(n,t),o=new Me(n,t+1);let c=Ot();return this.gr.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Me(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Me{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return ut.comparator(t.key,n.key)||bt(t.Cr,n.Cr)}static pr(t,n){return bt(t.Cr,n.Cr)||ut.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FR(c,n,r,o);this.mutationQueue.push(d);for(const m of o)this.Mr=this.Mr.add(new Me(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(t,n){return Q.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.Nr(r),c=o<0?0:o;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Cp:this.Fr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Me(n,0),o=new Me(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([r,o],d=>{const m=this.Or(d.Cr);c.push(m)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new we(bt);return n.forEach(o=>{const c=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],m=>{r=r.add(m.Cr)})}),Q.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let c=r;ut.isDocumentKey(c)||(c=c.child(""));const d=new Me(new ut(c),0);let m=new we(bt);return this.Mr.forEachWhile(g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(m=m.add(g.Cr)),!0)},d),Q.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(r=>{const o=this.Or(r);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ht(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Q.forEach(n.mutations,o=>{const c=new Me(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new Me(n,0),o=this.Mr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){this.kr=t,this.docs=function(){return new ie(ut.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,d=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let r=ji();return n.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Qe.newInvalidDocument(o))}),Q.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let c=ji();const d=n.path,m=new ut(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||sR(rR(A),r)<=0||(o.has(A.key)||uh(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(t,n,r,o){pt()}qr(t,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new N1(this)}getSize(t){return Q.resolve(this.size)}}class N1 extends S1{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(r)}),Q.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t){this.persistence=t,this.Qr=new Vs(n=>Np(n),Mp),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.$r=0,this.Ur=new xp,this.targetCount=0,this.Kr=Ga.Un()}forEachTarget(t,n){return this.Qr.forEach((r,o)=>n(o)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Q.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Ga(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.zn(n),Q.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,r){let o=0;const c=[];return this.Qr.forEach((d,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Q.waitFor(c).next(()=>o)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return Q.resolve(r)}addMatchingKeys(t,n,r){return this.Ur.yr(n,r),Q.resolve()}removeMatchingKeys(t,n,r){this.Ur.Sr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),Q.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Ur.vr(n);return Q.resolve(r)}containsKey(t,n){return Q.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new rh(0),this.zr=!1,this.zr=!0,this.jr=new C1,this.referenceDelegate=t(this),this.Hr=new M1(this),this.indexManager=new g1,this.remoteDocumentCache=function(o){return new O1(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new p1(n),this.Yr=new R1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new I1,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new D1(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){nt("MemoryPersistence","Starting transaction:",t);const o=new V1(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,n){return Q.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class V1 extends oR{constructor(t){super(),this.currentSequenceNumber=t}}class Lp{constructor(t){this.persistence=t,this.ti=new xp,this.ni=null}static ri(t){return new Lp(t)}get ii(){if(this.ni)return this.ni;throw pt()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Q.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Q.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,r=>{const o=ut.fromPath(r);return this.si(t,o).next(c=>{c||n.removeEntry(o,_t.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Q.or([()=>Q.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Gc{constructor(t,n){this.persistence=t,this.oi=new Vs(r=>cR(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=A1(this,n)}static ri(t,n){return new Gc(t,n)}Zr(){}Xr(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(o=>r+o))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return Q.forEach(this.oi,(r,o)=>this.ar(t,r,o).next(c=>c?Q.resolve():n(o)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,d=>this.ar(t,d,n).next(m=>{m||(r++,c.removeEntry(d,_t.min()))})).next(()=>c.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Q.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=bc(t.data.value)),n}ar(t,n,r){return Q.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return Q.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=o}static Yi(t,n){let r=Ot(),o=Ot();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Bp(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ob()?8:lR(Ye())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,o){const c={result:null};return this.rs(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,n,o,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new k1;return this._s(t,n,d).next(m=>{if(c.result=m,this.Xi)return this.us(t,n,d,m.size)})}).next(()=>c.result)}us(t,n,r,o){return r.documentReadCount<this.es?(Da()<=Dt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(Da()<=Dt.DEBUG&&nt("QueryEngine","Query:",Oa(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(Da()<=Dt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,si(n))):Q.resolve())}rs(t,n){if(hv(n))return Q.resolve(null);let r=si(n);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=sp(n,null,"F"),r=si(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const d=Ot(...c);return this.ns.getDocuments(t,d).next(m=>this.indexManager.getMinOffset(t,r).next(g=>{const _=this.cs(n,m);return this.ls(n,_,d,g.readTime)?this.rs(t,sp(n,null,"F")):this.hs(t,_,n,g)}))})))}ss(t,n,r,o){return hv(n)||o.isEqual(_t.min())?Q.resolve(null):this.ns.getDocuments(t,r).next(c=>{const d=this.cs(n,c);return this.ls(n,d,r,o)?Q.resolve(null):(Da()<=Dt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oa(n)),this.hs(t,d,n,iR(o,Sl)).next(m=>m))})}cs(t,n){let r=new we(sT(t));return n.forEach((o,c)=>{uh(t,c)&&(r=r.add(c))}),r}ls(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,n,r){return Da()<=Dt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Oa(n)),this.ns.getDocumentsMatchingQuery(t,n,Ur.min(),r)}hs(t,n,r,o){return this.ns.getDocumentsMatchingQuery(t,r,o).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="LocalStore",P1=3e8;class x1{constructor(t,n,r,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new ie(bt),this.Is=new Vs(c=>Np(c),Mp),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new w1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function L1(s,t,n,r){return new x1(s,t,n,r)}async function DT(s,t){const n=vt(s);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],m=[];let g=Ot();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of c){m.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return n.localDocuments.getDocuments(r,g).next(_=>({Rs:_,removedBatchIds:d,addedBatchIds:m}))})})}function B1(s,t){const n=vt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,_,A){const I=_.batch,x=I.keys();let G=Q.resolve();return x.forEach(Z=>{G=G.next(()=>A.getEntry(g,Z)).next(it=>{const W=_.docVersions.get(Z);Ht(W!==null),it.version.compareTo(W)<0&&(I.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))})}),G.next(()=>m.mutationQueue.removeMutationBatch(g,I))}(n,r,t,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let g=Ot();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(t))).next(()=>n.localDocuments.getDocuments(r,o))})}function OT(s){const t=vt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function z1(s,t){const n=vt(s),r=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((A,I)=>{const x=o.get(I);if(!x)return;m.push(n.Hr.removeMatchingKeys(c,A.removedDocuments,I).next(()=>n.Hr.addMatchingKeys(c,A.addedDocuments,I)));let G=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?G=G.withResumeToken(qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),o=o.insert(I,G),function(it,W,At){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=P1?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0}(x,G,A)&&m.push(n.Hr.updateTargetData(c,G))});let g=ji(),_=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),m.push(q1(c,d,t.documentUpdates).next(A=>{g=A.Vs,_=A.fs})),!r.isEqual(_t.min())){const A=n.Hr.getLastRemoteSnapshotVersion(c).next(I=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(A)}return Q.waitFor(m).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.Ts=o,c))}function q1(s,t,n){let r=Ot(),o=Ot();return n.forEach(c=>r=r.add(c)),t.getEntries(s,r).next(c=>{let d=ji();return n.forEach((m,g)=>{const _=c.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(_t.min())?(t.removeEntry(m,g.readTime),d=d.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),d=d.insert(m,g)):nt(zp,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Vs:d,fs:o}})}function H1(s,t){const n=vt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Cp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function j1(s,t){const n=vt(s);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Hr.getTargetData(r,t).next(c=>c?(o=c,Q.resolve(o)):n.Hr.allocateTargetId(r).next(d=>(o=new Ir(t,d,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function cp(s,t,n){const r=vt(s),o=r.Ts.get(t),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Wa(d))throw d;nt(zp,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ts=r.Ts.remove(t),r.Is.delete(o.target)}function bv(s,t,n){const r=vt(s);let o=_t.min(),c=Ot();return r.persistence.runTransaction("Execute query","readwrite",d=>function(g,_,A){const I=vt(g),x=I.Is.get(A);return x!==void 0?Q.resolve(I.Ts.get(x)):I.Hr.getTargetData(_,A)}(r,d,si(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,m.targetId).next(g=>{c=g})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,t,n?o:_t.min(),n?c:Ot())).next(m=>(G1(r,OR(t),m),{documents:m,gs:c})))}function G1(s,t,n){let r=s.Es.get(t)||_t.min();n.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),s.Es.set(t,r)}class wv{constructor(){this.activeTargetIds=PR()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class F1{constructor(){this.ho=new wv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new wv,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="ConnectivityMonitor";class Iv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(Rv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){nt(Rv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function hp(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="RestConnection",Q1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===xc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(t,n,r,o,c){const d=hp(),m=this.bo(t,n.toUriEncodedString());nt(Pd,`Sending RPC '${t}' ${d}:`,m,r);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,c),this.vo(t,m,g,r).then(_=>(nt(Pd,`Received RPC '${t}' ${d}: `,_),_),_=>{throw za(Pd,`RPC '${t}' ${d} failed with error: `,_,"url: ",m,"request:",r),_})}Co(t,n,r,o,c,d){return this.So(t,n,r,o,c)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>t[c]=o),r&&r.headers.forEach((o,c)=>t[c]=o)}bo(t,n){const r=Q1[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class $1 extends Y1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,o){const c=hp();return new Promise((d,m)=>{const g=new VE;g.setWithCredentials(!0),g.listenOnce(kE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Sc.NO_ERROR:const A=g.getResponseJson();nt(Fe,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case Sc.TIMEOUT:nt(Fe,`RPC '${t}' ${c} timed out`),m(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const I=g.getStatus();if(nt(Fe,`RPC '${t}' ${c} failed with status:`,I,"response text:",g.getResponseText()),I>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const G=x==null?void 0:x.error;if(G&&G.status&&G.message){const Z=function(W){const At=W.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(At)>=0?At:X.UNKNOWN}(G.status);m(new ot(Z,G.message))}else m(new ot(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ot(X.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{nt(Fe,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(o);nt(Fe,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",_,r,15)})}Wo(t,n,r){const o=hp(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=xE(),m=PE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const A=c.join("");nt(Fe,`Creating RPC '${t}' stream ${o}: ${A}`,g);const I=d.createWebChannel(A,g);let x=!1,G=!1;const Z=new X1({Fo:W=>{G?nt(Fe,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(x||(nt(Fe,`Opening RPC '${t}' stream ${o} transport.`),I.open(),x=!0),nt(Fe,`RPC '${t}' stream ${o} sending:`,W),I.send(W))},Mo:()=>I.close()}),it=(W,At,Et)=>{W.listen(At,ft=>{try{Et(ft)}catch(xt){setTimeout(()=>{throw xt},0)}})};return it(I,pl.EventType.OPEN,()=>{G||(nt(Fe,`RPC '${t}' stream ${o} transport opened.`),Z.Qo())}),it(I,pl.EventType.CLOSE,()=>{G||(G=!0,nt(Fe,`RPC '${t}' stream ${o} transport closed`),Z.Uo())}),it(I,pl.EventType.ERROR,W=>{G||(G=!0,za(Fe,`RPC '${t}' stream ${o} transport errored:`,W),Z.Uo(new ot(X.UNAVAILABLE,"The operation could not be completed")))}),it(I,pl.EventType.MESSAGE,W=>{var At;if(!G){const Et=W.data[0];Ht(!!Et);const ft=Et,xt=(ft==null?void 0:ft.error)||((At=ft[0])===null||At===void 0?void 0:At.error);if(xt){nt(Fe,`RPC '${t}' stream ${o} received error:`,xt);const yt=xt.status;let Nt=function(w){const O=ge[w];if(O!==void 0)return yT(O)}(yt),N=xt.message;Nt===void 0&&(Nt=X.INTERNAL,N="Unknown error status: "+yt+" with message "+xt.message),G=!0,Z.Uo(new ot(Nt,N)),I.close()}else nt(Fe,`RPC '${t}' stream ${o} received:`,Et),Z.Ko(Et)}}),it(m,UE.STAT_EVENT,W=>{W.stat===Jd.PROXY?nt(Fe,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===Jd.NOPROXY&&nt(Fe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.$o()},0),Z}}function xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(s){return new t1(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n,r=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-r);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="PersistentStream";class MT{constructor(t,n,r,o,c,d,m,g){this.Ti=t,this.n_=r,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new NT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===n&&this.V_(r,o)},r=>{t(()=>{const o=new ot(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return nt(Cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(nt(Cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z1 extends MT{constructor(t,n,r,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=i1(this.serializer,t),r=function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ai(d.readTime):_t.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=up(this.serializer),n.addTarget=function(c,d){let m;const g=d.target;if(m=rp(g)?{documents:a1(c,g)}:{query:o1(c,g).ht},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=ET(c,d.resumeToken);const _=ap(c,d.expectedCount);_!==null&&(m.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){m.readTime=jc(c,d.snapshotVersion.toTimestamp());const _=ap(c,d.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,t);const r=u1(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=up(this.serializer),n.removeTarget=t,this.I_(n)}}class W1 extends MT{constructor(t,n,r,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=s1(t.writeResults,t.commitTime),r=ai(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=up(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>r1(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{}class tI extends J1{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,op(n,r),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(X.UNKNOWN,c.toString())})}Co(t,n,r,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(t,op(n,r),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(X.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class eI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Hi(n),this.N_=!1):nt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="RemoteStore";class nI{constructor(t,n,r,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{r.enqueueAndForget(async()=>{Us(this)&&(nt(Os,"Restarting streams for network reachability change."),await async function(g){const _=vt(g);_.W_.add(4),await kl(_),_.j_.set("Unknown"),_.W_.delete(4),await ph(_)}(this))})}),this.j_=new eI(r,o)}}async function ph(s){if(Us(s))for(const t of s.G_)await t(!0)}async function kl(s){for(const t of s.G_)await t(!1)}function VT(s,t){const n=vt(s);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Gp(n)?jp(n):Ja(n).c_()&&Hp(n,t))}function qp(s,t){const n=vt(s),r=Ja(n);n.K_.delete(t),r.c_()&&kT(n,t),n.K_.size===0&&(r.c_()?r.P_():Us(n)&&n.j_.set("Unknown"))}function Hp(s,t){if(s.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ja(s).y_(t)}function kT(s,t){s.H_.Ne(t),Ja(s).w_(t)}function jp(s){s.H_=new $R({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>s.K_.get(t)||null,it:()=>s.datastore.serializer.databaseId}),Ja(s).start(),s.j_.B_()}function Gp(s){return Us(s)&&!Ja(s).u_()&&s.K_.size>0}function Us(s){return vt(s).W_.size===0}function UT(s){s.H_=void 0}async function iI(s){s.j_.set("Online")}async function rI(s){s.K_.forEach((t,n)=>{Hp(s,t)})}async function sI(s,t){UT(s),Gp(s)?(s.j_.q_(t),jp(s)):s.j_.set("Unknown")}async function aI(s,t,n){if(s.j_.set("Online"),t instanceof vT&&t.state===2&&t.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.K_.delete(m),o.H_.removeTarget(m))}(s,t)}catch(r){nt(Os,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Fc(s,r)}else if(t instanceof Ic?s.H_.We(t):t instanceof _T?s.H_.Ze(t):s.H_.je(t),!n.isEqual(_t.min()))try{const r=await OT(s.localStore);n.compareTo(r)>=0&&await function(c,d){const m=c.H_.ot(d);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.K_.get(_);A&&c.K_.set(_,A.withResumeToken(g.resumeToken,d))}}),m.targetMismatches.forEach((g,_)=>{const A=c.K_.get(g);if(!A)return;c.K_.set(g,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),kT(c,g);const I=new Ir(A.target,g,_,A.sequenceNumber);Hp(c,I)}),c.remoteSyncer.applyRemoteEvent(m)}(s,n)}catch(r){nt(Os,"Failed to raise snapshot:",r),await Fc(s,r)}}async function Fc(s,t,n){if(!Wa(t))throw t;s.W_.add(1),await kl(s),s.j_.set("Offline"),n||(n=()=>OT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(Os,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await ph(s)})}function PT(s,t){return t().catch(n=>Fc(s,n,t))}async function mh(s){const t=vt(s),n=Br(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Cp;for(;oI(t);)try{const o=await H1(t.localStore,r);if(o===null){t.U_.length===0&&n.P_();break}r=o.batchId,lI(t,o)}catch(o){await Fc(t,o)}xT(t)&&LT(t)}function oI(s){return Us(s)&&s.U_.length<10}function lI(s,t){s.U_.push(t);const n=Br(s);n.c_()&&n.S_&&n.b_(t.mutations)}function xT(s){return Us(s)&&!Br(s).u_()&&s.U_.length>0}function LT(s){Br(s).start()}async function uI(s){Br(s).C_()}async function cI(s){const t=Br(s);for(const n of s.U_)t.b_(n.mutations)}async function hI(s,t,n){const r=s.U_.shift(),o=kp.from(r,t,n);await PT(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await mh(s)}async function fI(s,t){t&&Br(s).S_&&await async function(r,o){if(function(d){return YR(d)&&d!==X.ABORTED}(o.code)){const c=r.U_.shift();Br(r).h_(),await PT(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),await mh(r)}}(s,t),xT(s)&&LT(s)}async function Dv(s,t){const n=vt(s);n.asyncQueue.verifyOperationInProgress(),nt(Os,"RemoteStore received new credentials");const r=Us(n);n.W_.add(3),await kl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await ph(n)}async function dI(s,t){const n=vt(s);t?(n.W_.delete(2),await ph(n)):t||(n.W_.add(2),await kl(n),n.j_.set("Unknown"))}function Ja(s){return s.J_||(s.J_=function(n,r,o){const c=vt(n);return c.M_(),new Z1(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{xo:iI.bind(null,s),No:rI.bind(null,s),Lo:sI.bind(null,s),p_:aI.bind(null,s)}),s.G_.push(async t=>{t?(s.J_.h_(),Gp(s)?jp(s):s.j_.set("Unknown")):(await s.J_.stop(),UT(s))})),s.J_}function Br(s){return s.Y_||(s.Y_=function(n,r,o){const c=vt(n);return c.M_(),new W1(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:uI.bind(null,s),Lo:fI.bind(null,s),D_:cI.bind(null,s),v_:hI.bind(null,s)}),s.G_.push(async t=>{t?(s.Y_.h_(),await mh(s)):(await s.Y_.stop(),s.U_.length>0&&(nt(Os,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,n,r,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,c){const d=Date.now()+r,m=new Fp(t,n,d,o,c);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(s,t){if(Hi("AsyncQueue",`${t}: ${s}`),Wa(s))return new ot(X.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static emptySet(t){return new Ua(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ut.comparator(n.key,r.key):(n,r)=>ut.comparator(n.key,r.key),this.keyedMap=ml(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ua)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ua;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.Z_=new ie(ut.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):pt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Fa{constructor(t,n,r,o,c,d,m,g,_){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,n,r,o,c){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new Fa(t,n,Ua.emptySet(n),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class mI{constructor(){this.queries=Nv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const o=vt(n),c=o.queries;o.queries=Nv(),c.forEach((d,m)=>{for(const g of m.ta)g.onError(r)})})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function Nv(){return new Vs(s=>rT(s),lh)}async function gI(s,t){const n=vt(s);let r=3;const o=t.query;let c=n.queries.get(o);c?!c.na()&&t.ra()&&(r=2):(c=new pI,r=t.ra()?0:1);try{switch(r){case 0:c.ea=await n.onListen(o,!0);break;case 1:c.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=Kp(d,`Initialization of query '${Oa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,c),c.ta.push(t),t.sa(n.onlineState),c.ea&&t.oa(c.ea)&&Qp(n)}async function yI(s,t){const n=vt(s),r=t.query;let o=3;const c=n.queries.get(r);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=t.ra()?0:1:!c.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _I(s,t){const n=vt(s);let r=!1;for(const o of t){const c=o.query,d=n.queries.get(c);if(d){for(const m of d.ta)m.oa(o)&&(r=!0);d.ea=o}}r&&Qp(n)}function vI(s,t,n){const r=vt(s),o=r.queries.get(t);if(o)for(const c of o.ta)c.onError(n);r.queries.delete(t)}function Qp(s){s.ia.forEach(t=>{t.next()})}var fp,Mv;(Mv=fp||(fp={}))._a="default",Mv.Cache="cache";class EI{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Fa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Fa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t){this.key=t}}class zT{constructor(t){this.key=t}}class TI{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ot(),this.mutatedKeys=Ot(),this.ya=sT(t),this.wa=new Ua(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new Ov,o=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,I)=>{const x=o.get(A),G=uh(this.query,I)?I:null,Z=!!x&&this.mutatedKeys.has(x.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;x&&G?x.data.isEqual(G.data)?Z!==it&&(r.track({type:3,doc:G}),W=!0):this.va(x,G)||(r.track({type:2,doc:G}),W=!0,(g&&this.ya(G,g)>0||_&&this.ya(G,_)<0)&&(m=!0)):!x&&G?(r.track({type:0,doc:G}),W=!0):x&&!G&&(r.track({type:1,doc:x}),W=!0,(g||_)&&(m=!0)),W&&(G?(d=d.add(G),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{wa:d,Da:r,ls:m,mutatedKeys:c}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((A,I)=>function(G,Z){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return it(G)-it(Z)}(A.type,I.type)||this.ya(A.doc,I.doc)),this.Ca(r),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,_=g!==this.ga;return this.ga=g,d.length!==0||_?{snapshot:new Fa(this.query,t.wa,c,d,t.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ov,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ot(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new zT(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new BT(r))}),n}Oa(t){this.fa=t.gs,this.pa=Ot();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Fa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Yp="SyncEngine";class AI{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class SI{constructor(t){this.key=t,this.Ba=!1}}class bI{constructor(t,n,r,o,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Vs(m=>rT(m),lh),this.qa=new Map,this.Qa=new Set,this.$a=new ie(ut.comparator),this.Ua=new Map,this.Ka=new xp,this.Wa={},this.Ga=new Map,this.za=Ga.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function wI(s,t,n=!0){const r=KT(s);let o;const c=r.ka.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await qT(r,t,n,!0),o}async function RI(s,t){const n=KT(s);await qT(n,t,!0,!1)}async function qT(s,t,n,r){const o=await j1(s.localStore,si(t)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await II(s,t,c,d==="current",o.resumeToken)),s.isPrimaryClient&&n&&VT(s.remoteStore,o),m}async function II(s,t,n,r,o){s.Ha=(I,x,G)=>async function(it,W,At,Et){let ft=W.view.ba(At);ft.ls&&(ft=await bv(it.localStore,W.query,!1).then(({documents:N})=>W.view.ba(N,ft)));const xt=Et&&Et.targetChanges.get(W.targetId),yt=Et&&Et.targetMismatches.get(W.targetId)!=null,Nt=W.view.applyChanges(ft,it.isPrimaryClient,xt,yt);return kv(it,W.targetId,Nt.Ma),Nt.snapshot}(s,I,x,G);const c=await bv(s.localStore,t,!0),d=new TI(t,c.gs),m=d.ba(c.documents),g=Vl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),_=d.applyChanges(m,s.isPrimaryClient,g);kv(s,n,_.Ma);const A=new AI(t,n,d);return s.ka.set(t,A),s.qa.has(n)?s.qa.get(n).push(t):s.qa.set(n,[t]),_.snapshot}async function CI(s,t,n){const r=vt(s),o=r.ka.get(t),c=r.qa.get(o.targetId);if(c.length>1)return r.qa.set(o.targetId,c.filter(d=>!lh(d,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&qp(r.remoteStore,o.targetId),dp(r,o.targetId)}).catch(Za)):(dp(r,o.targetId),await cp(r.localStore,o.targetId,!0))}async function DI(s,t){const n=vt(s),r=n.ka.get(t),o=n.qa.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qp(n.remoteStore,r.targetId))}async function OI(s,t,n){const r=xI(s);try{const o=await function(d,m){const g=vt(d),_=be.now(),A=m.reduce((G,Z)=>G.add(Z.key),Ot());let I,x;return g.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Z=ji(),it=Ot();return g.ds.getEntries(G,A).next(W=>{Z=W,Z.forEach((At,Et)=>{Et.isValidDocument()||(it=it.add(At))})}).next(()=>g.localDocuments.getOverlayedDocuments(G,Z)).next(W=>{I=W;const At=[];for(const Et of m){const ft=jR(Et,I.get(Et.key).overlayedDocument);ft!=null&&At.push(new ks(Et.key,ft,$E(ft.value.mapValue),zi.exists(!0)))}return g.mutationQueue.addMutationBatch(G,_,At,m)}).next(W=>{x=W;const At=W.applyToLocalDocumentSet(I,it);return g.documentOverlayCache.saveOverlays(G,W.batchId,At)})}).then(()=>({batchId:x.batchId,changes:oT(I)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(d,m,g){let _=d.Wa[d.currentUser.toKey()];_||(_=new ie(bt)),_=_.insert(m,g),d.Wa[d.currentUser.toKey()]=_}(r,o.batchId,n),await Ul(r,o.changes),await mh(r.remoteStore)}catch(o){const c=Kp(o,"Failed to persist write");n.reject(c)}}async function HT(s,t){const n=vt(s);try{const r=await z1(n.localStore,t);t.targetChanges.forEach((o,c)=>{const d=n.Ua.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Ht(d.Ba):o.removedDocuments.size>0&&(Ht(d.Ba),d.Ba=!1))}),await Ul(n,r,t)}catch(r){await Za(r)}}function Vv(s,t,n){const r=vt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.ka.forEach((c,d)=>{const m=d.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(d,m){const g=vt(d);g.onlineState=m;let _=!1;g.queries.forEach((A,I)=>{for(const x of I.ta)x.sa(m)&&(_=!0)}),_&&Qp(g)}(r.eventManager,t),o.length&&r.La.p_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function NI(s,t,n){const r=vt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Ua.get(t),c=o&&o.key;if(c){let d=new ie(ut.comparator);d=d.insert(c,Qe.newNoDocument(c,_t.min()));const m=Ot().add(c),g=new fh(_t.min(),new Map,new ie(bt),d,m);await HT(r,g),r.$a=r.$a.remove(c),r.Ua.delete(t),Xp(r)}else await cp(r.localStore,t,!1).then(()=>dp(r,t,n)).catch(Za)}async function MI(s,t){const n=vt(s),r=t.batch.batchId;try{const o=await B1(n.localStore,t);GT(n,r,null),jT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ul(n,o)}catch(o){await Za(o)}}async function VI(s,t,n){const r=vt(s);try{const o=await function(d,m){const g=vt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return g.mutationQueue.lookupMutationBatch(_,m).next(I=>(Ht(I!==null),A=I.keys(),g.mutationQueue.removeMutationBatch(_,I))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>g.localDocuments.getDocuments(_,A))})}(r.localStore,t);GT(r,t,n),jT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ul(r,o)}catch(o){await Za(o)}}function jT(s,t){(s.Ga.get(t)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(t)}function GT(s,t,n){const r=vt(s);let o=r.Wa[r.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),r.Wa[r.currentUser.toKey()]=o}}function dp(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.qa.get(t))s.ka.delete(r),n&&s.La.Ja(r,n);s.qa.delete(t),s.isPrimaryClient&&s.Ka.br(t).forEach(r=>{s.Ka.containsKey(r)||FT(s,r)})}function FT(s,t){s.Qa.delete(t.path.canonicalString());const n=s.$a.get(t);n!==null&&(qp(s.remoteStore,n),s.$a=s.$a.remove(t),s.Ua.delete(n),Xp(s))}function kv(s,t,n){for(const r of n)r instanceof BT?(s.Ka.addReference(r.key,t),kI(s,r)):r instanceof zT?(nt(Yp,"Document no longer in limbo: "+r.key),s.Ka.removeReference(r.key,t),s.Ka.containsKey(r.key)||FT(s,r.key)):pt()}function kI(s,t){const n=t.key,r=n.path.canonicalString();s.$a.get(n)||s.Qa.has(r)||(nt(Yp,"New document in limbo: "+n),s.Qa.add(r),Xp(s))}function Xp(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const t=s.Qa.values().next().value;s.Qa.delete(t);const n=new ut(ee.fromString(t)),r=s.za.next();s.Ua.set(r,new SI(n)),s.$a=s.$a.insert(n,r),VT(s.remoteStore,new Ir(si(iT(n.path)),r,"TargetPurposeLimboResolution",rh.ae))}}async function Ul(s,t,n){const r=vt(s),o=[],c=[],d=[];r.ka.isEmpty()||(r.ka.forEach((m,g)=>{d.push(r.Ha(g,t,n).then(_=>{var A;if((_||n)&&r.isPrimaryClient){const I=_?!_.fromCache:(A=n==null?void 0:n.targetChanges.get(g.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(_){o.push(_);const I=Bp.Yi(g.targetId,_);c.push(I)}}))}),await Promise.all(d),r.La.p_(o),await async function(g,_){const A=vt(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(_,x=>Q.forEach(x.Hi,G=>A.persistence.referenceDelegate.addReference(I,x.targetId,G)).next(()=>Q.forEach(x.Ji,G=>A.persistence.referenceDelegate.removeReference(I,x.targetId,G)))))}catch(I){if(!Wa(I))throw I;nt(zp,"Failed to update sequence numbers: "+I)}for(const I of _){const x=I.targetId;if(!I.fromCache){const G=A.Ts.get(x),Z=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(Z);A.Ts=A.Ts.insert(x,it)}}}(r.localStore,c))}async function UI(s,t){const n=vt(s);if(!n.currentUser.isEqual(t)){nt(Yp,"User change. New user:",t.toKey());const r=await DT(n.localStore,t);n.currentUser=t,function(c,d){c.Ga.forEach(m=>{m.forEach(g=>{g.reject(new ot(X.CANCELLED,d))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ul(n,r.Rs)}}function PI(s,t){const n=vt(s),r=n.Ua.get(t);if(r&&r.Ba)return Ot().add(r.key);{let o=Ot();const c=n.qa.get(t);if(!c)return o;for(const d of c){const m=n.ka.get(d);o=o.unionWith(m.view.Sa)}return o}}function KT(s){const t=vt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=HT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NI.bind(null,t),t.La.p_=_I.bind(null,t.eventManager),t.La.Ja=vI.bind(null,t.eventManager),t}function xI(s){const t=vt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VI.bind(null,t),t}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return L1(this.persistence,new U1,t.initialUser,this.serializer)}Xa(t){return new CT(Lp.ri,this.serializer)}Za(t){return new F1}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class LI extends Kc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Ht(this.persistence.referenceDelegate instanceof Gc);const r=this.persistence.referenceDelegate.garbageCollector;return new E1(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new CT(r=>Gc.ri(r,n),this.serializer)}}class pp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UI.bind(null,this.syncEngine),await dI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new mI}()}createDatastore(t){const n=dh(t.databaseInfo.databaseId),r=function(c){return new $1(c)}(t.databaseInfo);return function(c,d,m,g){return new tI(c,d,m,g)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,o,c,d,m){return new nI(r,o,c,d,m)}(this.localStore,this.datastore,t.asyncQueue,n=>Vv(this.syncEngine,n,0),function(){return Iv.D()?new Iv:new K1}())}createSyncEngine(t,n){return function(o,c,d,m,g,_,A){const I=new bI(o,c,d,m,g,_);return A&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const c=vt(o);nt(Os,"RemoteStore shutting down."),c.W_.add(5),await kl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Hi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="FirestoreClient";class zI{constructor(t,n,r,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=zE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async d=>{nt(zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(nt(zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Kp(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Ld(s,t){s.asyncQueue.verifyOperationInProgress(),nt(zr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener(async o=>{r.isEqual(o)||(await DT(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Uv(s,t){s.asyncQueue.verifyOperationInProgress();const n=await qI(s);nt(zr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener(r=>Dv(t.remoteStore,r)),s.setAppCheckTokenChangeListener((r,o)=>Dv(t.remoteStore,o)),s._onlineComponents=t}async function qI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(zr,"Using user provided OfflineComponentProvider");try{await Ld(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;za("Error using user provided cache. Falling back to memory cache: "+n),await Ld(s,new Kc)}}else nt(zr,"Using default OfflineComponentProvider"),await Ld(s,new LI(void 0));return s._offlineComponents}async function QT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(zr,"Using user provided OnlineComponentProvider"),await Uv(s,s._uninitializedComponentsProvider._online)):(nt(zr,"Using default OnlineComponentProvider"),await Uv(s,new pp))),s._onlineComponents}function HI(s){return QT(s).then(t=>t.syncEngine)}async function jI(s){const t=await QT(s),n=t.eventManager;return n.onListen=wI.bind(null,t.syncEngine),n.onUnlisten=CI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=RI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=DI.bind(null,t.syncEngine),n}function GI(s,t,n={}){const r=new Vr;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,m,g,_){const A=new BI({next:x=>{A.su(),d.enqueueAndForget(()=>yI(c,I)),x.fromCache&&g.source==="server"?_.reject(new ot(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new EI(m,A,{includeMetadataChanges:!0,Ta:!0});return gI(c,I)}(await jI(s),s.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(s,t,n){if(!n)throw new ot(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function FI(s,t,n,r){if(t===!0&&r===!0)throw new ot(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function xv(s){if(!ut.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Lv(s){if(ut.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function $p(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt()}function Qc(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(s);throw new ot(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firestore.googleapis.com",Bv=!0;class zv{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$T,this.ssl=Bv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Bv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=IT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_1)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Yw;switch(r.type){case"firstParty":return new Ww(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Pv.get(n);r&&(nt("ComponentProvider","Removing Datastore"),Pv.delete(n),r.terminate())}(this),Promise.resolve()}}function KI(s,t,n,r={}){var o;const c=(s=Qc(s,gh))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:s._getEmulatorOptions()}),m=`${t}:${n}`;c.host!==$T&&c.host!==m&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:r});if(!Is(g,d)&&(s._setSettings(g),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Ke.MOCK_USER;else{_=Sb(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(I)}s._authCredentials=new Xw(new LE(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new yh(this.firestore,t,this._query)}}class Ln{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ln(this.firestore,t,this._key)}}class kr extends yh{constructor(t,n,r){super(t,n,iT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ln(this.firestore,null,new ut(t))}withConverter(t){return new kr(this.firestore,t,this._path)}}function qv(s,t,...n){if(s=Bn(s),XT("collection","path",t),s instanceof gh){const r=ee.fromString(t,...n);return Lv(r),new kr(s,null,r)}{if(!(s instanceof Ln||s instanceof kr))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return Lv(r),new kr(s.firestore,null,r)}}function ZT(s,t,...n){if(s=Bn(s),arguments.length===1&&(t=zE.newId()),XT("doc","path",t),s instanceof gh){const r=ee.fromString(t,...n);return xv(r),new Ln(s,null,new ut(r))}{if(!(s instanceof Ln||s instanceof kr))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...n));return xv(r),new Ln(s.firestore,s instanceof kr?s.converter:null,new ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="AsyncQueue";class jv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new NT(this,"async_queue_retry"),this.Su=()=>{const r=xd();r&&nt(Hv,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=xd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Vr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Wa(t))throw t;nt(Hv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(r);throw Hi("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=Fp.createAndSchedule(this,t,n,r,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&pt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Zp extends gh{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new jv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jv(t),this._firestoreClient=void 0,await t}}}function QI(s,t){const n=typeof s=="object"?s:DE(),r=typeof s=="string"?s:xc,o=Rp(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=Tb("firestore");c&&KI(o,...c)}return o}function WT(s){if(s._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||YI(s),s._firestoreClient}function YI(s){var t,n,r;const o=s._freezeSettings(),c=function(m,g,_,A){return new dR(m,g,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,YT(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new zI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ka(qe.fromBase64String(t))}catch(n){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ka(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=/^__.*__$/;class $I{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ks(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ml(t,this.data,n,this.fieldTransforms)}}function t0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class em{constructor(t,n,r,o,c,d){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new em(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:r,Qu:!1});return o.$u(t),o}Uu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Yc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(t0(this.Lu)&&XI.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class ZI{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||dh(t)}ju(t,n,r,o=!1){return new em({Lu:t,methodName:n,zu:r,path:ze.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WI(s){const t=s._freezeSettings(),n=dh(s._databaseId);return new ZI(s._databaseId,!!t.ignoreUndefinedProperties,n)}function JI(s,t,n,r,o,c={}){const d=s.ju(c.merge||c.mergeFields?2:0,t,n,o);r0("Data must be an object, but it was:",d,r);const m=n0(r,d);let g,_;if(c.merge)g=new Pn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const x=tC(t,I,n);if(!d.contains(x))throw new ot(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);nC(A,x)||A.push(x)}g=new Pn(A),_=d.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,_=d.fieldTransforms;return new $I(new Cn(m),g,_)}function e0(s,t){if(i0(s=Bn(s)))return r0("Unsupported field value:",t,s),n0(s,t);if(s instanceof JT)return function(r,o){if(!t0(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,o){const c=[];let d=0;for(const m of r){let g=e0(m,o.Ku(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(s,t)}return function(r,o){if((r=Bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=be.fromDate(r);return{timestampValue:jc(o.serializer,c)}}if(r instanceof be){const c=new be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jc(o.serializer,c)}}if(r instanceof Jp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ka)return{bytesValue:ET(o.serializer,r._byteString)};if(r instanceof Ln){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof tm)return function(d,m){return{mapValue:{fields:{[YE]:{stringValue:XE},[Lc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return Vp(m.serializer,_)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${$p(r)}`)}(s,t)}function n0(s,t){const n={};return HE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(s,(r,o)=>{const c=e0(o,t.qu(r));c!=null&&(n[r]=c)}),{mapValue:{fields:n}}}function i0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof be||s instanceof Jp||s instanceof Ka||s instanceof Ln||s instanceof JT||s instanceof tm)}function r0(s,t,n){if(!i0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=$p(n);throw r==="an object"?t.Wu(s+" a custom object"):t.Wu(s+" "+r)}}function tC(s,t,n){if((t=Bn(t))instanceof Wp)return t._internalPath;if(typeof t=="string")return s0(s,t);throw Yc("Field path arguments must be of type string or ",s,!1,void 0,n)}const eC=new RegExp("[~\\*/\\[\\]]");function s0(s,t,n){if(t.search(eC)>=0)throw Yc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Wp(...t.split("."))._internalPath}catch{throw Yc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Yc(s,t,n,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new ot(X.INVALID_ARGUMENT,m+s+g)}function nC(s,t){return s.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,n,r,o,c){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(o0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iC extends a0{data(){return super.data()}}function o0(s,t){return typeof t=="string"?s0(s,t):t instanceof Wp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sC{convertValue(t,n="none"){switch(Lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ms(t,(o,c)=>{r[o]=this.convertValue(c,n)}),r}convertVectorValue(t){var n,r,o;const c=(o=(r=(n=t.fields)===null||n===void 0?void 0:n[Lc].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(d=>he(d.doubleValue));return new tm(c)}convertGeoPoint(t){return new Jp(he(t.latitude),he(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ah(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(t));default:return null}}convertTimestamp(t){const n=Pr(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);Ht(RT(r));const o=new wl(r.get(1),r.get(3)),c=new ut(r.popFirst(5));return o.isEqual(n)||Hi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(s,t,n){let r;return r=s?s.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oC extends a0{constructor(t,n,r,o,c,d){super(t,n,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(o0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cc extends oC{data(t={}){return super.data(t)}}class lC{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new gc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Cc(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const g=new Cc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new Cc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return m.type!==0&&(_=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),A=d.indexOf(m.doc.key)),{type:uC(m.type),doc:g,oldIndex:_,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}class cC extends sC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ka(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function hC(s){s=Qc(s,yh);const t=Qc(s.firestore,Zp),n=WT(t),r=new cC(t);return rC(s._query),GI(n,s._query).then(o=>new lC(t,r,s,o))}function fC(s,t){const n=Qc(s.firestore,Zp),r=ZT(s),o=aC(s.converter,t);return dC(n,[JI(WI(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,zi.exists(!1))]).then(()=>r)}function dC(s,t){return function(r,o){const c=new Vr;return r.asyncQueue.enqueueAndForget(async()=>OI(await HI(r),o,c)),c.promise}(WT(s),t)}(function(t,n=!0){(function(o){$a=o})(Xa),Ba(new Cs("firestore",(r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),m=new Zp(new $w(r.getProvider("auth-internal")),new Jw(d,r.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(_.options.projectId,A)}(d,o),d);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Nr(Y_,X_,t),Nr(Y_,X_,"esm2017")})();var pC="firebase",mC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(pC,mC,"app");function nm(s,t){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(n[r[o]]=s[r[o]]);return n}function l0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gC=l0,u0=new Ol("auth","Firebase",l0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new bp("@firebase/auth");function yC(s,...t){Xc.logLevel<=Dt.WARN&&Xc.warn(`Auth (${Xa}): ${s}`,...t)}function Dc(s,...t){Xc.logLevel<=Dt.ERROR&&Xc.error(`Auth (${Xa}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(s,...t){throw im(s,...t)}function oi(s,...t){return im(s,...t)}function c0(s,t,n){const r=Object.assign(Object.assign({},gC()),{[t]:n});return new Ol("auth","Firebase",r).create(t,{appName:s.name})}function Rs(s){return c0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function im(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return u0.create(s,...t)}function mt(s,t,...n){if(!s)throw im(t,...n)}function Li(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Dc(t),new Error(t)}function Fi(s,t){s||Li(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function _C(){return Gv()==="http:"||Gv()==="https:"}function Gv(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_C()||Ib()||"connection"in navigator)?navigator.onLine:!0}function EC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fi(n>t,"Short delay should be less than long delay!"),this.isMobile=bb()||Cb()}get(){return vC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(s,t){Fi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SC=new Pl(3e4,6e4);function sm(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function to(s,t,n,r,o={}){return f0(s,o,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const m=Nl(Object.assign({key:s.config.apiKey},d)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:t,headers:g},c);return Rb()||(_.referrerPolicy="no-referrer"),h0.fetch()(await d0(s,s.config.apiHost,n,m),_)})}async function f0(s,t,n){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},TC),t);try{const o=new wC(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw yc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw yc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw yc(s,"user-disabled",d);const A=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw c0(s,A,_);Gi(s,A)}}catch(o){if(o instanceof Ki)throw o;Gi(s,"network-request-failed",{message:String(o)})}}async function bC(s,t,n,r,o={}){const c=await to(s,t,n,r,o);return"mfaPendingCredential"in c&&Gi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function d0(s,t,n,r){const o=`${t}${n}?${r}`,c=s,d=c.config.emulator?rm(s.config,o):`${s.config.apiScheme}://${o}`;return AC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class wC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),SC.get())})}}function yc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=oi(s,t,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(s,t){return to(s,"POST","/v1/accounts:delete",t)}async function $c(s,t){return to(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function IC(s,t=!1){const n=Bn(s),r=await n.getIdToken(t),o=am(r);mt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:Tl(Bd(o.auth_time)),issuedAtTime:Tl(Bd(o.iat)),expirationTime:Tl(Bd(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Bd(s){return Number(s)*1e3}function am(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=AE(n);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Fv(s){const t=am(s);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ki&&CC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function CC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(s){var t;const n=s.auth,r=await s.getIdToken(),o=await Dl(s,$c(n,{idToken:r}));mt(o==null?void 0:o.users.length,n,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?p0(c.providerUserInfo):[],m=NC(s.providerData,d),g=s.isAnonymous,_=!(s.email&&c.passwordHash)&&!(m!=null&&m.length),A=g?_:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new gp(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(s,I)}async function OC(s){const t=Bn(s);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function NC(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function p0(s){return s.map(t=>{var{providerId:n}=t,r=nm(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(s,t){const n=await f0(s,{},async()=>{const r=Nl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await d0(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",h0.fetch()(d,{method:"POST",headers:m,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VC(s,t){return to(s,"POST","/v2/accounts:revokeToken",sm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Fv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const n=Fv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await MC(t,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,d=new Pa;return r&&(mt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),o&&(mt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(s,t){mt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class xn{constructor(t){var{uid:n,auth:r,stsTokenManager:o}=t,c=nm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new gp(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return IC(this,t)}reload(){return OC(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new xn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Rs(this.auth));const t=await this.getIdToken();return await Dl(this,RC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,o,c,d,m,g,_,A;const I=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,G=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(d=n.photoURL)!==null&&d!==void 0?d:void 0,it=(m=n.tenantId)!==null&&m!==void 0?m:void 0,W=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,At=(_=n.createdAt)!==null&&_!==void 0?_:void 0,Et=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ft,emailVerified:xt,isAnonymous:yt,providerData:Nt,stsTokenManager:N}=n;mt(ft&&N,t,"internal-error");const S=Pa.fromJSON(this.name,N);mt(typeof ft=="string",t,"internal-error"),Ar(I,t.name),Ar(x,t.name),mt(typeof xt=="boolean",t,"internal-error"),mt(typeof yt=="boolean",t,"internal-error"),Ar(G,t.name),Ar(Z,t.name),Ar(it,t.name),Ar(W,t.name),Ar(At,t.name),Ar(Et,t.name);const w=new xn({uid:ft,auth:t,email:x,emailVerified:xt,displayName:I,isAnonymous:yt,photoURL:Z,phoneNumber:G,tenantId:it,stsTokenManager:S,createdAt:At,lastLoginAt:Et});return Nt&&Array.isArray(Nt)&&(w.providerData=Nt.map(O=>Object.assign({},O))),W&&(w._redirectEventId=W),w}static async _fromIdTokenResponse(t,n,r=!1){const o=new Pa;o.updateFromServerResponse(n);const c=new xn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Zc(c),c}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];mt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?p0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new Pa;m.updateFromIdToken(r);const g=new xn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;function Bi(s){Fi(s instanceof Function,"Expected a class definition");let t=Kv.get(s);return t?(Fi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Kv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}m0.type="NONE";const Qv=m0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(s,t,n){return`firebase:${s}:${t}:${n}`}class xa{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Oc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Oc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await $c(this.auth,{idToken:t}).catch(()=>{});return n?xn._fromGetAccountInfoResponse(this.auth,n,t):null}return xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new xa(Bi(Qv),t,r);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Bi(Qv);const d=Oc(r,t.config.apiKey,t.name);let m=null;for(const _ of n)try{const A=await _._get(d);if(A){let I;if(typeof A=="string"){const x=await $c(t,{idToken:A}).catch(()=>{});if(!x)break;I=await xn._fromGetAccountInfoResponse(t,x,A)}else I=xn._fromJSON(t,A);_!==c&&(m=I),c=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new xa(c,t,r):(c=g[0],m&&await c._set(d,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new xa(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(v0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(g0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(T0(t))return"Blackberry";if(A0(t))return"Webos";if(y0(t))return"Safari";if((t.includes("chrome/")||_0(t))&&!t.includes("edge/"))return"Chrome";if(E0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function g0(s=Ye()){return/firefox\//i.test(s)}function y0(s=Ye()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _0(s=Ye()){return/crios\//i.test(s)}function v0(s=Ye()){return/iemobile/i.test(s)}function E0(s=Ye()){return/android/i.test(s)}function T0(s=Ye()){return/blackberry/i.test(s)}function A0(s=Ye()){return/webos/i.test(s)}function om(s=Ye()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function kC(s=Ye()){var t;return om(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function UC(){return Db()&&document.documentMode===10}function S0(s=Ye()){return om(s)||E0(s)||A0(s)||T0(s)||/windows phone/i.test(s)||v0(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(s,t=[]){let n;switch(s){case"Browser":n=Yv(Ye());break;case"Worker":n=`${Yv(Ye())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=c=>new Promise((d,m)=>{try{const g=t(c);d(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(s,t={}){return to(s,"GET","/v2/passwordPolicy",sm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=6;class BC{constructor(t){var n,r,o,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:LC,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,o,c,d,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xv(this),this.idTokenSubscription=new Xv(this),this.beforeStateQueue=new PC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await xa.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await $c(this,{idToken:t}),r=await xn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ri(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!d||d===m)&&(g!=null&&g.user)&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=EC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ri(this.app))return Promise.reject(Rs(this));const n=t?Bn(t):null;return n&&mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ri(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await xC(this),n=new BC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VC(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Bi(t)||this._popupRedirectResolver;mt(n,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,r,o);return()=>{d=!0,g()}}else{const g=t.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=b0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&yC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function lm(s){return Bn(s)}class Xv{constructor(t){this.auth=t,this.observer=null,this.addObserver=xb(n=>this.observer=n)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qC(s){um=s}function HC(s){return um.loadJS(s)}function jC(){return um.gapiScript}function GC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(s,t){const n=Rp(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Is(c,t??{}))return o;Gi(o,"already-initialized")}return n.initialize({options:t})}function KC(s,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bi);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function QC(s,t,n){const r=lm(s);mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,c=w0(t),{host:d,port:m}=YC(t),g=m===null?"":`:${m}`,_={url:`${c}//${d}${g}/`},A=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mt(Is(_,r.config.emulator)&&Is(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,XC()}function w0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function YC(s){const t=w0(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:$v(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:$v(d)}}}function $v(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function XC(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Li("not implemented")}_getIdTokenResponse(t){return Li("not implemented")}_linkToIdToken(t,n){return Li("not implemented")}_getReauthenticationResolver(t){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(s,t){return bC(s,"POST","/v1/accounts:signInWithIdp",sm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="http://localhost";class Ns extends R0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o}=n,c=nm(n,["providerId","signInMethod"]);if(!r||!o)return null;const d=new Ns(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return La(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,La(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,La(t,n)}buildRequest(){const t={requestUri:$C,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Nl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends I0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends xl{constructor(){super("facebook.com")}static credential(t){return Ns._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ns._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends xl{constructor(){super("github.com")}static credential(t){return Ns._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends xl{constructor(){super("twitter.com")}static credential(t,n){return Ns._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const c=await xn._fromIdTokenResponse(t,r,o),d=Zv(r);return new Qa({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=Zv(r);return new Qa({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function Zv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Ki{constructor(t,n,r,o){var c;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new Wc(t,n,r,o)}}function C0(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(s,c,t,r):c})}async function ZC(s,t,n=!1){const r=await Dl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Qa._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(s,t,n=!1){const{auth:r}=s;if(ri(r.app))return Promise.reject(Rs(r));const o="reauthenticate";try{const c=await Dl(s,C0(r,o,t,s),n);mt(c.idToken,r,"internal-error");const d=am(c.idToken);mt(d,r,"internal-error");const{sub:m}=d;return mt(s.uid===m,r,"user-mismatch"),Qa._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Gi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(s,t,n=!1){if(ri(s.app))return Promise.reject(Rs(s));const r="signIn",o=await C0(s,r,t),c=await Qa._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}function tD(s,t,n,r){return Bn(s).onIdTokenChanged(t,n,r)}function eD(s,t,n){return Bn(s).beforeAuthStateChanged(t,n)}const Jc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=1e3,iD=10;class O0 extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);UC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,iD):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}O0.type="LOCAL";const rD=O0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}N0.type="SESSION";const M0=N0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new _h(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(d).map(async _=>_(n.origin,c)),g=await sD(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,g)=>{const _=cm("",20);o.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(I){const x=I;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(x.data.response);break;default:clearTimeout(A),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function oD(s){li().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function lD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uD(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function cD(){return V0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="firebaseLocalStorageDb",hD=1,th="firebaseLocalStorage",U0="fbase_key";class Ll{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(s,t){return s.transaction([th],t?"readwrite":"readonly").objectStore(th)}function fD(){const s=indexedDB.deleteDatabase(k0);return new Ll(s).toPromise()}function yp(){const s=indexedDB.open(k0,hD);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(th,{keyPath:U0})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(th)?t(r):(r.close(),await fD(),t(await yp()))})})}async function Wv(s,t,n){const r=vh(s,!0).put({[U0]:t,value:n});return new Ll(r).toPromise()}async function dD(s,t){const n=vh(s,!1).get(t),r=await new Ll(n).toPromise();return r===void 0?null:r.value}function Jv(s,t){const n=vh(s,!0).delete(t);return new Ll(n).toPromise()}const pD=800,mD=3;class P0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>mD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(cD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await lD(),!this.activeServiceWorker)return;this.sender=new aD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yp();return await Wv(t,Jc,"1"),await Jv(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wv(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>dD(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=vh(o,!1).getAll();return new Ll(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P0.type="LOCAL";const gD=P0;new Pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(s,t){return t?Bi(t):(mt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends R0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return La(t,this._buildIdpRequest())}_linkToIdToken(t,n){return La(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return La(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function _D(s){return JC(s.auth,new hm(s),s.bypassAuthState)}function vD(s){const{auth:t,user:n}=s;return mt(n,t,"internal-error"),WC(n,new hm(s),s.bypassAuthState)}async function ED(s){const{auth:t,user:n}=s;return mt(n,t,"internal-error"),ZC(n,new hm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,n,r,o,c=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:d,type:m}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _D;case"linkViaPopup":case"linkViaRedirect":return ED;case"reauthViaPopup":case"reauthViaRedirect":return vD;default:Gi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Pl(2e3,1e4);class Va extends x0{constructor(t,n,r,o,c){super(t,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,TD.get())};t()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="pendingRedirect",Nc=new Map;class SD extends x0{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Nc.get(this.auth._key());if(!t){try{const r=await bD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Nc.set(this.auth._key(),t)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bD(s,t){const n=ID(t),r=RD(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function wD(s,t){Nc.set(s._key(),t)}function RD(s){return Bi(s._redirectPersistence)}function ID(s){return Oc(AD,s.config.apiKey,s.name)}async function CD(s,t,n=!1){if(ri(s.app))return Promise.reject(Rs(s));const r=lm(s),o=yD(r,t),d=await new SD(r,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=10*60*1e3;class OD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ND(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!L0(t)){const o=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DD&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(t))}saveEventToCache(t){this.cachedEventUids.add(tE(t)),this.lastProcessedEventTime=Date.now()}}function tE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function L0({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ND(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(s,t={}){return to(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kD=/^https?/;async function UD(s){if(s.config.emulator)return;const{authorizedDomains:t}=await MD(s);for(const n of t)try{if(PD(n))return}catch{}Gi(s,"unauthorized-domain")}function PD(s){const t=mp(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!kD.test(n))return!1;if(VD.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Pl(3e4,6e4);function eE(){const s=li().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function LD(s){return new Promise((t,n)=>{var r,o,c;function d(){eE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{eE(),n(oi(s,"network-request-failed"))},timeout:xD.get()})}if(!((o=(r=li().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((c=li().gapi)===null||c===void 0)&&c.load)d();else{const m=GC("iframefcb");return li()[m]=()=>{gapi.load?d():n(oi(s,"network-request-failed"))},HC(`${jC()}?onload=${m}`).catch(g=>n(g))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function BD(s){return Mc=Mc||LD(s),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Pl(5e3,15e3),qD="__/auth/iframe",HD="emulator/auth/iframe",jD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FD(s){const t=s.config;mt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?rm(t,HD):`https://${s.config.authDomain}/${qD}`,r={apiKey:t.apiKey,appName:s.name,v:Xa},o=GD.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Nl(r).slice(1)}`}async function KD(s){const t=await BD(s),n=li().gapi;return mt(n,s,"internal-error"),t.open({where:document.body,url:FD(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jD,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=oi(s,"network-request-failed"),m=li().setTimeout(()=>{c(d)},zD.get());function g(){li().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YD=500,XD=600,$D="_blank",ZD="http://localhost";class nE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WD(s,t,n,r=YD,o=XD){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g=Object.assign(Object.assign({},QD),{width:r.toString(),height:o.toString(),top:c,left:d}),_=Ye().toLowerCase();n&&(m=_0(_)?$D:n),g0(_)&&(t=t||ZD,g.scrollbars="yes");const A=Object.entries(g).reduce((x,[G,Z])=>`${x}${G}=${Z},`,"");if(kC(_)&&m!=="_self")return JD(t||"",m),new nE(null);const I=window.open(t||"",m,A);mt(I,s,"popup-blocked");try{I.focus()}catch{}return new nE(I)}function JD(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="__/auth/handler",eO="emulator/auth/handler",nO=encodeURIComponent("fac");async function iE(s,t,n,r,o,c){mt(s.config.authDomain,s,"auth-domain-config-required"),mt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Xa,eventId:o};if(t instanceof I0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",Pb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof xl){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const m=d;for(const A of Object.keys(m))m[A]===void 0&&delete m[A];const g=await s._getAppCheckToken(),_=g?`#${nO}=${encodeURIComponent(g)}`:"";return`${iO(s)}?${Nl(m).slice(1)}${_}`}function iO({config:s}){return s.emulator?rm(s,eO):`https://${s.authDomain}/${tO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="webStorageSupport";class rO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M0,this._completeRedirectFn=CD,this._overrideRedirectResult=wD}async _openPopup(t,n,r,o){var c;Fi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await iE(t,n,r,mp(),o);return WD(t,d,cm())}async _openRedirect(t,n,r,o){await this._originValidation(t);const c=await iE(t,n,r,mp(),o);return oD(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Fi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await KD(t),r=new OD(t);return n.register("authEvent",o=>(mt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(zd,{type:zd},o=>{var c;const d=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[zd];d!==void 0&&n(!!d),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return S0()||y0()||om()}}const sO=rO;var rE="@firebase/auth",sE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lO(s){Ba(new Cs("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b0(s)},_=new zC(r,o,c,g);return KC(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ba(new Cs("auth-internal",t=>{const n=lm(t.getProvider("auth").getImmediate());return(r=>new aO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(rE,sE,oO(s)),Nr(rE,sE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=5*60,cO=wE("authIdTokenMaxAge")||uO;let aE=null;const hO=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cO)return;const o=n==null?void 0:n.token;aE!==o&&(aE=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fO(s=DE()){const t=Rp(s,"auth");if(t.isInitialized())return t.getImmediate();const n=FC(s,{popupRedirectResolver:sO,persistence:[gD,rD,M0]}),r=wE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=hO(c.toString());eD(n,d,()=>d(n.currentUser)),tD(n,m=>d(m))}}const o=SE("auth");return o&&QC(n,`http://${o}`),n}function dO(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}qC({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const c=oi("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",dO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lO("Browser");const pO={apiKey:"AIzaSyBHrajjlaXgJfuBR6LbxruspnUWyW71Ngc",authDomain:"chatr-b037d.firebaseapp.com",projectId:"chatr-b037d",storageBucket:"chatr-b037d.appspot.com",messagingSenderId:"825544780245",appId:"1:825544780245:web:e7544d54f35b519d2a355c"},B0=CE(pO),Vc=QI(B0);fO(B0);const qd=Ac("/");ZT(Vc,"documentos","mensajes");function mO(){console.log("Firestore db:",Vc);const[s,t]=Ca.useState(""),[n,r]=Ca.useState([]),o=Ca.useRef(null),c=()=>{var _;(_=o.current)==null||_.scrollIntoView({behavior:"smooth"})},d=async _=>{try{const I=(await hC(qv(Vc,"mensajes"))).docs.map(G=>G.data());console.log("Mensajes:",I[0].fecha.toDate().toString()),console.log(I),I.sort((G,Z)=>G.fecha.toDate()-Z.fecha.toDate());const x=I.map(G=>({cuerpo:G.texto,fecha:G.fecha.toDate().getHours().toString()+":"+G.fecha.toDate().getMinutes().toString(),fechaRecibido:G.fecha.toDate().getDate()+"/"+(G.fecha.toDate().getMonth()+1)+"/"+G.fecha.toDate().getFullYear()}));r(x),console.log(n)}catch(A){console.error("Error al enviar mensaje: ",A)}},m=async _=>{_.preventDefault();const A=new Date,I={cuerpo:s,from:"Yo",fecha:A.getHours().toString()+":"+A.getMinutes().toString()};r([...n,I]),qd.emit("message",s);try{await fC(qv(Vc,"mensajes"),{texto:s,id:I.from,fecha:A}),t("")}catch(x){console.error("Error al enviar mensaje: ",x)}};Ca.useEffect(()=>(d(),qd.on("message",g),()=>{qd.off("message",g)}),[]),Ca.useEffect(()=>{c()},[n]);const g=_=>r(A=>[...A,_]);return Rn.jsx("div",{className:"bg-zinc-800 text-white flex items-center justify-center ",children:Rn.jsxs("form",{onSubmit:m,className:"bg-zinc-400 items-center pb-10   w-full  flex flex-col ",children:[Rn.jsxs("ul",{className:"h-auto   mb-2 overflow-y-auto w-[90%]",children:[n.map((_,A)=>Rn.jsx(Rn.Fragment,{children:Rn.jsxs("li",{className:`my-2 p-2 rounded-[10px] flex  w-min  text-sm  ${_.from==="Yo"?"bg-sky-700 ml-auto":"bg-black"}`,children:[Rn.jsx("span",{className:"w-min  flex items-center inline-flex h-min",children:_.cuerpo}),Rn.jsx("span",{className:" w-min  inline-block  h-fit mt-auto ml-3",children:_.fecha})]},A)})),Rn.jsx("div",{ref:o})]}),Rn.jsx("input",{type:"text",className:"border-2 rounded-[10px] bg-gray-700  border-zinc-500  p-2 w-[90%] fixed bottom-0 mb-1",placeholder:"write message",onChange:_=>t(_.target.value),value:s})]})})}vS.createRoot(document.getElementById("root")).render(Rn.jsx(Ca.StrictMode,{children:Rn.jsx(mO,{})}));
